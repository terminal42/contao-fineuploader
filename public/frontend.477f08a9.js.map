{"version":3,"sources":["webpack://contao-fineuploader/./assets/frontend.js","webpack://contao-fineuploader/./assets/handler.js","webpack://contao-fineuploader/./node_modules/core-js/internals/a-function.js","webpack://contao-fineuploader/./node_modules/core-js/internals/a-possible-prototype.js","webpack://contao-fineuploader/./node_modules/core-js/internals/add-to-unscopables.js","webpack://contao-fineuploader/./node_modules/core-js/internals/advance-string-index.js","webpack://contao-fineuploader/./node_modules/core-js/internals/an-object.js","webpack://contao-fineuploader/./node_modules/core-js/internals/array-for-each.js","webpack://contao-fineuploader/./node_modules/core-js/internals/array-from.js","webpack://contao-fineuploader/./node_modules/core-js/internals/array-includes.js","webpack://contao-fineuploader/./node_modules/core-js/internals/array-iteration.js","webpack://contao-fineuploader/./node_modules/core-js/internals/array-method-has-species-support.js","webpack://contao-fineuploader/./node_modules/core-js/internals/array-method-is-strict.js","webpack://contao-fineuploader/./node_modules/core-js/internals/array-species-create.js","webpack://contao-fineuploader/./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack://contao-fineuploader/./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack://contao-fineuploader/./node_modules/core-js/internals/classof-raw.js","webpack://contao-fineuploader/./node_modules/core-js/internals/classof.js","webpack://contao-fineuploader/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://contao-fineuploader/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://contao-fineuploader/./node_modules/core-js/internals/create-iterator-constructor.js","webpack://contao-fineuploader/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://contao-fineuploader/./node_modules/core-js/internals/create-property-descriptor.js","webpack://contao-fineuploader/./node_modules/core-js/internals/create-property.js","webpack://contao-fineuploader/./node_modules/core-js/internals/define-iterator.js","webpack://contao-fineuploader/./node_modules/core-js/internals/define-well-known-symbol.js","webpack://contao-fineuploader/./node_modules/core-js/internals/descriptors.js","webpack://contao-fineuploader/./node_modules/core-js/internals/document-create-element.js","webpack://contao-fineuploader/./node_modules/core-js/internals/dom-iterables.js","webpack://contao-fineuploader/./node_modules/core-js/internals/engine-user-agent.js","webpack://contao-fineuploader/./node_modules/core-js/internals/engine-v8-version.js","webpack://contao-fineuploader/./node_modules/core-js/internals/enum-bug-keys.js","webpack://contao-fineuploader/./node_modules/core-js/internals/export.js","webpack://contao-fineuploader/./node_modules/core-js/internals/fails.js","webpack://contao-fineuploader/./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://contao-fineuploader/./node_modules/core-js/internals/function-bind-context.js","webpack://contao-fineuploader/./node_modules/core-js/internals/get-built-in.js","webpack://contao-fineuploader/./node_modules/core-js/internals/get-iterator-method.js","webpack://contao-fineuploader/./node_modules/core-js/internals/get-substitution.js","webpack://contao-fineuploader/./node_modules/core-js/internals/global.js","webpack://contao-fineuploader/./node_modules/core-js/internals/has.js","webpack://contao-fineuploader/./node_modules/core-js/internals/hidden-keys.js","webpack://contao-fineuploader/./node_modules/core-js/internals/html.js","webpack://contao-fineuploader/./node_modules/core-js/internals/ie8-dom-define.js","webpack://contao-fineuploader/./node_modules/core-js/internals/indexed-object.js","webpack://contao-fineuploader/./node_modules/core-js/internals/inspect-source.js","webpack://contao-fineuploader/./node_modules/core-js/internals/internal-state.js","webpack://contao-fineuploader/./node_modules/core-js/internals/is-array-iterator-method.js","webpack://contao-fineuploader/./node_modules/core-js/internals/is-array.js","webpack://contao-fineuploader/./node_modules/core-js/internals/is-forced.js","webpack://contao-fineuploader/./node_modules/core-js/internals/is-object.js","webpack://contao-fineuploader/./node_modules/core-js/internals/is-pure.js","webpack://contao-fineuploader/./node_modules/core-js/internals/is-regexp.js","webpack://contao-fineuploader/./node_modules/core-js/internals/iterator-close.js","webpack://contao-fineuploader/./node_modules/core-js/internals/iterators-core.js","webpack://contao-fineuploader/./node_modules/core-js/internals/iterators.js","webpack://contao-fineuploader/./node_modules/core-js/internals/native-symbol.js","webpack://contao-fineuploader/./node_modules/core-js/internals/native-weak-map.js","webpack://contao-fineuploader/./node_modules/core-js/internals/object-create.js","webpack://contao-fineuploader/./node_modules/core-js/internals/object-define-properties.js","webpack://contao-fineuploader/./node_modules/core-js/internals/object-define-property.js","webpack://contao-fineuploader/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://contao-fineuploader/./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack://contao-fineuploader/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://contao-fineuploader/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://contao-fineuploader/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://contao-fineuploader/./node_modules/core-js/internals/object-keys-internal.js","webpack://contao-fineuploader/./node_modules/core-js/internals/object-keys.js","webpack://contao-fineuploader/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://contao-fineuploader/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://contao-fineuploader/./node_modules/core-js/internals/object-to-string.js","webpack://contao-fineuploader/./node_modules/core-js/internals/own-keys.js","webpack://contao-fineuploader/./node_modules/core-js/internals/path.js","webpack://contao-fineuploader/./node_modules/core-js/internals/redefine.js","webpack://contao-fineuploader/./node_modules/core-js/internals/regexp-exec-abstract.js","webpack://contao-fineuploader/./node_modules/core-js/internals/regexp-exec.js","webpack://contao-fineuploader/./node_modules/core-js/internals/regexp-flags.js","webpack://contao-fineuploader/./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://contao-fineuploader/./node_modules/core-js/internals/regexp-unsupported-dot-all.js","webpack://contao-fineuploader/./node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack://contao-fineuploader/./node_modules/core-js/internals/require-object-coercible.js","webpack://contao-fineuploader/./node_modules/core-js/internals/set-global.js","webpack://contao-fineuploader/./node_modules/core-js/internals/set-to-string-tag.js","webpack://contao-fineuploader/./node_modules/core-js/internals/shared-key.js","webpack://contao-fineuploader/./node_modules/core-js/internals/shared-store.js","webpack://contao-fineuploader/./node_modules/core-js/internals/shared.js","webpack://contao-fineuploader/./node_modules/core-js/internals/species-constructor.js","webpack://contao-fineuploader/./node_modules/core-js/internals/string-multibyte.js","webpack://contao-fineuploader/./node_modules/core-js/internals/to-absolute-index.js","webpack://contao-fineuploader/./node_modules/core-js/internals/to-indexed-object.js","webpack://contao-fineuploader/./node_modules/core-js/internals/to-integer.js","webpack://contao-fineuploader/./node_modules/core-js/internals/to-length.js","webpack://contao-fineuploader/./node_modules/core-js/internals/to-object.js","webpack://contao-fineuploader/./node_modules/core-js/internals/to-primitive.js","webpack://contao-fineuploader/./node_modules/core-js/internals/to-string-tag-support.js","webpack://contao-fineuploader/./node_modules/core-js/internals/uid.js","webpack://contao-fineuploader/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://contao-fineuploader/./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack://contao-fineuploader/./node_modules/core-js/internals/well-known-symbol.js","webpack://contao-fineuploader/./node_modules/core-js/modules/es.array.from.js","webpack://contao-fineuploader/./node_modules/core-js/modules/es.array.iterator.js","webpack://contao-fineuploader/./node_modules/core-js/modules/es.array.join.js","webpack://contao-fineuploader/./node_modules/core-js/modules/es.array.splice.js","webpack://contao-fineuploader/./node_modules/core-js/modules/es.function.name.js","webpack://contao-fineuploader/./node_modules/core-js/modules/es.object.to-string.js","webpack://contao-fineuploader/./node_modules/core-js/modules/es.regexp.exec.js","webpack://contao-fineuploader/./node_modules/core-js/modules/es.string.iterator.js","webpack://contao-fineuploader/./node_modules/core-js/modules/es.string.replace.js","webpack://contao-fineuploader/./node_modules/core-js/modules/es.string.split.js","webpack://contao-fineuploader/./node_modules/core-js/modules/es.symbol.description.js","webpack://contao-fineuploader/./node_modules/core-js/modules/es.symbol.iterator.js","webpack://contao-fineuploader/./node_modules/core-js/modules/es.symbol.js","webpack://contao-fineuploader/./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack://contao-fineuploader/./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack://contao-fineuploader/./node_modules/fine-uploader/fine-uploader/fine-uploader.js","webpack://contao-fineuploader/./node_modules/fine-uploader/lib/traditional.js","webpack://contao-fineuploader/webpack/bootstrap","webpack://contao-fineuploader/webpack/runtime/amd options","webpack://contao-fineuploader/webpack/runtime/compat get default export","webpack://contao-fineuploader/webpack/runtime/define property getters","webpack://contao-fineuploader/webpack/runtime/global","webpack://contao-fineuploader/webpack/runtime/harmony module decorator","webpack://contao-fineuploader/webpack/runtime/hasOwnProperty shorthand","webpack://contao-fineuploader/webpack/startup"],"names":["root","factory","global","window","defaults","ajaxActionName","ajaxUrl","errorMessage","Plugin","container","config","options","item","this","settings","JSON","parse","stringify","hasOwnProperty","initUploader","makeSortable","prototype","configCallback","bind","uploader","ContaoFineUploader","initFineUploader","callbacks","onComplete","onCompleteCallback","sortable","ajaxContainer","querySelector","Sortable","dataIdAttr","store","get","field","value","split","set","toArray","join","id","name","result","success","apply","arguments","fineUploader","getInProgress","classList","add","request","XMLHttpRequest","open","location","href","setRequestHeader","onload","status","setAjaxContainerContent","response","alert","remove","onerror","send","currentValue","form","define","exports","module","ContaoFineUploaderFrontend","ajaxContainerSelector","deleteButtonsSelector","fieldSelector","itemSelector","uploaderSelector","initEnvironment","bindFormEventListeners","submitForm","deleteButtons","querySelectorAll","items","bindDeleteEventListeners","element","debug","template","endpoint","inputName","params","action","REQUEST_TOKEN","failedUploadTextDisplay","mode","maxChars","responseProperty","onValidateBatch","onStatusChange","maxConnections","chunking","enabled","partSize","chunkSize","concurrent","extensions","minSizeLimit","sizeLimit","validation","allowedExtensions","minWidth","maxWidth","minHeight","maxHeight","image","uploadButtonTitle","text","fileInputTitle","messages","Array","isArray","FineUploader","buffer","innerHTML","self","from","forEach","el","addEventListener","e","preventDefault","deleteFile","dataset","deleteId","files","count","length","limit","clearStoredFiles","_batchError","_options","tooManyItemsError","replace","document","button","disabled","file","i","current","splice","itemId","parentElement","removeChild","it","TypeError","String","isObject","wellKnownSymbol","create","definePropertyModule","UNSCOPABLES","ArrayPrototype","undefined","f","configurable","key","charAt","S","index","unicode","$forEach","STRICT_METHOD","arrayMethodIsStrict","callbackfn","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","toLength","createProperty","getIteratorMethod","arrayLike","step","iterator","next","O","C","argumentsLength","mapfn","mapping","iteratorMethod","call","done","toIndexedObject","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","fromIndex","includes","indexOf","IndexedObject","arraySpeciesCreate","push","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","that","specificCreate","boundFunction","target","map","filter","some","every","find","findIndex","filterOut","fails","V8_VERSION","SPECIES","METHOD_NAME","array","constructor","foo","Boolean","argument","method","originalArray","anObject","iteratorClose","fn","ENTRIES","error","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","exec","SKIP_CLOSING","ITERATION_SUPPORT","object","toString","slice","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","CORRECT_ARGUMENTS","tag","tryGet","Object","callee","has","ownKeys","getOwnPropertyDescriptorModule","source","keys","defineProperty","getOwnPropertyDescriptor","F","getPrototypeOf","IteratorPrototype","createPropertyDescriptor","setToStringTag","Iterators","returnThis","IteratorConstructor","NAME","DESCRIPTORS","bitmap","enumerable","writable","toPrimitive","propertyKey","$","createIteratorConstructor","setPrototypeOf","createNonEnumerableProperty","redefine","IS_PURE","IteratorsCore","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","Iterable","DEFAULT","IS_SET","FORCED","CurrentIteratorPrototype","methods","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","values","proto","forced","path","wrappedWellKnownSymbolModule","Symbol","EXISTS","createElement","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","getBuiltIn","match","version","userAgent","process","versions","v8","setGlobal","copyConstructorProperties","isForced","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","sham","regexpExec","RegExpPrototype","RegExp","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","re","flags","nativeRegExpMethod","nativeMethod","regexp","str","arg2","forceStringMethod","$exec","aFunction","a","b","c","variable","namespace","classof","floor","Math","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","position","captures","namedCaptures","replacement","tailPos","m","symbols","ch","capture","n","check","globalThis","g","Function","hasOwn","propertyIsEnumerable","functionToString","inspectSource","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","state","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","type","arg","feature","detection","data","normalize","POLYFILL","NATIVE","string","toLowerCase","MATCH","isRegExp","returnMethod","PrototypeOfArrayIteratorPrototype","arrayIterator","NEW_ITERATOR_PROTOTYPE","test","getOwnPropertySymbols","symbol","activeXDocument","defineProperties","enumBugKeys","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObject","domain","ActiveXObject","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","style","display","appendChild","src","contentWindow","Properties","objectKeys","IE8_DOM_DEFINE","$defineProperty","P","Attributes","propertyIsEnumerableModule","$getOwnPropertyDescriptor","$getOwnPropertyNames","windowNames","getOwnPropertyNames","getWindowNames","internalObjectKeys","concat","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","names","$propertyIsEnumerable","NASHORN_BUG","1","V","aPossiblePrototype","setter","CORRECT_SETTER","__proto__","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","InternalStateModule","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","R","re1","re2","regexpFlags","stickyHelpers","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","reCopy","group","raw","groups","sticky","charsAdded","strCopy","multiline","input","ignoreCase","dotAll","RE","s","TAG","uid","SHARED","copyright","defaultConstructor","toInteger","requireObjectCoercible","CONVERT_TO_STRING","pos","first","second","size","charCodeAt","codeAt","max","min","integer","ceil","isNaN","PREFERRED_STRING","val","valueOf","postfix","random","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","checkCorrectnessOfIteration","iterable","addToUnscopables","defineIterator","ARRAY_ITERATOR","setInternalState","iterated","kind","Arguments","nativeJoin","ES3_STRINGS","separator","HAS_SPECIES_SUPPORT","arrayMethodHasSpeciesSupport","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","start","deleteCount","insertCount","actualDeleteCount","A","k","to","len","actualStart","FunctionPrototype","FunctionPrototypeToString","nameRE","STRING_ITERATOR","point","fixRegExpWellKnownSymbolLogic","advanceStringIndex","getSubstitution","regExpExec","REPLACE","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","_","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","res","rx","functionalReplace","fullUnicode","results","accumulatedResult","nextSourcePosition","j","replacerArgs","speciesConstructor","callRegExpExec","arrayPush","MAX_UINT32","SPLIT","nativeSplit","internalSplit","lim","lastLength","output","lastLastIndex","separatorCopy","splitter","unicodeMatching","p","q","z","originalExec","NativeSymbol","description","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","desc","defineWellKnownSymbol","nativeObjectCreate","getOwnPropertyNamesExternal","HIDDEN","TO_PRIMITIVE","$Symbol","$stringify","nativeGetOwnPropertyDescriptor","nativeDefineProperty","nativeGetOwnPropertyNames","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","wrap","isSymbol","$defineProperties","properties","$getOwnPropertySymbols","IS_OBJECT_PROTOTYPE","keyFor","sym","useSetter","useSimple","space","$replacer","args","DOMIterables","COLLECTION_NAME","Collection","CollectionPrototype","ArrayIteratorMethods","ArrayValues","qq","hide","attach","attachEvent","detach","removeEventListener","detachEvent","contains","descendant","compareDocumentPosition","insertBefore","elementB","parentNode","css","styles","Error","opacity","filters","round","extend","hasClass","considerParent","className","addClass","removeClass","getByClass","candidates","getElementsByTagName","each","idx","getFirstByClass","children","child","firstChild","nodeType","nextSibling","setText","innerText","textContent","clearText","hasAttribute","attrName","attrVal","getAttribute","ExifRestorer","div","canvasToBlob","canvas","mime","quality","dataUriToBlob","toDataURL","dataUri","arrayBuffer","byteString","intArray","mimeString","BlobBuilder","blobBuilder","atob","decodeURI","ArrayBuffer","Uint8Array","character","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","append","getBlob","Blob","log","message","level","console","isFunction","isItemList","maybeItemList","isNodeList","maybeNodeList","namedItem","isString","maybeString","trimStr","trim","format","newStr","nextIdxToReplace","strBefore","substring","strAfter","isFile","maybeFile","File","isFileList","maybeFileList","isFileOrInput","maybeFileOrInput","isInput","maybeInput","notFile","evaluateType","normalizedType","HTMLInputElement","tagName","isBlob","maybeBlob","isXhrUploadSupported","multiple","FormData","createXhrInstance","upload","isFolderDropSupported","dataTransfer","webkitGetAsEntry","isFileChunkingSupported","androidStock","webkitSlice","mozSlice","sliceBlob","fileOrBlob","end","arrayBufferToHex","bytesAsHex","bytes","byt","byteAsHexStr","readBlobToHex","blob","startOffset","initialBlob","fileReader","FileReader","promise","Promise","failure","readAsArrayBuffer","extendNested","prop","override","sourceFn","super_","srcPropName","srcPropVal","arr","elt","getUniqueId","r","ie","navigator","ie7","ie8","ie10","ie11","edge","safari","vendor","chrome","opera","firefox","windows","platform","android","ios6","ios","ios7","ios8","ios800","iosChrome","iosSafari","iosSafariWebView","returnValue","toElement","iterableItem","callback","keyOrIndex","Storage","getItem","oldFunc","context","newArgs","obj2url","obj","prefixDone","uristrings","prefix","nextObj","nextTemp","encodeURIComponent","obj2FormData","formData","arrayKeyName","obj2Inputs","setAttribute","parseJson","json","eval","getExtension","filename","extIdx","lastIndexOf","substr","getFilename","blobOrFileInput","fileName","DisposeSupport","disposers","dispose","disposer","shift","addDisposer","disposeFunction","supportedFeatures","supportsUploading","supportsUploadingBlobs","supportsFileDrop","supportsAjaxFileUploading","supportsFolderDrop","supportsChunking","supportsResume","supportsUploadViaPaste","supportsUploadCors","supportsDeleteFileXdr","supportsDeleteFileCorsXhr","supportsDeleteFileCors","supportsFolderSelection","supportsImagePreviews","supportsUploadProgress","span","isCrossOriginXhrSupported","withCredentials","isXdrSupported","XDomainRequest","tempInput","supported","ex","testSupportsFileInputElement","localStorage","setItem","isLocalStorageSupported","postMessage","webkitdirectory","ajaxUploading","blobUploading","canDetermineSize","deleteFileCors","deleteFileCorsXdr","deleteFileCorsXhr","dialogElement","HTMLDialogElement","fileDrop","folderDrop","folderSelection","imagePreviews","imageValidation","itemSizeValidation","pause","progressBar","resume","scaling","tiffPreviews","unlimitedScaledImageSize","uploading","uploadCors","uploadCustomHeaders","uploadNonMultipart","uploadViaPaste","isGenericPromise","maybePromise","then","successArgs","failureArgs","successCallbacks","failureCallbacks","doneCallbacks","onSuccess","onFailure","BlobProxy","referenceBlob","onCreate","UploadButton","o","buttonId","disposeSupport","acceptFiles","focusClass","folders","hoverClass","ios8BrowserCrashWorkaround","onChange","title","createInput","BUTTON_ID_ATTR_NAME","setMultiple","right","top","fontFamily","fontSize","margin","padding","cursor","height","overflow","direction","getInput","getButtonId","isMultiple","optInput","removeAttribute","setAcceptFiles","reset","UploadData","uploaderProxy","byUuid","byStatus","byProxyGroupId","byBatchId","getDataByIds","idOrIds","addFile","spec","SUBMITTING","originalName","uuid","batchId","proxyGroupId","onBeforeStatusChange","retrieve","optionalFilter","uuids","getDataByUuids","statusResults","statuses","statusEnum","statusResultIndexes","dataIndex","removeFileRef","record","setStatus","newStatus","oldStatus","byStatusOldStatusIndex","uuidChanged","newUuid","oldUuid","updateName","newName","updateSize","newSize","setParentId","targetId","parentId","getIdsInProxyGroup","getIdsInBatch","SUBMITTED","REJECTED","QUEUED","CANCELED","PAUSED","UPLOADING","UPLOAD_FINALIZING","UPLOAD_RETRYING","UPLOAD_SUCCESSFUL","UPLOAD_FAILED","DELETE_FAILED","DELETING","DELETED","basePublicApi","addBlobs","blobDataOrArray","addFiles","addInitialFiles","cannedFileList","cannedFile","_addCannedFile","_maybeHandleIos8SafariWorkaround","_storedIds","_currentBatchId","processBlob","_handleNewFile","blobs","defaultName","verifiedFiles","processBlobData","blobData","processCanvas","processCanvasData","canvasData","normalizedQuality","processFileOrInput","fileOrInput","fileContainer","_prepareItemsForUpload","cancel","uploadData","_uploadData","getName","_handler","cancelAll","storedIdsCopy","storedFileId","continueUpload","_uploadFile","_onSubmitDelete","doesExist","fileOrBlobId","isValid","drawThumbnail","fileId","imgOrCanvas","maxSize","fromServer","customResizeFunction","fileOrUrl","promiseToReturn","_imageGenerator","_thumbnailUrls","scale","getFile","generate","modifiedContainer","reason","getButton","_getButton","_buttonIdsForFileIds","getEndpoint","_endpointStore","uploadDataRecord","getParentId","uploadDataEntry","getUploads","getResumableFilesData","getSize","getNetUploads","_netUploaded","getRemainingAllowedItems","allowedItems","_currentItemLimit","_netUploadedOrQueued","getUuid","isResumable","hasResumeRecord","pauseUpload","expunge","_autoRetries","_retryTimeouts","_preventRetries","_buttons","_paramsStore","_pasteHandler","session","refreshOnReset","_refreshSessionData","_succeededSinceLastAllComplete","_failedSinceLastAllComplete","_totalProgress","_customResumeDataStore","retry","_manualRetry","scaleImage","specs","Scaler","setCustomHeaders","headers","_customHeadersStore","setCustomResumeData","setDeleteFileCustomHeaders","_deleteFileCustomHeadersStore","setDeleteFileEndpoint","_deleteFileEndpointStore","setDeleteFileParams","_deleteFileParamsStore","setEndpoint","setForm","elementOrId","_updateFormSupportAndParams","setItemLimit","newItemLimit","setName","setParams","setUuid","_onDeleteComplete","uploadStoredFiles","_itemError","_uploadStoredFiles","basePrivateApi","sessionData","deleteFileEndpoint","deleteFileParams","thumbnailUrl","_annotateWithButtonId","associatedInput","qqButtonId","_getButtonId","onError","_createDeleteHandler","DeleteFileAjaxRequester","toUpperCase","uuidParamName","uuidName","customHeaders","paramsStore","endpointStore","cors","onDelete","_onDelete","onDeleteComplete","xhrOrXdr","isError","_createPasteHandler","PasteSupport","targetElement","paste","pasteReceived","_handleCheckedCallback","onPasteReceived","_handlePasteSuccess","identifier","_createStore","initialValue","_readOnlyValues_","catchall","perIdReadOnlyValues","readOnlyValues","copy","orig","includeReadOnlyValues","existing","addReadOnly","_createUploadDataTracker","_onUploadStatusChange","_maybeAllComplete","setTimeout","_createUploadButton","accept","classes","buttonFocus","buttonHover","workarounds","ios8BrowserCrash","iosEmptyVideos","_isAllowedExtension","_onInputChange","_disposeSupport","_createUploadHandler","additionalOptions","lastOnProgress","preventRetryParam","preventRetryResponseProperty","onProgress","loaded","total","_onProgress","xhr","retVal","_onComplete","onCancel","cancelFinalizationEffort","_onCancel","onUploadPrep","_onUploadPrep","onUpload","_onUpload","onUploadResult","onUploadChunk","chunkData","_onUploadChunk","onUploadChunkResult","partIndex","onUploadChunkSuccess","_onUploadChunkSuccess","onResume","customResumeData","onAutoRetry","responseJSON","_onAutoRetry","onUuidChanged","setSize","_setSize","getDataByUuid","isQueued","isInProgress","getCustomResumeData","_getCustomResumeData","UploadHandlerController","_fileOrBlobRejected","_formatSize","sizeSymbols","toFixed","_generateExtraButtonSpecs","_extraButtonSpecs","extraButtons","extraButtonOptionEntry","extraButtonSpec","_initExtraButton","extraButtonsSpec","_defaultButtonId","buttonOrFileInputOrFile","inputs","fileInput","fileBlobOrInput","_getNotFinished","_getValidationBase","_getValidationDescriptor","fileWrapper","_getValidationDescriptors","fileWrappers","fileDescriptors","_handleCameraAccess","camera","acceptIosCamera","optionRoot","details","callbackRetVal","successParam","newFileWrapperList","actualFile","handler","_customNewFileHandler","_handleNewFileGeneric","addFileToHandler","_trackButton","fileList","extSuppliedName","extension","_handleDeleteSuccess","_handleDeleteFailed","_initFormSupportAndParams","_formSupport","FormSupport","attachedToForm","getFormInputsAsObject","autoUpload","newAutoUpload","newEndpoint","_isDeletePossible","expected","allowXdr","allowed","valid","allowedExt","extRegex","code","maybeNameOrNames","extensionsForMessage","placeholderMatch","validationBase","allowedExtension","formatFileName","placeholder","_onBeforeManualRetry","notFinished","_onAllComplete","ios8SafariUploads","unsupportedBrowserIos8Safari","_maybeParseAndSendUploadError","errorReason","defaultResponseError","_maybeProcessNextItemAfterOnValidateCallback","validItem","stopOnFirstInvalidFile","validationDescriptor","onValidate","_onValidateCallbackSuccess","_onValidateCallbackFailure","successful","failed","onAllComplete","_shouldAutoRetry","retryWaitPeriod","autoAttemptDelay","_onBeforeAutoRetry","itemLimit","onManualRetry","clearTimeout","storedItemIndex","fileIndex","onIndividualProgress","_onSubmit","_onSubmitCallbackSuccess","_onSubmitted","onSubmitted","_storeForLater","onSuccessCallback","additionalMandatedParams","adjustedOnSuccessCallback","onSubmitDelete","_deleteHandler","sendDelete","_onTotalProgress","onTotalProgress","enableAuto","_onValidateBatchCallbackFailure","_onValidateBatchCallbackSuccess","validationDescriptors","proposedNetFilesUploadedOrQueued","nextIndex","_validateFileOrBlobData","_upload","_preventLeaveInProgress","event","onLeave","Session","_session","addFileRecord","refresh","_sessionRequestComplete","onSessionRequestComplete","onNewSize","maxAutoAttempts","formElementOrId","onSubmit","idToUpload","stillSubmitting","validityChecker","allowEmpty","ImageValidation","validate","errorCode","_wrapCallbacks","safeCallback","errorMsg","exception","callbackName","callbackFunc","FineUploaderBasic","disableCancelForFormUploads","warnBeforeUnload","filenameParam","forceMultipart","omitDefaultParams","paramsInBody","requireSuccessJson","totalFileSizeName","maybeXhr","maybeXhrOrXdr","attemptNumber","fileOrBlobData","typeError","sizeError","minSizeError","emptyError","noFilesError","maxHeightImageError","maxWidthImageError","minHeightImageError","minWidthImageError","retryFailTooManyItems","mandatory","paramNames","partByteOffset","totalFileSize","totalParts","jsonPayload","resetOnStatus","recordsExpireIn","resuming","customKeys","fileOrBlobName","sendCredentials","interceptSubmit","customResizer","sendOriginal","orient","defaultType","defaultQuality","failureText","includeExif","sizes","ImageGenerator","_scaler","handleNewFile","TotalProgress","entry","AjaxRequester","shouldParamsBeInQueryString","queue","requestData","acceptHeader","validMethods","contentType","mandatedParams","allowXRequestedWithAndCacheControl","successfulResponseCodes","DELETE","PATCH","POST","PUT","GET","onSend","isXdr","getXhrOrXdr","suppliedXhr","ontimeout","onprogress","getCorsAjaxTransport","dequeue","sendRequest","xdrError","responseCode","optXhr","url","onDemandParams","additionalParams","getParams","payload","additionalQueryParams","addToPath","createUrl","getXdrLoadHandler","getXdrErrorHandler","onreadystatechange","readyState","getXhrReadyStateChangeHandler","lengthComputable","registerForUploadProgress","onDemandHeaders","additionalHeaders","allHeaders","containsNonSimple","header","setHeaders","initTransport","cacheBuster","withPath","appendToPath","withParams","withQueryParams","_additionalQueryParams_","withHeaders","withPayload","thePayload","withCacheBuster","qqtimestamp","Date","getTime","prepareToSend","canceled","UploadHandler","proxy","fileState","fileItem","getThirdPartyFileId","_getFileState","_setThirdPartyFileId","thirdPartyFileId","_wasCanceled","preventRetryResponse","controller","chunkingPossible","concurrentChunkingPossible","chunked","chunkIdx","_getChunkData","attemptingResume","chunkProgress","_getChunkDataForCallback","finalize","finalizeChunks","normaizedResponse","normalizeResponse","_maybeDeletePersistedChunkData","cleanup","normalizedResponse","handleFailure","clearCachedChunk","inProgressIdx","responseToReport","inProgressChunksArray","inProgress","remaining","unshift","ignoreFailure","_getXhrs","ckid","ckXhr","abort","_cancelled","moveInProgressToRemaining","connectionManager","free","hasMoreParts","nextPart","nextIdx","_getTotalChunks","reevaluateChunking","sendNext","inProgressChunks","available","requestOverrides","uploadChunkData","overrides","uploadChunk","inProgressChunkIdx","_maybePersistChunkedState","clearXhr","_open","_openChunks","_waiting","openChunkEntriesCount","openChunksCount","openChunkIndexes","dontAllowNext","nextId","allowNext","waitingIndex","connectionsIndex","getProxyOrBlob","getWaitingOrConnected","waitingOrConnected","chunks","parseInt","isUsingConnection","pop","openChunksEntry","uploadFile","maybeNewUuid","_clearXhrs","getProxy","initHandler","handlerType","traditional","handlerModuleSubtype","onFinalizing","_removeExpiredChunkingRecords","isDeferredEligibleForUpload","maybeDefer","generatedBlob","updateBlob","maybeSendDeferredFiles","errorResponse","idsInGroup","uploadedThisId","idInGroup","now","originalResponse","_shouldChunkThisFile","blobToUpload","cancelRetVal","isProxied","_getLocalStorageId","isAttemptingResume","WindowReceiveMessage","callbackWrapperDetachers","receiveMessage","stopReceivingMessages","detacher","FormUploadHandler","formHandlerInstanceId","onloadCallbacks","detachLoadEvents","postMessageCallbackTimers","isCors","corsMessageReceiver","getFileIdForIframeName","iframeName","getElementById","_getIframeName","expungeFile","_attachLoadEvent","responseDescriptor","onloadCallback","_parseJsonResponse","_detachLoadEvent","registerPostMessageCallback","contentDocument","body","_createIframe","initIframeForUpload","_initFormForUpload","targetName","innerHtmlOrMessage","XhrUploadHandler","getChunkSize","chunkFiles","resumeEnabled","xhrId","ajaxRequester","_getAjaxRequester","blobOrProxy","_initTempState","_maybePrepareForResume","cachedChunks","tempState","xhrs","ajaxRequesters","responseParser","lastChunkIdx","_getXhr","resumableFilesData","_iterateResumeRecords","notResumable","optInProgress","optRemaining","chunkingState","reverse","paused","totalChunks","parts","newBlob","chunkId","_createXhr","optChunkIdx","_registerXhr","chunkIndex","fileSize","startBytes","endBytes","part","startByte","endByte","localStorageId","_getMimeType","_getPersistableData","_markNotResumable","removeItem","persistedData","lastUpdated","_registerProgressHandler","progressCalculator","totalSuccessfullyLoadedForFile","loadedForRequest","totalForRequest","estActualChunkLoaded","totalLoadedForFile","chunkLoaded","optAjaxRequester","xhrsId","expirationDays","expirationDate","setDate","getDate","requester","_method","renderImageToCanvas","img","doSquash","modifiedDimensions","iw","naturalWidth","ih","naturalHeight","width","ctx","getContext","save","resize","resizeInfo","imageHeight","imageWidth","orientation","sourceCanvas","sourceCanvasContext","targetCanvas","targetHeight","targetWidth","transformCoordinate","drawImage","qqImageRendered","renderImageToCanvasWithCustomResizer","maxPixels","origHeight","origWidth","newHeight","sqrt","newWidth","maybeCalculateDownsampledDimensions","getImageData","detectSubsampling","tmpCtx","sx","dx","d","tmpCanvas","vertSquashRatio","ratio","sy","ey","py","detectVerticalSquash","dw","dh","dy","clearRect","restore","translate","rotate","PI","MegaPixImage","srcImage","errorCallback","Image","URL","createObjectURL","webkitURL","listeners","imageLoadListeners","render","opt","oldTargetSrc","imgWidth","imgHeight","optionsKey","optionsValue","renderImageToDataURL","onrender","isImg","isCanvas","determineMimeOfFileName","nameWithPath","pathSegments","isCrossOrigin","targetProtocol","targetHostname","targetPort","targetAnchor","protocol","port","hostname","registerThumbnailRenderedListener","registered","registerImgLoadListeners","registerCanvasDrawImageListener","drawOnCanvasOrImgFromUrl","canvasOrImg","draw","tempImg","tempImgRender","crossOrigin","drawOnImgFromUrlWithCssScaling","drawFromUrl","fileBlobOrUrl","drawPreview","Identify","megapixErrorHandler","isPreviewable","dummyExif","exif","Exif","mpImg","Orientation","failureMsg","_testing","TAG_IDS","TAG_INFO","274","parseLittleEndian","hex","pow","seekToApp1","offset","theOffset","thePromise","segmentLength","getApp1Offset","parser","onParseFailure","app1Offset","app1Start","littleEndian","getDirEntryCount","dirEntryCount","dirEntries","getIfd","ifdHex","getDirEntries","tagValues","tagsToFind","vals","tagValHex","tagValLength","idHex","tagsToFindIdx","getTagValues","previewable","isPreviewableSync","PREVIEWABLE_MIME_TYPES","questionableBytes","identifiable","magicBytesEntries","magicBytesArrayEntry","fileMime","isRecognizedImage","limits","sizeDetermination","validationEffort","atLeastOne","hasNonZeroLimits","dimensions","failingLimit","limitName","limitValue","limitMatcher","dimensionPropName","actualValue","getFailingLimit","handleFileItems","fileItems","someItemsIgnored","isJsonResponseValid","err","refreshEffort","requesterOptions","SessionAjaxRequester","queryServer","responseText","includeOriginal","failedToScaleText","_getSortedSizes","getFileRecords","originalFileUuid","originalFileName","originalBlobOrBlobData","records","originalBlob","sizeRecord","outputType","_determineOutputType","requestedType","refType","_getName","_generateScaledImage","failedText","api","param","scaledIds","originalId","blobSize","scaledId","qqparentuuid","qqparentsize","scalingEffort","scalingOptions","scaler","referenceType","scaledVersionProperties","startOfExt","versionType","scaledName","scaledExt","nameAppendage","sort","sourceFile","imageGenerator","scaledImageDataUri","signalSuccess","_insertExifHeader","scaledImageDataUriWithExif","originalImage","reader","insertionEffort","originalImageDataUri","readAsDataURL","_dataUriToBlob","_createBlob","chr1","chr2","enc1","enc2","enc3","chr3","enc4","KEY_STR","origFileBase64","resizedFileBase64","expectedBase64Header","rawImage","decode64","segments","slice2Segments","exifManipulation","encode64","exifArray","getExifArray","newImageArray","insertExif","seg","x","imageData","buf","separatePoint","mae","ato","rawImageArray","head","endPoint","perFileProgress","totalLoaded","totalSize","lastLoadedSent","lastTotalSent","callbackProxy","onNew","updateTotalProgress","newLoaded","newTotal","oldLoaded","oldTotal","retryable","none","failedId","noRetryableFiles","detachPasteHandler","clipboardData","isImage","getAsFile","startUpload","formEl","validateForm","nativeSubmit","checkValidity","_form2Obj","determineNewEndpoint","submit","maybeUploadOnSubmit","determineFormEl","ignoreValue","checked","elements","select","selected","selectValue","createForm","responseFromMessage","doc","innerHtml","nodeValue","getIframeContentJson","multipart","allChunksDoneRequester","AllChunksDoneAjaxRequester","createReadyStateChangedHandler","onUploadOrChunkComplete","isErrorUploadResponse","parseResponse","sendChunksCompleteRequest","complete","getChunksCompleteParams","setParamsAndGetEntityToSend","entityToSendParams","xhrOverrides","customParams","defaultParams","xhrOverrideParams","setUploadHeaders","headersOptions","headerOverrides","headerName","headerValue","extraHeaders","uploadChunkParams","toSend","addChunkingSpecificParams","promises","endpointHandler","DragAndDrop","dropZones","maybeHideDropZones","HIDE_ZONES_EVENT_NAME","HIDE_BEFORE_ENTER_ATTR","uploadDropZones","droppedFiles","traverseFileTree","parseEntryPromise","qqPath","extractDirectoryPath","fileError","dropLog","fullPath","isDirectory","getFilesInDirectory","entriesLeft","indexOfNameInFullPath","accumEntries","existingPromise","dirReader","createReader","readEntries","newEntries","setupDropzone","dropArea","dropZone","UploadDropZone","onEnter","dropActive","stopPropagation","onLeaveNotDescendants","onDrop","uploadDropZone","pendingFolderPromises","handleDataTransferPromise","processingDroppedFiles","dropDisabled","allowMultipleItems","processingDroppedFilesComplete","dropError","filesAsArray","getElement","uploadDroppedFiles","isFileDrag","dragEvent","fileDrag","types","dropZoneElements","HTMLElement","y","leavingDocumentOut","setupExtraDropzone","removeDropzone","dzs","targetEl","errorSpecifics","preventDrop","dropOutsideDisabled","dragoverShouldBeCanceled","isValidFileDrag","effectTest","dt","isSafari","effectAllowed","isOrSetDropDisabled","isDisabled","dropEffect","effect","relatedTarget","elementFromPoint","clientX","clientY","hideZonesEvent","triggerUsingOldApi","createEvent","initEvent","CustomEvent","dispatchEvent","triggerHidezonesEvent","uiPublicApi","_parent","_templating","addCacheToDom","clearFiles","addExtraDropzone","_dnd","removeExtraDropzone","getItemByFileId","isHiddenForever","getFileContainer","_setupDragAndDrop","_totalFilesInBatch","_filesInBatchAddedToUi","_setupClickAndEditEventHandlers","formattedFilename","updateFilename","uploadPaused","continued","uploadContinued","getId","fileContainerOrChildEl","getFileId","getDropTarget","qqDropTarget","uiPrivateApi","_removeFileItem","removeFile","_fileButtonsClickHandler","FileButtonsClickHandler","_bindFileButtonsClickEvent","_focusinEventSupported","_isEditFilenameEnabled","_filenameClickHandler","_bindFilenameClickEvent","_filenameInputFocusInHandler","_bindFilenameInputFocusInEvent","_filenameInputFocusHandler","_bindFilenameInputFocusEvent","dragAndDrop","extraDropzones","templating","defaultDropZone","getDropZone","showDropProcessing","hideDropProcessing","errorData","lvl","onDeleteFile","onRetry","onPause","onContinue","onGetName","isEditFilenamePossible","FilenameClickHandler","FilenameInputFocusHandler","_filenameEditHandler","onGetUploadStatus","onSetName","onEditingStatusChange","isEditing","qqInput","getEditInput","qqFileContainer","hideFilename","hideEditIcon","showFilename","showEditIcon","markFilenameEditable","hideRetry","setStatusText","_classes","retrying","hidePause","FilenameInputFocusInHandler","hideSpinner","resetTotalProgress","reportDirectoryPaths","qqpath","_addToList","addHandler","updateProgress","hideCancel","hideProgress","waitingForResponse","_displayFileSize","parentRetVal","completeUpload","_markFileAsSuccessful","fail","showCancel","isRetryPossible","showRetry","_controlFailureTextDisplay","newResult","showDeleteButton","_maybeUpdateThumbnail","showSpinner","allowPause","retryNumForDisplay","maxAuto","retryNote","_showCancelLink","showAutoRetryNote","autoRetryNote","resetProgress","_onSubmitDeleteSuccess","forceConfirm","_showDeleteConfirm","_sendDeleteRequest","deletingFailedText","hideDeleteButton","deletingStatusText","confirmMessage","deleteRequestArgs","showConfirm","canned","prependData","prependIndex","dontDisplay","hideScaled","prependFiles","disableCancel","_handledProxyGroup","_clearList","addFileToCache","updateThumbnail","thumbnails","generatePreview","fileSizeOnSubmit","loadedSize","sizeForDisplay","_formatProgress","uploadedSize","formatProgress","failureReason","failUpload","enableTooltip","_showTooltip","showMessage","_setupPastePrompt","namePromptMessage","defaultVal","showPrompt","placeholders","waitUntilResponse","listElement","editable","tooManyFilesError","unsupportedBrowser","promptForName","maxCount","notAvailablePath","waitingPath","timeBetweenThumbs","hasDialog","showDialog","confirm","defaultValue","prompt","Templating","templateIdOrEl","containerEl","fileContainerEl","maxThumbs","waitUntilUpdate","thumbnailNotAvailable","waitingForThumbnail","renderFailure","isEditElementsExist","isRetryElementExist","templateDom","showThumbnails","serverScale","FILE_ID_ATTR","FILE_CLASS_PREFIX","DROPZPONE_TEXT_ATTR","IN_PROGRESS_CLASS","HIDDEN_FOREVER_CLASS","fileBatch","createDocumentFragment","isCancelDisabled","generatedThumbnails","thumbnailQueueMonitorRunning","thumbGenerationQueue","thumbnailMaxSize","selectorClasses","alertDialog","dialogCancelButton","confirmDialog","dialogMessage","dialogOkButton","promptDialog","drop","list","progressBarContainer","totalProgressBarContainer","totalProgressBar","spinner","continueButton","deleteButton","statusText","editFilenameInput","editNameIcon","dropText","dropProcessing","dropProcessingSpinner","thumbnail","previewGeneration","cachedThumbnailNotAvailableImg","cachedWaitingForThumbnailImg","displayWaitingImg","waitingImgPlacement","maybeScalePlaceholderViaCss","show","generateNextQueuedPreview","queuedThumbRequest","update","processUpdateQueuedPreviewRequest","processNewQueuedPreviewRequest","getCancel","getTemplateEl","getContinue","getDialog","getDelete","getDropProcessing","getEditIcon","getPause","getProgress","getRetry","getSpinner","cssClass","getThumbnail","maybeSetDisplayNotAvailableImg","previewing","notAvailableImgPlacement","optFileOrBlob","relatedThumbnailId","qqThumbnailId","useCachedPreview","generateNewPreview","showWaitingImg","setProgressBarWidth","percent","bar","progressBarSelector","targetThumbnailId","cachedThumbnailId","targetThumbnail","cachedThumbnail","scriptEl","scriptHtml","fileListNode","tempTemplateEl","fileListEl","defaultButton","dropTextEl","uploaderEl","cloneNode","fileTemplate","parseAndGetTemplate","notAvailableUrl","waitingUrl","updatedImg","cacheThumbnailPlaceholders","hideTotalProgress","cantRenderEl","prependInfo","hideForever","batch","thumb","fileEl","fileNameEl","parentEl","beforeEl","prependFile","waitingImg","currentNode","getFileList","filenameEl","isFileName","icon","isEditIcon","isEditInput","isCancel","allowContinueButton","isPause","isContinueButton","isDeleteButton","isRetry","textEl","dialog","messageEl","inputEl","cancelBtn","okBtn","closeHandler","cancelClickHandler","okClickHandler","showModal","UiEventHandler","protectedApi","eventType","attachTo","onHandled","srcElement","getFileIdFromItem","qqFileId","getDisposeSupport","buttonHandlers","buttonType","firstLetterCapButtonType","inheritedInternalApi","handleFilenameEdit","FilenameEditHandler","handleNameUpdate","newFilenameInputEl","origExtension","origName","getOriginalExtension","focusInput","filenameSansExt","focus","registerInputBlurHandler","keyCode","which","registerInputEnterKeyHandler","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","amdO","getter","__esModule","definition","hmd","__webpack_exports__"],"mappings":"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","file":"frontend.477f08a9.js","sourcesContent":["import \"./frontend.css\"\nimport \"./handler.js\"\n\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([], factory(root));\n    } else if (typeof exports === 'object') {\n        module.exports = factory(root);\n    } else {\n        root.ContaoFineUploaderFrontend = factory(root);\n    }\n})(typeof global !== \"undefined\" ? global : this.window || this.global, function (root) {\n    'use strict';\n\n    /**\n     * Default settings\n     */\n    var defaults = {\n        ajaxActionName: 'fineuploader_reload',\n        ajaxUrl: null,\n        errorMessage: '',\n    };\n\n    /**\n     * Plugin constructor\n     * @param {object} container\n     * @param {object} config\n     * @param {object} options\n     * @constructor\n     */\n    function Plugin(container, config, options) {\n        this.container = container;\n        this.config = config;\n        options = options || {};\n\n        // Clone the \"defaults\" object\n        this.settings = JSON.parse(JSON.stringify(defaults));\n\n        // Extend default with options\n        for (var item in options) {\n            if (options.hasOwnProperty(item)) {\n                this.settings[item] = options[item];\n            }\n        }\n\n        this.initUploader();\n        this.makeSortable();\n    }\n\n    Plugin.prototype = {\n        /**\n         * Initialize the uploader\n         */\n        initUploader: function () {\n            this.config.configCallback = this.configCallback.bind(this);\n            this.uploader = new ContaoFineUploader(this.container, this.config);\n            this.uploader.initFineUploader();\n        },\n\n        /**\n         * Config callback\n         *\n         * @param {object} config\n         */\n        configCallback: function (config) {\n            config.callbacks.onComplete = this.onCompleteCallback.bind(this);\n        },\n\n        /**\n         * Make items sortable\n         */\n        makeSortable: function () {\n            var sortable = this.uploader.ajaxContainer.querySelector('.sortable');\n\n            if (sortable === null) {\n                return;\n            }\n\n            new Sortable(sortable, {\n                dataIdAttr: 'data-item-id',\n                store: {\n                    get: function () {\n                        return this.uploader.field.value.split(',');\n                    }.bind(this),\n                    set: function (sortable) {\n                        this.uploader.field.value = sortable.toArray().join(',');\n                    }.bind(this)\n                }\n            });\n        },\n\n        /**\n         * Handle the onComplete callback\n         *\n         * @param {string} id\n         * @param {string} name\n         * @param {object} result\n         */\n        onCompleteCallback: function (id, name, result) {\n            if (!result.success) {\n                return;\n            }\n\n            // Trigger the default callback\n            this.uploader.onComplete.apply(this.uploader, arguments);\n\n            // Return if there are still files in progress\n            if (this.uploader.fineUploader.getInProgress() > 0) {\n                return;\n            }\n\n            this.uploader.ajaxContainer.classList.add('ajax-loading');\n\n            var request = new XMLHttpRequest();\n\n            request.open('POST', this.settings.ajaxUrl || window.location.href, true);\n            request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n            request.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\n            request.onload = function () {\n                if (request.status >= 200 && request.status < 400) {\n                    this.uploader.setAjaxContainerContent(request.response);\n\n                    // Make the elements sortable\n                    this.makeSortable();\n                } else {\n                    alert(this.settings.errorMessage);\n                }\n\n                this.uploader.ajaxContainer.classList.remove('ajax-loading');\n            }.bind(this);\n\n            request.onerror = function() {\n                alert(this.settings.errorMessage);\n                this.uploader.ajaxContainer.classList.remove('ajax-loading');\n            }.bind(this);\n\n            request.send(\n                'action=' + this.settings.ajaxActionName\n                + '&name=' + this.uploader.field.name\n                + '&value=' + this.uploader.currentValue\n                + '&REQUEST_TOKEN=' + this.uploader.field.form.querySelector('input[name=\"REQUEST_TOKEN\"]').value\n            );\n        }\n    };\n\n    return Plugin;\n});\n","import \"./handler.css\"\nimport { FineUploader } from 'fine-uploader';\n\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([], factory(root));\n    } else if (typeof exports === 'object') {\n        module.exports = factory(root);\n    } else {\n        root.ContaoFineUploader = factory(root);\n    }\n})(typeof global !== \"undefined\" ? global : this.window || this.global, function (root) {\n    'use strict';\n\n    /**\n     * Default settings\n     */\n    var defaults = {\n        // AJAX\n        ajaxActionName: 'fineuploader_upload',\n        ajaxUrl: null,\n\n        // Selectors\n        ajaxContainerSelector: '[data-fineuploader=\"ajax-container\"]',\n        deleteButtonsSelector: '[data-fineuploader=\"delete\"]',\n        fieldSelector: '[data-fineuploader=\"field\"]',\n        itemSelector: '[data-fineuploader=\"item\"]',\n        uploaderSelector: '[data-fineuploader=\"uploader\"]',\n\n        // Callbacks\n        configCallback: null\n    };\n\n    /**\n     * Plugin constructor\n     * @param {object} container\n     * @param {object} options\n     * @constructor\n     */\n    function Plugin(container, options) {\n        this.container = container;\n        options = options || {};\n\n        // Clone the \"defaults\" object\n        this.settings = JSON.parse(JSON.stringify(defaults));\n\n        // Extend default with options\n        for (var item in options) {\n            if (options.hasOwnProperty(item)) {\n                this.settings[item] = options[item];\n            }\n        }\n\n        this.initEnvironment();\n        this.bindFormEventListeners();\n\n        this.currentValue = this.field.value;\n        this.submitForm = true;\n    }\n\n    Plugin.prototype = {\n        /**\n         * Initialize the environment\n         */\n        initEnvironment: function () {\n            this.ajaxContainer = this.container.querySelector(this.settings.ajaxContainerSelector);\n            this.deleteButtons = this.container.querySelectorAll(this.settings.deleteButtonsSelector);\n            this.field = this.container.querySelector(this.settings.fieldSelector);\n            this.items = this.container.querySelectorAll(this.settings.itemSelector);\n            this.uploader = this.container.querySelector(this.settings.uploaderSelector);\n\n            this.bindDeleteEventListeners.apply(this);\n        },\n\n        /**\n         * Initialize the FineUploader\n         */\n        initFineUploader: function () {\n            var config = {\n                element: this.uploader,\n                debug: !!this.settings.debug,\n                template: this.container.querySelector('script[type=\"text/template\"][id^=\"qq-template\"]'),\n                request: {\n                    endpoint: this.settings.ajaxUrl || root.location.href,\n                    inputName: this.field.name + '_fineuploader',\n                    params: {\n                        action: this.settings.ajaxActionName,\n                        name: this.field.name,\n                        REQUEST_TOKEN: this.field.form.querySelector('input[name=\"REQUEST_TOKEN\"]').value\n                    }\n                },\n                failedUploadTextDisplay: {\n                    mode: 'custom',\n                    maxChars: 1000,\n                    responseProperty: 'error'\n                },\n                callbacks: {\n                    onValidateBatch: this.onValidateBatch.bind(this),\n                    onStatusChange: this.onStatusChange.bind(this),\n                    onComplete: this.onComplete.bind(this)\n                }\n            };\n\n            // Set the maximum number of connections\n            if (this.settings.maxConnections) {\n                config.maxConnections = this.settings.maxConnections;\n            }\n\n            // Set the chunking\n            if (this.settings.chunking) {\n                config.chunking = {\n                    enabled: true,\n                    partSize: this.settings.chunkSize,\n                    concurrent: this.settings.concurrent ? true : false\n                };\n            }\n\n            // Set the validation\n            if (this.settings.extensions || this.settings.minSizeLimit || this.settings.sizeLimit) {\n                config.validation = {};\n\n                if (this.settings.extensions) {\n                    config.validation.allowedExtensions = this.settings.extensions;\n                }\n                if (this.settings.minSizeLimit) {\n                    config.validation.minSizeLimit = this.settings.minSizeLimit;\n                }\n                if (this.settings.sizeLimit) {\n                    config.validation.sizeLimit = this.settings.sizeLimit\n                }\n                if (this.settings.minWidth || this.settings.maxWidth || this.settings.minHeight || this.settings.maxHeight) {\n                    config.validation.image = {};\n                }\n                if (this.settings.minWidth) {\n                    config.validation.image.minWidth = this.settings.minWidth\n                }\n                if (this.settings.maxWidth) {\n                    config.validation.image.maxWidth = this.settings.maxWidth\n                }\n                if (this.settings.minHeight) {\n                    config.validation.image.minHeight = this.settings.minHeight\n                }\n                if (this.settings.maxHeight) {\n                    config.validation.image.maxHeight = this.settings.maxHeight\n                }\n            }\n\n            // Set the upload button title\n            if (this.settings.uploadButtonTitle) {\n                config.text = {\n                    fileInputTitle: this.settings.uploadButtonTitle\n                };\n            }\n\n            // Set the messages\n            if (this.settings.messages && !Array.isArray(this.settings.messages)) {\n                config.messages = this.settings.messages;\n            }\n\n            // Call the config callback\n            if (typeof this.settings.configCallback === 'function') {\n                this.settings.configCallback(config);\n            }\n\n            this.fineUploader = new FineUploader(config);\n        },\n\n        /**\n         * Set the AJAX container content\n         *\n         * @param {string} buffer\n         */\n        setAjaxContainerContent: function (buffer) {\n            this.ajaxContainer.innerHTML = buffer;\n            this.initEnvironment();\n        },\n\n        /**\n         * Bind the event listeners to delete buttons\n         */\n        bindDeleteEventListeners: function () {\n            var self = this;\n\n            // Handle the delete buttons\n            Array.from(self.deleteButtons).forEach(function (el) {\n                el.addEventListener('click', function (e) {\n                    e.preventDefault();\n                    self.deleteFile(this.dataset.deleteId);\n                });\n            });\n        },\n\n        /**\n         * Bind the event listeners to the form\n         */\n        bindFormEventListeners: function () {\n            // Prevent the form submit if e.g. the file upload is in progress\n            this.field.form.addEventListener('submit', function (e) {\n                if (!this.submitForm) {\n                    e.preventDefault();\n                }\n            }.bind(this));\n        },\n\n        /**\n         * Trigger the validate batch callback\n         *\n         * @param {array} files\n         * @returns {boolean}\n         */\n        onValidateBatch: function (files) {\n            var count = (this.currentValue === '') ? 0 : this.currentValue.split(',').length;\n\n            // If the limit is set to 1 file and user attempts to upload 1 file\n            // then it should replace the current value instead of throwing an error\n            if (this.settings.limit == 1 && files.length == 1 && count == 1) {\n                count = 0;\n                this.currentValue = '';\n                this.fineUploader.clearStoredFiles();\n            }\n\n            // Trigger an error if there are too many items\n            if (this.settings.limit > 0 && this.settings.limit < (count + files.length)) {\n                this.fineUploader._batchError(\n                    this.fineUploader._options.messages.tooManyItemsError\n                        .replace(/\\{netItems\\}/g, count + files.length)\n                        .replace(/\\{itemLimit\\}/g, this.settings.limit)\n                );\n\n                return false;\n            }\n\n            return true;\n        },\n\n        /**\n         * Trigger the status change callback\n         */\n        onStatusChange: function () {\n            this.submitForm = this.fineUploader.getInProgress() === 0;\n\n            // Disable the form buttons alongside the form\n            Array.from(document.querySelectorAll('[type=\"submit\"]')).forEach(function (button) {\n                if (button.form === this.field.form) {\n                    button.disabled = !this.submitForm;\n                }\n            }.bind(this));\n        },\n\n        /**\n         * Trigger the complete callback\n         *\n         * @param {string} id\n         * @param {string} name\n         * @param {object} result\n         */\n        onComplete: function (id, name, result) {\n            if (!result.success) {\n                return;\n            }\n\n            // Add the uploaded file to value\n            if (result.file) {\n                this.currentValue = (this.currentValue.length ? (this.currentValue + ',') : '') + result.file;\n            }\n\n            // Update the value if there are no files in progress\n            if (this.fineUploader.getInProgress() === 0) {\n                this.field.value = this.currentValue;\n            }\n        },\n\n        /**\n         * Delete the file\n         *\n         * @param {string} file The file to delete\n         */\n        deleteFile: function (file) {\n            var current = this.currentValue.split(',');\n            var i;\n\n            // Remove the file from the current value\n            for (i = 0; i < current.length; i++) {\n                if (current[i] === file) {\n                    current.splice(i, 1);\n                    break;\n                }\n            }\n\n            // Update the current value\n            this.currentValue = current.join(',');\n            this.field.value = this.currentValue;\n\n            // Remove the DOM element\n            for (i = 0; i < this.items.length; i++) {\n                var el = this.items[i];\n\n                if (el.dataset.itemId === file) {\n                    el.parentElement.removeChild(el);\n                    break;\n                }\n            }\n        }\n    };\n\n    return Plugin;\n});\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    redefine(String.prototype, KEY, methods[0]);\n    redefine(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var toObject = require('../internals/to-object');\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n","module.exports = {};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = false;\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","module.exports = {};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\n/* eslint-disable regexp/no-assertion-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeExec = RegExp.prototype.exec;\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  // eslint-disable-next-line max-statements -- TODO\n  patchedExec = function exec(str) {\n    var re = this;\n    var state = getInternalState(re);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = patchedExec.call(raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var fails = require('../internals/fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\nvar RE = function (s, f) {\n  return RegExp(s, f);\n};\n\nexports.UNSUPPORTED_Y = fails(function () {\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","var fails = require('./fails');\n\nmodule.exports = fails(function () {\n  // babel-minify transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\n  var re = RegExp('.', (typeof '').charAt(0));\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n","var fails = require('./fails');\n\nmodule.exports = fails(function () {\n  // babel-minify transpiles RegExp('.', 'g') -> /./g and it causes SyntaxError\n  var re = RegExp('(?<a>b)', (typeof '').charAt(5));\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.15.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      if (\n        typeof replaceValue === 'string' &&\n        replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1 &&\n        replaceValue.indexOf('$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, this, string, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(this);\n      var S = String(string);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar fails = require('../internals/fails');\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    // eslint-disable-next-line regexp/no-empty-group -- required for testing\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (string, limit) {\n      var res = maybeCallNative(internalSplit, this, string, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(this);\n      var S = String(string);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (UNSUPPORTED_Y ? 'g' : 'y');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(UNSUPPORTED_Y ? '^(?:' + rx.source + ')' : rx, flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = UNSUPPORTED_Y ? 0 : q;\n        var z = callRegExpExec(splitter, UNSUPPORTED_Y ? S.slice(q) : S);\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (UNSUPPORTED_Y ? q : 0)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC, UNSUPPORTED_Y);\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.es/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.es/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.es/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","// Fine Uploader 5.16.2 - MIT licensed. http://fineuploader.com\n(function(global) {\n    var qq = function(element) {\n        \"use strict\";\n        return {\n            hide: function() {\n                element.style.display = \"none\";\n                return this;\n            },\n            attach: function(type, fn) {\n                if (element.addEventListener) {\n                    element.addEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.attachEvent(\"on\" + type, fn);\n                }\n                return function() {\n                    qq(element).detach(type, fn);\n                };\n            },\n            detach: function(type, fn) {\n                if (element.removeEventListener) {\n                    element.removeEventListener(type, fn, false);\n                } else if (element.attachEvent) {\n                    element.detachEvent(\"on\" + type, fn);\n                }\n                return this;\n            },\n            contains: function(descendant) {\n                if (!descendant) {\n                    return false;\n                }\n                if (element === descendant) {\n                    return true;\n                }\n                if (element.contains) {\n                    return element.contains(descendant);\n                } else {\n                    return !!(descendant.compareDocumentPosition(element) & 8);\n                }\n            },\n            insertBefore: function(elementB) {\n                elementB.parentNode.insertBefore(element, elementB);\n                return this;\n            },\n            remove: function() {\n                element.parentNode.removeChild(element);\n                return this;\n            },\n            css: function(styles) {\n                if (element.style == null) {\n                    throw new qq.Error(\"Can't apply style to node as it is not on the HTMLElement prototype chain!\");\n                }\n                if (styles.opacity != null) {\n                    if (typeof element.style.opacity !== \"string\" && typeof element.filters !== \"undefined\") {\n                        styles.filter = \"alpha(opacity=\" + Math.round(100 * styles.opacity) + \")\";\n                    }\n                }\n                qq.extend(element.style, styles);\n                return this;\n            },\n            hasClass: function(name, considerParent) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                return re.test(element.className) || !!(considerParent && re.test(element.parentNode.className));\n            },\n            addClass: function(name) {\n                if (!qq(element).hasClass(name)) {\n                    element.className += \" \" + name;\n                }\n                return this;\n            },\n            removeClass: function(name) {\n                var re = new RegExp(\"(^| )\" + name + \"( |$)\");\n                element.className = element.className.replace(re, \" \").replace(/^\\s+|\\s+$/g, \"\");\n                return this;\n            },\n            getByClass: function(className, first) {\n                var candidates, result = [];\n                if (first && element.querySelector) {\n                    return element.querySelector(\".\" + className);\n                } else if (element.querySelectorAll) {\n                    return element.querySelectorAll(\".\" + className);\n                }\n                candidates = element.getElementsByTagName(\"*\");\n                qq.each(candidates, function(idx, val) {\n                    if (qq(val).hasClass(className)) {\n                        result.push(val);\n                    }\n                });\n                return first ? result[0] : result;\n            },\n            getFirstByClass: function(className) {\n                return qq(element).getByClass(className, true);\n            },\n            children: function() {\n                var children = [], child = element.firstChild;\n                while (child) {\n                    if (child.nodeType === 1) {\n                        children.push(child);\n                    }\n                    child = child.nextSibling;\n                }\n                return children;\n            },\n            setText: function(text) {\n                element.innerText = text;\n                element.textContent = text;\n                return this;\n            },\n            clearText: function() {\n                return qq(element).setText(\"\");\n            },\n            hasAttribute: function(attrName) {\n                var attrVal;\n                if (element.hasAttribute) {\n                    if (!element.hasAttribute(attrName)) {\n                        return false;\n                    }\n                    return /^false$/i.exec(element.getAttribute(attrName)) == null;\n                } else {\n                    attrVal = element[attrName];\n                    if (attrVal === undefined) {\n                        return false;\n                    }\n                    return /^false$/i.exec(attrVal) == null;\n                }\n            }\n        };\n    };\n    (function() {\n        \"use strict\";\n        qq.canvasToBlob = function(canvas, mime, quality) {\n            return qq.dataUriToBlob(canvas.toDataURL(mime, quality));\n        };\n        qq.dataUriToBlob = function(dataUri) {\n            var arrayBuffer, byteString, createBlob = function(data, mime) {\n                var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n                if (blobBuilder) {\n                    blobBuilder.append(data);\n                    return blobBuilder.getBlob(mime);\n                } else {\n                    return new Blob([ data ], {\n                        type: mime\n                    });\n                }\n            }, intArray, mimeString;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return createBlob(arrayBuffer, mimeString);\n        };\n        qq.log = function(message, level) {\n            if (window.console) {\n                if (!level || level === \"info\") {\n                    window.console.log(message);\n                } else {\n                    if (window.console[level]) {\n                        window.console[level](message);\n                    } else {\n                        window.console.log(\"<\" + level + \"> \" + message);\n                    }\n                }\n            }\n        };\n        qq.isObject = function(variable) {\n            return variable && !variable.nodeType && Object.prototype.toString.call(variable) === \"[object Object]\";\n        };\n        qq.isFunction = function(variable) {\n            return typeof variable === \"function\";\n        };\n        qq.isArray = function(value) {\n            return Object.prototype.toString.call(value) === \"[object Array]\" || value && window.ArrayBuffer && value.buffer && value.buffer.constructor === ArrayBuffer;\n        };\n        qq.isItemList = function(maybeItemList) {\n            return Object.prototype.toString.call(maybeItemList) === \"[object DataTransferItemList]\";\n        };\n        qq.isNodeList = function(maybeNodeList) {\n            return Object.prototype.toString.call(maybeNodeList) === \"[object NodeList]\" || maybeNodeList.item && maybeNodeList.namedItem;\n        };\n        qq.isString = function(maybeString) {\n            return Object.prototype.toString.call(maybeString) === \"[object String]\";\n        };\n        qq.trimStr = function(string) {\n            if (String.prototype.trim) {\n                return string.trim();\n            }\n            return string.replace(/^\\s+|\\s+$/g, \"\");\n        };\n        qq.format = function(str) {\n            var args = Array.prototype.slice.call(arguments, 1), newStr = str, nextIdxToReplace = newStr.indexOf(\"{}\");\n            qq.each(args, function(idx, val) {\n                var strBefore = newStr.substring(0, nextIdxToReplace), strAfter = newStr.substring(nextIdxToReplace + 2);\n                newStr = strBefore + val + strAfter;\n                nextIdxToReplace = newStr.indexOf(\"{}\", nextIdxToReplace + val.length);\n                if (nextIdxToReplace < 0) {\n                    return false;\n                }\n            });\n            return newStr;\n        };\n        qq.isFile = function(maybeFile) {\n            return window.File && Object.prototype.toString.call(maybeFile) === \"[object File]\";\n        };\n        qq.isFileList = function(maybeFileList) {\n            return window.FileList && Object.prototype.toString.call(maybeFileList) === \"[object FileList]\";\n        };\n        qq.isFileOrInput = function(maybeFileOrInput) {\n            return qq.isFile(maybeFileOrInput) || qq.isInput(maybeFileOrInput);\n        };\n        qq.isInput = function(maybeInput, notFile) {\n            var evaluateType = function(type) {\n                var normalizedType = type.toLowerCase();\n                if (notFile) {\n                    return normalizedType !== \"file\";\n                }\n                return normalizedType === \"file\";\n            };\n            if (window.HTMLInputElement) {\n                if (Object.prototype.toString.call(maybeInput) === \"[object HTMLInputElement]\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            if (maybeInput.tagName) {\n                if (maybeInput.tagName.toLowerCase() === \"input\") {\n                    if (maybeInput.type && evaluateType(maybeInput.type)) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n        qq.isBlob = function(maybeBlob) {\n            if (window.Blob && Object.prototype.toString.call(maybeBlob) === \"[object Blob]\") {\n                return true;\n            }\n        };\n        qq.isXhrUploadSupported = function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return input.multiple !== undefined && typeof File !== \"undefined\" && typeof FormData !== \"undefined\" && typeof qq.createXhrInstance().upload !== \"undefined\";\n        };\n        qq.createXhrInstance = function() {\n            if (window.XMLHttpRequest) {\n                return new XMLHttpRequest();\n            }\n            try {\n                return new ActiveXObject(\"MSXML2.XMLHTTP.3.0\");\n            } catch (error) {\n                qq.log(\"Neither XHR or ActiveX are supported!\", \"error\");\n                return null;\n            }\n        };\n        qq.isFolderDropSupported = function(dataTransfer) {\n            return dataTransfer.items && dataTransfer.items.length > 0 && dataTransfer.items[0].webkitGetAsEntry;\n        };\n        qq.isFileChunkingSupported = function() {\n            return !qq.androidStock() && qq.isXhrUploadSupported() && (File.prototype.slice !== undefined || File.prototype.webkitSlice !== undefined || File.prototype.mozSlice !== undefined);\n        };\n        qq.sliceBlob = function(fileOrBlob, start, end) {\n            var slicer = fileOrBlob.slice || fileOrBlob.mozSlice || fileOrBlob.webkitSlice;\n            return slicer.call(fileOrBlob, start, end);\n        };\n        qq.arrayBufferToHex = function(buffer) {\n            var bytesAsHex = \"\", bytes = new Uint8Array(buffer);\n            qq.each(bytes, function(idx, byt) {\n                var byteAsHexStr = byt.toString(16);\n                if (byteAsHexStr.length < 2) {\n                    byteAsHexStr = \"0\" + byteAsHexStr;\n                }\n                bytesAsHex += byteAsHexStr;\n            });\n            return bytesAsHex;\n        };\n        qq.readBlobToHex = function(blob, startOffset, length) {\n            var initialBlob = qq.sliceBlob(blob, startOffset, startOffset + length), fileReader = new FileReader(), promise = new qq.Promise();\n            fileReader.onload = function() {\n                promise.success(qq.arrayBufferToHex(fileReader.result));\n            };\n            fileReader.onerror = promise.failure;\n            fileReader.readAsArrayBuffer(initialBlob);\n            return promise;\n        };\n        qq.extend = function(first, second, extendNested) {\n            qq.each(second, function(prop, val) {\n                if (extendNested && qq.isObject(val)) {\n                    if (first[prop] === undefined) {\n                        first[prop] = {};\n                    }\n                    qq.extend(first[prop], val, true);\n                } else {\n                    first[prop] = val;\n                }\n            });\n            return first;\n        };\n        qq.override = function(target, sourceFn) {\n            var super_ = {}, source = sourceFn(super_);\n            qq.each(source, function(srcPropName, srcPropVal) {\n                if (target[srcPropName] !== undefined) {\n                    super_[srcPropName] = target[srcPropName];\n                }\n                target[srcPropName] = srcPropVal;\n            });\n            return target;\n        };\n        qq.indexOf = function(arr, elt, from) {\n            if (arr.indexOf) {\n                return arr.indexOf(elt, from);\n            }\n            from = from || 0;\n            var len = arr.length;\n            if (from < 0) {\n                from += len;\n            }\n            for (;from < len; from += 1) {\n                if (arr.hasOwnProperty(from) && arr[from] === elt) {\n                    return from;\n                }\n            }\n            return -1;\n        };\n        qq.getUniqueId = function() {\n            return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n                var r = Math.random() * 16 | 0, v = c == \"x\" ? r : r & 3 | 8;\n                return v.toString(16);\n            });\n        };\n        qq.ie = function() {\n            return navigator.userAgent.indexOf(\"MSIE\") !== -1 || navigator.userAgent.indexOf(\"Trident\") !== -1;\n        };\n        qq.ie7 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 7\") !== -1;\n        };\n        qq.ie8 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 8\") !== -1;\n        };\n        qq.ie10 = function() {\n            return navigator.userAgent.indexOf(\"MSIE 10\") !== -1;\n        };\n        qq.ie11 = function() {\n            return qq.ie() && navigator.userAgent.indexOf(\"rv:11\") !== -1;\n        };\n        qq.edge = function() {\n            return navigator.userAgent.indexOf(\"Edge\") >= 0;\n        };\n        qq.safari = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Apple\") !== -1;\n        };\n        qq.chrome = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Google\") !== -1;\n        };\n        qq.opera = function() {\n            return navigator.vendor !== undefined && navigator.vendor.indexOf(\"Opera\") !== -1;\n        };\n        qq.firefox = function() {\n            return !qq.edge() && !qq.ie11() && navigator.userAgent.indexOf(\"Mozilla\") !== -1 && navigator.vendor !== undefined && navigator.vendor === \"\";\n        };\n        qq.windows = function() {\n            return navigator.platform === \"Win32\";\n        };\n        qq.android = function() {\n            return navigator.userAgent.toLowerCase().indexOf(\"android\") !== -1;\n        };\n        qq.androidStock = function() {\n            return qq.android() && navigator.userAgent.toLowerCase().indexOf(\"chrome\") < 0;\n        };\n        qq.ios6 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 6_\") !== -1;\n        };\n        qq.ios7 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 7_\") !== -1;\n        };\n        qq.ios8 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_\") !== -1;\n        };\n        qq.ios800 = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\" OS 8_0 \") !== -1;\n        };\n        qq.ios = function() {\n            return navigator.userAgent.indexOf(\"iPad\") !== -1 || navigator.userAgent.indexOf(\"iPod\") !== -1 || navigator.userAgent.indexOf(\"iPhone\") !== -1;\n        };\n        qq.iosChrome = function() {\n            return qq.ios() && navigator.userAgent.indexOf(\"CriOS\") !== -1;\n        };\n        qq.iosSafari = function() {\n            return qq.ios() && !qq.iosChrome() && navigator.userAgent.indexOf(\"Safari\") !== -1;\n        };\n        qq.iosSafariWebView = function() {\n            return qq.ios() && !qq.iosChrome() && !qq.iosSafari();\n        };\n        qq.preventDefault = function(e) {\n            if (e.preventDefault) {\n                e.preventDefault();\n            } else {\n                e.returnValue = false;\n            }\n        };\n        qq.toElement = function() {\n            var div = document.createElement(\"div\");\n            return function(html) {\n                div.innerHTML = html;\n                var element = div.firstChild;\n                div.removeChild(element);\n                return element;\n            };\n        }();\n        qq.each = function(iterableItem, callback) {\n            var keyOrIndex, retVal;\n            if (iterableItem) {\n                if (window.Storage && iterableItem.constructor === window.Storage) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(iterableItem.key(keyOrIndex), iterableItem.getItem(iterableItem.key(keyOrIndex)));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isArray(iterableItem) || qq.isItemList(iterableItem) || qq.isNodeList(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else if (qq.isString(iterableItem)) {\n                    for (keyOrIndex = 0; keyOrIndex < iterableItem.length; keyOrIndex++) {\n                        retVal = callback(keyOrIndex, iterableItem.charAt(keyOrIndex));\n                        if (retVal === false) {\n                            break;\n                        }\n                    }\n                } else {\n                    for (keyOrIndex in iterableItem) {\n                        if (Object.prototype.hasOwnProperty.call(iterableItem, keyOrIndex)) {\n                            retVal = callback(keyOrIndex, iterableItem[keyOrIndex]);\n                            if (retVal === false) {\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        qq.bind = function(oldFunc, context) {\n            if (qq.isFunction(oldFunc)) {\n                var args = Array.prototype.slice.call(arguments, 2);\n                return function() {\n                    var newArgs = qq.extend([], args);\n                    if (arguments.length) {\n                        newArgs = newArgs.concat(Array.prototype.slice.call(arguments));\n                    }\n                    return oldFunc.apply(context, newArgs);\n                };\n            }\n            throw new Error(\"first parameter must be a function!\");\n        };\n        qq.obj2url = function(obj, temp, prefixDone) {\n            var uristrings = [], prefix = \"&\", add = function(nextObj, i) {\n                var nextTemp = temp ? /\\[\\]$/.test(temp) ? temp : temp + \"[\" + i + \"]\" : i;\n                if (nextTemp !== \"undefined\" && i !== \"undefined\") {\n                    uristrings.push(typeof nextObj === \"object\" ? qq.obj2url(nextObj, nextTemp, true) : Object.prototype.toString.call(nextObj) === \"[object Function]\" ? encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj()) : encodeURIComponent(nextTemp) + \"=\" + encodeURIComponent(nextObj));\n                }\n            };\n            if (!prefixDone && temp) {\n                prefix = /\\?/.test(temp) ? /\\?$/.test(temp) ? \"\" : \"&\" : \"?\";\n                uristrings.push(temp);\n                uristrings.push(qq.obj2url(obj));\n            } else if (Object.prototype.toString.call(obj) === \"[object Array]\" && typeof obj !== \"undefined\") {\n                qq.each(obj, function(idx, val) {\n                    add(val, idx);\n                });\n            } else if (typeof obj !== \"undefined\" && obj !== null && typeof obj === \"object\") {\n                qq.each(obj, function(prop, val) {\n                    add(val, prop);\n                });\n            } else {\n                uristrings.push(encodeURIComponent(temp) + \"=\" + encodeURIComponent(obj));\n            }\n            if (temp) {\n                return uristrings.join(prefix);\n            } else {\n                return uristrings.join(prefix).replace(/^&/, \"\").replace(/%20/g, \"+\");\n            }\n        };\n        qq.obj2FormData = function(obj, formData, arrayKeyName) {\n            if (!formData) {\n                formData = new FormData();\n            }\n            qq.each(obj, function(key, val) {\n                key = arrayKeyName ? arrayKeyName + \"[\" + key + \"]\" : key;\n                if (qq.isObject(val)) {\n                    qq.obj2FormData(val, formData, key);\n                } else if (qq.isFunction(val)) {\n                    formData.append(key, val());\n                } else {\n                    formData.append(key, val);\n                }\n            });\n            return formData;\n        };\n        qq.obj2Inputs = function(obj, form) {\n            var input;\n            if (!form) {\n                form = document.createElement(\"form\");\n            }\n            qq.obj2FormData(obj, {\n                append: function(key, val) {\n                    input = document.createElement(\"input\");\n                    input.setAttribute(\"name\", key);\n                    input.setAttribute(\"value\", val);\n                    form.appendChild(input);\n                }\n            });\n            return form;\n        };\n        qq.parseJson = function(json) {\n            if (window.JSON && qq.isFunction(JSON.parse)) {\n                return JSON.parse(json);\n            } else {\n                return eval(\"(\" + json + \")\");\n            }\n        };\n        qq.getExtension = function(filename) {\n            var extIdx = filename.lastIndexOf(\".\") + 1;\n            if (extIdx > 0) {\n                return filename.substr(extIdx, filename.length - extIdx);\n            }\n        };\n        qq.getFilename = function(blobOrFileInput) {\n            if (qq.isInput(blobOrFileInput)) {\n                return blobOrFileInput.value.replace(/.*(\\/|\\\\)/, \"\");\n            } else if (qq.isFile(blobOrFileInput)) {\n                if (blobOrFileInput.fileName !== null && blobOrFileInput.fileName !== undefined) {\n                    return blobOrFileInput.fileName;\n                }\n            }\n            return blobOrFileInput.name;\n        };\n        qq.DisposeSupport = function() {\n            var disposers = [];\n            return {\n                dispose: function() {\n                    var disposer;\n                    do {\n                        disposer = disposers.shift();\n                        if (disposer) {\n                            disposer();\n                        }\n                    } while (disposer);\n                },\n                attach: function() {\n                    var args = arguments;\n                    this.addDisposer(qq(args[0]).attach.apply(this, Array.prototype.slice.call(arguments, 1)));\n                },\n                addDisposer: function(disposeFunction) {\n                    disposers.push(disposeFunction);\n                }\n            };\n        };\n    })();\n    (function() {\n        \"use strict\";\n        if (typeof define === \"function\" && define.amd) {\n            define(function() {\n                return qq;\n            });\n        } else if (typeof module !== \"undefined\" && module.exports) {\n            module.exports = qq;\n        } else {\n            global.qq = qq;\n        }\n    })();\n    (function() {\n        \"use strict\";\n        qq.Error = function(message) {\n            this.message = \"[Fine Uploader \" + qq.version + \"] \" + message;\n        };\n        qq.Error.prototype = new Error();\n    })();\n    qq.version = \"5.16.2\";\n    qq.supportedFeatures = function() {\n        \"use strict\";\n        var supportsUploading, supportsUploadingBlobs, supportsFileDrop, supportsAjaxFileUploading, supportsFolderDrop, supportsChunking, supportsResume, supportsUploadViaPaste, supportsUploadCors, supportsDeleteFileXdr, supportsDeleteFileCorsXhr, supportsDeleteFileCors, supportsFolderSelection, supportsImagePreviews, supportsUploadProgress;\n        function testSupportsFileInputElement() {\n            var supported = true, tempInput;\n            try {\n                tempInput = document.createElement(\"input\");\n                tempInput.type = \"file\";\n                qq(tempInput).hide();\n                if (tempInput.disabled) {\n                    supported = false;\n                }\n            } catch (ex) {\n                supported = false;\n            }\n            return supported;\n        }\n        function isChrome14OrHigher() {\n            return (qq.chrome() || qq.opera()) && navigator.userAgent.match(/Chrome\\/[1][4-9]|Chrome\\/[2-9][0-9]/) !== undefined;\n        }\n        function isCrossOriginXhrSupported() {\n            if (window.XMLHttpRequest) {\n                var xhr = qq.createXhrInstance();\n                return xhr.withCredentials !== undefined;\n            }\n            return false;\n        }\n        function isXdrSupported() {\n            return window.XDomainRequest !== undefined;\n        }\n        function isCrossOriginAjaxSupported() {\n            if (isCrossOriginXhrSupported()) {\n                return true;\n            }\n            return isXdrSupported();\n        }\n        function isFolderSelectionSupported() {\n            return document.createElement(\"input\").webkitdirectory !== undefined;\n        }\n        function isLocalStorageSupported() {\n            try {\n                return !!window.localStorage && qq.isFunction(window.localStorage.setItem);\n            } catch (error) {\n                return false;\n            }\n        }\n        function isDragAndDropSupported() {\n            var span = document.createElement(\"span\");\n            return (\"draggable\" in span || \"ondragstart\" in span && \"ondrop\" in span) && !qq.android() && !qq.ios();\n        }\n        supportsUploading = testSupportsFileInputElement();\n        supportsAjaxFileUploading = supportsUploading && qq.isXhrUploadSupported();\n        supportsUploadingBlobs = supportsAjaxFileUploading && !qq.androidStock();\n        supportsFileDrop = supportsAjaxFileUploading && isDragAndDropSupported();\n        supportsFolderDrop = supportsFileDrop && function() {\n            var input = document.createElement(\"input\");\n            input.type = \"file\";\n            return !!(\"webkitdirectory\" in (input || document.querySelectorAll(\"input[type=file]\")[0]));\n        }();\n        supportsChunking = supportsAjaxFileUploading && qq.isFileChunkingSupported();\n        supportsResume = supportsAjaxFileUploading && supportsChunking && isLocalStorageSupported();\n        supportsUploadViaPaste = supportsAjaxFileUploading && isChrome14OrHigher();\n        supportsUploadCors = supportsUploading && (window.postMessage !== undefined || supportsAjaxFileUploading);\n        supportsDeleteFileCorsXhr = isCrossOriginXhrSupported();\n        supportsDeleteFileXdr = isXdrSupported();\n        supportsDeleteFileCors = isCrossOriginAjaxSupported();\n        supportsFolderSelection = isFolderSelectionSupported();\n        supportsImagePreviews = supportsAjaxFileUploading && window.FileReader !== undefined;\n        supportsUploadProgress = function() {\n            if (supportsAjaxFileUploading) {\n                return !qq.androidStock() && !qq.iosChrome();\n            }\n            return false;\n        }();\n        return {\n            ajaxUploading: supportsAjaxFileUploading,\n            blobUploading: supportsUploadingBlobs,\n            canDetermineSize: supportsAjaxFileUploading,\n            chunking: supportsChunking,\n            deleteFileCors: supportsDeleteFileCors,\n            deleteFileCorsXdr: supportsDeleteFileXdr,\n            deleteFileCorsXhr: supportsDeleteFileCorsXhr,\n            dialogElement: !!window.HTMLDialogElement,\n            fileDrop: supportsFileDrop,\n            folderDrop: supportsFolderDrop,\n            folderSelection: supportsFolderSelection,\n            imagePreviews: supportsImagePreviews,\n            imageValidation: supportsImagePreviews,\n            itemSizeValidation: supportsAjaxFileUploading,\n            pause: supportsChunking,\n            progressBar: supportsUploadProgress,\n            resume: supportsResume,\n            scaling: supportsImagePreviews && supportsUploadingBlobs,\n            tiffPreviews: qq.safari(),\n            unlimitedScaledImageSize: !qq.ios(),\n            uploading: supportsUploading,\n            uploadCors: supportsUploadCors,\n            uploadCustomHeaders: supportsAjaxFileUploading,\n            uploadNonMultipart: supportsAjaxFileUploading,\n            uploadViaPaste: supportsUploadViaPaste\n        };\n    }();\n    qq.isGenericPromise = function(maybePromise) {\n        \"use strict\";\n        return !!(maybePromise && maybePromise.then && qq.isFunction(maybePromise.then));\n    };\n    qq.Promise = function() {\n        \"use strict\";\n        var successArgs, failureArgs, successCallbacks = [], failureCallbacks = [], doneCallbacks = [], state = 0;\n        qq.extend(this, {\n            then: function(onSuccess, onFailure) {\n                if (state === 0) {\n                    if (onSuccess) {\n                        successCallbacks.push(onSuccess);\n                    }\n                    if (onFailure) {\n                        failureCallbacks.push(onFailure);\n                    }\n                } else if (state === -1) {\n                    onFailure && onFailure.apply(null, failureArgs);\n                } else if (onSuccess) {\n                    onSuccess.apply(null, successArgs);\n                }\n                return this;\n            },\n            done: function(callback) {\n                if (state === 0) {\n                    doneCallbacks.push(callback);\n                } else {\n                    callback.apply(null, failureArgs === undefined ? successArgs : failureArgs);\n                }\n                return this;\n            },\n            success: function() {\n                state = 1;\n                successArgs = arguments;\n                if (successCallbacks.length) {\n                    qq.each(successCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, successArgs);\n                    });\n                }\n                return this;\n            },\n            failure: function() {\n                state = -1;\n                failureArgs = arguments;\n                if (failureCallbacks.length) {\n                    qq.each(failureCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                if (doneCallbacks.length) {\n                    qq.each(doneCallbacks, function(idx, callback) {\n                        callback.apply(null, failureArgs);\n                    });\n                }\n                return this;\n            }\n        });\n    };\n    qq.BlobProxy = function(referenceBlob, onCreate) {\n        \"use strict\";\n        qq.extend(this, {\n            referenceBlob: referenceBlob,\n            create: function() {\n                return onCreate(referenceBlob);\n            }\n        });\n    };\n    qq.UploadButton = function(o) {\n        \"use strict\";\n        var self = this, disposeSupport = new qq.DisposeSupport(), options = {\n            acceptFiles: null,\n            element: null,\n            focusClass: \"qq-upload-button-focus\",\n            folders: false,\n            hoverClass: \"qq-upload-button-hover\",\n            ios8BrowserCrashWorkaround: false,\n            multiple: false,\n            name: \"qqfile\",\n            onChange: function(input) {},\n            title: null\n        }, input, buttonId;\n        qq.extend(options, o);\n        buttonId = qq.getUniqueId();\n        function createInput() {\n            var input = document.createElement(\"input\");\n            input.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME, buttonId);\n            input.setAttribute(\"title\", options.title);\n            self.setMultiple(options.multiple, input);\n            if (options.folders && qq.supportedFeatures.folderSelection) {\n                input.setAttribute(\"webkitdirectory\", \"\");\n            }\n            if (options.acceptFiles) {\n                input.setAttribute(\"accept\", options.acceptFiles);\n            }\n            input.setAttribute(\"type\", \"file\");\n            input.setAttribute(\"name\", options.name);\n            qq(input).css({\n                position: \"absolute\",\n                right: 0,\n                top: 0,\n                fontFamily: \"Arial\",\n                fontSize: qq.ie() && !qq.ie8() ? \"3500px\" : \"118px\",\n                margin: 0,\n                padding: 0,\n                cursor: \"pointer\",\n                opacity: 0\n            });\n            !qq.ie7() && qq(input).css({\n                height: \"100%\"\n            });\n            options.element.appendChild(input);\n            disposeSupport.attach(input, \"change\", function() {\n                options.onChange(input);\n            });\n            disposeSupport.attach(input, \"mouseover\", function() {\n                qq(options.element).addClass(options.hoverClass);\n            });\n            disposeSupport.attach(input, \"mouseout\", function() {\n                qq(options.element).removeClass(options.hoverClass);\n            });\n            disposeSupport.attach(input, \"focus\", function() {\n                qq(options.element).addClass(options.focusClass);\n            });\n            disposeSupport.attach(input, \"blur\", function() {\n                qq(options.element).removeClass(options.focusClass);\n            });\n            return input;\n        }\n        qq(options.element).css({\n            position: \"relative\",\n            overflow: \"hidden\",\n            direction: \"ltr\"\n        });\n        qq.extend(this, {\n            getInput: function() {\n                return input;\n            },\n            getButtonId: function() {\n                return buttonId;\n            },\n            setMultiple: function(isMultiple, optInput) {\n                var input = optInput || this.getInput();\n                if (options.ios8BrowserCrashWorkaround && qq.ios8() && (qq.iosChrome() || qq.iosSafariWebView())) {\n                    input.setAttribute(\"multiple\", \"\");\n                } else {\n                    if (isMultiple) {\n                        input.setAttribute(\"multiple\", \"\");\n                    } else {\n                        input.removeAttribute(\"multiple\");\n                    }\n                }\n            },\n            setAcceptFiles: function(acceptFiles) {\n                if (acceptFiles !== options.acceptFiles) {\n                    input.setAttribute(\"accept\", acceptFiles);\n                }\n            },\n            reset: function() {\n                if (input.parentNode) {\n                    qq(input).remove();\n                }\n                qq(options.element).removeClass(options.focusClass);\n                input = null;\n                input = createInput();\n            }\n        });\n        input = createInput();\n    };\n    qq.UploadButton.BUTTON_ID_ATTR_NAME = \"qq-button-id\";\n    qq.UploadData = function(uploaderProxy) {\n        \"use strict\";\n        var data = [], byUuid = {}, byStatus = {}, byProxyGroupId = {}, byBatchId = {};\n        function getDataByIds(idOrIds) {\n            if (qq.isArray(idOrIds)) {\n                var entries = [];\n                qq.each(idOrIds, function(idx, id) {\n                    entries.push(data[id]);\n                });\n                return entries;\n            }\n            return data[idOrIds];\n        }\n        function getDataByUuids(uuids) {\n            if (qq.isArray(uuids)) {\n                var entries = [];\n                qq.each(uuids, function(idx, uuid) {\n                    entries.push(data[byUuid[uuid]]);\n                });\n                return entries;\n            }\n            return data[byUuid[uuids]];\n        }\n        function getDataByStatus(status) {\n            var statusResults = [], statuses = [].concat(status);\n            qq.each(statuses, function(index, statusEnum) {\n                var statusResultIndexes = byStatus[statusEnum];\n                if (statusResultIndexes !== undefined) {\n                    qq.each(statusResultIndexes, function(i, dataIndex) {\n                        statusResults.push(data[dataIndex]);\n                    });\n                }\n            });\n            return statusResults;\n        }\n        qq.extend(this, {\n            addFile: function(spec) {\n                var status = spec.status || qq.status.SUBMITTING, id = data.push({\n                    name: spec.name,\n                    originalName: spec.name,\n                    uuid: spec.uuid,\n                    size: spec.size == null ? -1 : spec.size,\n                    status: status,\n                    file: spec.file\n                }) - 1;\n                if (spec.batchId) {\n                    data[id].batchId = spec.batchId;\n                    if (byBatchId[spec.batchId] === undefined) {\n                        byBatchId[spec.batchId] = [];\n                    }\n                    byBatchId[spec.batchId].push(id);\n                }\n                if (spec.proxyGroupId) {\n                    data[id].proxyGroupId = spec.proxyGroupId;\n                    if (byProxyGroupId[spec.proxyGroupId] === undefined) {\n                        byProxyGroupId[spec.proxyGroupId] = [];\n                    }\n                    byProxyGroupId[spec.proxyGroupId].push(id);\n                }\n                data[id].id = id;\n                byUuid[spec.uuid] = id;\n                if (byStatus[status] === undefined) {\n                    byStatus[status] = [];\n                }\n                byStatus[status].push(id);\n                spec.onBeforeStatusChange && spec.onBeforeStatusChange(id);\n                uploaderProxy.onStatusChange(id, null, status);\n                return id;\n            },\n            retrieve: function(optionalFilter) {\n                if (qq.isObject(optionalFilter) && data.length) {\n                    if (optionalFilter.id !== undefined) {\n                        return getDataByIds(optionalFilter.id);\n                    } else if (optionalFilter.uuid !== undefined) {\n                        return getDataByUuids(optionalFilter.uuid);\n                    } else if (optionalFilter.status) {\n                        return getDataByStatus(optionalFilter.status);\n                    }\n                } else {\n                    return qq.extend([], data, true);\n                }\n            },\n            removeFileRef: function(id) {\n                var record = getDataByIds(id);\n                if (record) {\n                    delete record.file;\n                }\n            },\n            reset: function() {\n                data = [];\n                byUuid = {};\n                byStatus = {};\n                byBatchId = {};\n            },\n            setStatus: function(id, newStatus) {\n                var oldStatus = data[id].status, byStatusOldStatusIndex = qq.indexOf(byStatus[oldStatus], id);\n                byStatus[oldStatus].splice(byStatusOldStatusIndex, 1);\n                data[id].status = newStatus;\n                if (byStatus[newStatus] === undefined) {\n                    byStatus[newStatus] = [];\n                }\n                byStatus[newStatus].push(id);\n                uploaderProxy.onStatusChange(id, oldStatus, newStatus);\n            },\n            uuidChanged: function(id, newUuid) {\n                var oldUuid = data[id].uuid;\n                data[id].uuid = newUuid;\n                byUuid[newUuid] = id;\n                delete byUuid[oldUuid];\n            },\n            updateName: function(id, newName) {\n                data[id].name = newName;\n            },\n            updateSize: function(id, newSize) {\n                data[id].size = newSize;\n            },\n            setParentId: function(targetId, parentId) {\n                data[targetId].parentId = parentId;\n            },\n            getIdsInProxyGroup: function(id) {\n                var proxyGroupId = data[id].proxyGroupId;\n                if (proxyGroupId) {\n                    return byProxyGroupId[proxyGroupId];\n                }\n                return [];\n            },\n            getIdsInBatch: function(id) {\n                var batchId = data[id].batchId;\n                return byBatchId[batchId];\n            }\n        });\n    };\n    qq.status = {\n        SUBMITTING: \"submitting\",\n        SUBMITTED: \"submitted\",\n        REJECTED: \"rejected\",\n        QUEUED: \"queued\",\n        CANCELED: \"canceled\",\n        PAUSED: \"paused\",\n        UPLOADING: \"uploading\",\n        UPLOAD_FINALIZING: \"upload finalizing\",\n        UPLOAD_RETRYING: \"retrying upload\",\n        UPLOAD_SUCCESSFUL: \"upload successful\",\n        UPLOAD_FAILED: \"upload failed\",\n        DELETE_FAILED: \"delete failed\",\n        DELETING: \"deleting\",\n        DELETED: \"deleted\"\n    };\n    (function() {\n        \"use strict\";\n        qq.basePublicApi = {\n            addBlobs: function(blobDataOrArray, params, endpoint) {\n                this.addFiles(blobDataOrArray, params, endpoint);\n            },\n            addInitialFiles: function(cannedFileList) {\n                var self = this;\n                qq.each(cannedFileList, function(index, cannedFile) {\n                    self._addCannedFile(cannedFile);\n                });\n            },\n            addFiles: function(data, params, endpoint) {\n                this._maybeHandleIos8SafariWorkaround();\n                var batchId = this._storedIds.length === 0 ? qq.getUniqueId() : this._currentBatchId, processBlob = qq.bind(function(blob) {\n                    this._handleNewFile({\n                        blob: blob,\n                        name: this._options.blobs.defaultName\n                    }, batchId, verifiedFiles);\n                }, this), processBlobData = qq.bind(function(blobData) {\n                    this._handleNewFile(blobData, batchId, verifiedFiles);\n                }, this), processCanvas = qq.bind(function(canvas) {\n                    var blob = qq.canvasToBlob(canvas);\n                    this._handleNewFile({\n                        blob: blob,\n                        name: this._options.blobs.defaultName + \".png\"\n                    }, batchId, verifiedFiles);\n                }, this), processCanvasData = qq.bind(function(canvasData) {\n                    var normalizedQuality = canvasData.quality && canvasData.quality / 100, blob = qq.canvasToBlob(canvasData.canvas, canvasData.type, normalizedQuality);\n                    this._handleNewFile({\n                        blob: blob,\n                        name: canvasData.name\n                    }, batchId, verifiedFiles);\n                }, this), processFileOrInput = qq.bind(function(fileOrInput) {\n                    if (qq.isInput(fileOrInput) && qq.supportedFeatures.ajaxUploading) {\n                        var files = Array.prototype.slice.call(fileOrInput.files), self = this;\n                        qq.each(files, function(idx, file) {\n                            self._handleNewFile(file, batchId, verifiedFiles);\n                        });\n                    } else {\n                        this._handleNewFile(fileOrInput, batchId, verifiedFiles);\n                    }\n                }, this), normalizeData = function() {\n                    if (qq.isFileList(data)) {\n                        data = Array.prototype.slice.call(data);\n                    }\n                    data = [].concat(data);\n                }, self = this, verifiedFiles = [];\n                this._currentBatchId = batchId;\n                if (data) {\n                    normalizeData();\n                    qq.each(data, function(idx, fileContainer) {\n                        if (qq.isFileOrInput(fileContainer)) {\n                            processFileOrInput(fileContainer);\n                        } else if (qq.isBlob(fileContainer)) {\n                            processBlob(fileContainer);\n                        } else if (qq.isObject(fileContainer)) {\n                            if (fileContainer.blob && fileContainer.name) {\n                                processBlobData(fileContainer);\n                            } else if (fileContainer.canvas && fileContainer.name) {\n                                processCanvasData(fileContainer);\n                            }\n                        } else if (fileContainer.tagName && fileContainer.tagName.toLowerCase() === \"canvas\") {\n                            processCanvas(fileContainer);\n                        } else {\n                            self.log(fileContainer + \" is not a valid file container!  Ignoring!\", \"warn\");\n                        }\n                    });\n                    this.log(\"Received \" + verifiedFiles.length + \" files.\");\n                    this._prepareItemsForUpload(verifiedFiles, params, endpoint);\n                }\n            },\n            cancel: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (uploadData && uploadData.status === qq.status.UPLOAD_FINALIZING) {\n                    this.log(qq.format(\"Ignoring cancel for file ID {} ({}).  Finalizing upload.\", id, this.getName(id)), \"error\");\n                } else {\n                    this._handler.cancel(id);\n                }\n            },\n            cancelAll: function() {\n                var storedIdsCopy = [], self = this;\n                qq.extend(storedIdsCopy, this._storedIds);\n                qq.each(storedIdsCopy, function(idx, storedFileId) {\n                    self.cancel(storedFileId);\n                });\n                this._handler.cancelAll();\n            },\n            clearStoredFiles: function() {\n                this._storedIds = [];\n            },\n            continueUpload: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n                    return false;\n                }\n                if (uploadData.status === qq.status.PAUSED) {\n                    this.log(qq.format(\"Paused file ID {} ({}) will be continued.  Not paused.\", id, this.getName(id)));\n                    this._uploadFile(id);\n                    return true;\n                } else {\n                    this.log(qq.format(\"Ignoring continue for file ID {} ({}).  Not paused.\", id, this.getName(id)), \"error\");\n                }\n                return false;\n            },\n            deleteFile: function(id) {\n                return this._onSubmitDelete(id);\n            },\n            doesExist: function(fileOrBlobId) {\n                return this._handler.isValid(fileOrBlobId);\n            },\n            drawThumbnail: function(fileId, imgOrCanvas, maxSize, fromServer, customResizeFunction) {\n                var promiseToReturn = new qq.Promise(), fileOrUrl, options;\n                if (this._imageGenerator) {\n                    fileOrUrl = this._thumbnailUrls[fileId];\n                    options = {\n                        customResizeFunction: customResizeFunction,\n                        maxSize: maxSize > 0 ? maxSize : null,\n                        scale: maxSize > 0\n                    };\n                    if (!fromServer && qq.supportedFeatures.imagePreviews) {\n                        fileOrUrl = this.getFile(fileId);\n                    }\n                    if (fileOrUrl == null) {\n                        promiseToReturn.failure({\n                            container: imgOrCanvas,\n                            error: \"File or URL not found.\"\n                        });\n                    } else {\n                        this._imageGenerator.generate(fileOrUrl, imgOrCanvas, options).then(function success(modifiedContainer) {\n                            promiseToReturn.success(modifiedContainer);\n                        }, function failure(container, reason) {\n                            promiseToReturn.failure({\n                                container: container,\n                                error: reason || \"Problem generating thumbnail\"\n                            });\n                        });\n                    }\n                } else {\n                    promiseToReturn.failure({\n                        container: imgOrCanvas,\n                        error: \"Missing image generator module\"\n                    });\n                }\n                return promiseToReturn;\n            },\n            getButton: function(fileId) {\n                return this._getButton(this._buttonIdsForFileIds[fileId]);\n            },\n            getEndpoint: function(fileId) {\n                return this._endpointStore.get(fileId);\n            },\n            getFile: function(fileOrBlobId) {\n                var file = this._handler.getFile(fileOrBlobId);\n                var uploadDataRecord;\n                if (!file) {\n                    uploadDataRecord = this._uploadData.retrieve({\n                        id: fileOrBlobId\n                    });\n                    if (uploadDataRecord) {\n                        file = uploadDataRecord.file;\n                    }\n                }\n                return file || null;\n            },\n            getInProgress: function() {\n                return this._uploadData.retrieve({\n                    status: [ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED ]\n                }).length;\n            },\n            getName: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).name;\n            },\n            getParentId: function(id) {\n                var uploadDataEntry = this.getUploads({\n                    id: id\n                }), parentId = null;\n                if (uploadDataEntry) {\n                    if (uploadDataEntry.parentId !== undefined) {\n                        parentId = uploadDataEntry.parentId;\n                    }\n                }\n                return parentId;\n            },\n            getResumableFilesData: function() {\n                return this._handler.getResumableFilesData();\n            },\n            getSize: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).size;\n            },\n            getNetUploads: function() {\n                return this._netUploaded;\n            },\n            getRemainingAllowedItems: function() {\n                var allowedItems = this._currentItemLimit;\n                if (allowedItems > 0) {\n                    return allowedItems - this._netUploadedOrQueued;\n                }\n                return null;\n            },\n            getUploads: function(optionalFilter) {\n                return this._uploadData.retrieve(optionalFilter);\n            },\n            getUuid: function(id) {\n                return this._uploadData.retrieve({\n                    id: id\n                }).uuid;\n            },\n            isResumable: function(id) {\n                return this._handler.hasResumeRecord(id);\n            },\n            log: function(str, level) {\n                if (this._options.debug && (!level || level === \"info\")) {\n                    qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str);\n                } else if (level && level !== \"info\") {\n                    qq.log(\"[Fine Uploader \" + qq.version + \"] \" + str, level);\n                }\n            },\n            pauseUpload: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) {\n                    return false;\n                }\n                if (qq.indexOf([ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING ], uploadData.status) >= 0) {\n                    if (this._handler.pause(id)) {\n                        this._uploadData.setStatus(id, qq.status.PAUSED);\n                        return true;\n                    } else {\n                        this.log(qq.format(\"Unable to pause file ID {} ({}).\", id, this.getName(id)), \"error\");\n                    }\n                } else {\n                    this.log(qq.format(\"Ignoring pause for file ID {} ({}).  Not in progress.\", id, this.getName(id)), \"error\");\n                }\n                return false;\n            },\n            removeFileRef: function(id) {\n                this._handler.expunge(id);\n                this._uploadData.removeFileRef(id);\n            },\n            reset: function() {\n                this.log(\"Resetting uploader...\");\n                this._handler.reset();\n                this._storedIds = [];\n                this._autoRetries = [];\n                this._retryTimeouts = [];\n                this._preventRetries = [];\n                this._thumbnailUrls = [];\n                qq.each(this._buttons, function(idx, button) {\n                    button.reset();\n                });\n                this._paramsStore.reset();\n                this._endpointStore.reset();\n                this._netUploadedOrQueued = 0;\n                this._netUploaded = 0;\n                this._uploadData.reset();\n                this._buttonIdsForFileIds = [];\n                this._pasteHandler && this._pasteHandler.reset();\n                this._options.session.refreshOnReset && this._refreshSessionData();\n                this._succeededSinceLastAllComplete = [];\n                this._failedSinceLastAllComplete = [];\n                this._totalProgress && this._totalProgress.reset();\n                this._customResumeDataStore.reset();\n            },\n            retry: function(id) {\n                return this._manualRetry(id);\n            },\n            scaleImage: function(id, specs) {\n                var self = this;\n                return qq.Scaler.prototype.scaleImage(id, specs, {\n                    log: qq.bind(self.log, self),\n                    getFile: qq.bind(self.getFile, self),\n                    uploadData: self._uploadData\n                });\n            },\n            setCustomHeaders: function(headers, id) {\n                this._customHeadersStore.set(headers, id);\n            },\n            setCustomResumeData: function(id, data) {\n                this._customResumeDataStore.set(data, id);\n            },\n            setDeleteFileCustomHeaders: function(headers, id) {\n                this._deleteFileCustomHeadersStore.set(headers, id);\n            },\n            setDeleteFileEndpoint: function(endpoint, id) {\n                this._deleteFileEndpointStore.set(endpoint, id);\n            },\n            setDeleteFileParams: function(params, id) {\n                this._deleteFileParamsStore.set(params, id);\n            },\n            setEndpoint: function(endpoint, id) {\n                this._endpointStore.set(endpoint, id);\n            },\n            setForm: function(elementOrId) {\n                this._updateFormSupportAndParams(elementOrId);\n            },\n            setItemLimit: function(newItemLimit) {\n                this._currentItemLimit = newItemLimit;\n            },\n            setName: function(id, newName) {\n                this._uploadData.updateName(id, newName);\n            },\n            setParams: function(params, id) {\n                this._paramsStore.set(params, id);\n            },\n            setUuid: function(id, newUuid) {\n                return this._uploadData.uuidChanged(id, newUuid);\n            },\n            setStatus: function(id, newStatus) {\n                var fileRecord = this.getUploads({\n                    id: id\n                });\n                if (!fileRecord) {\n                    throw new qq.Error(id + \" is not a valid file ID.\");\n                }\n                switch (newStatus) {\n                  case qq.status.DELETED:\n                    this._onDeleteComplete(id, null, false);\n                    break;\n\n                  case qq.status.DELETE_FAILED:\n                    this._onDeleteComplete(id, null, true);\n                    break;\n\n                  default:\n                    var errorMessage = \"Method setStatus called on '\" + name + \"' not implemented yet for \" + newStatus;\n                    this.log(errorMessage);\n                    throw new qq.Error(errorMessage);\n                }\n            },\n            uploadStoredFiles: function() {\n                if (this._storedIds.length === 0) {\n                    this._itemError(\"noFilesError\");\n                } else {\n                    this._uploadStoredFiles();\n                }\n            }\n        };\n        qq.basePrivateApi = {\n            _addCannedFile: function(sessionData) {\n                var self = this;\n                return this._uploadData.addFile({\n                    uuid: sessionData.uuid,\n                    name: sessionData.name,\n                    size: sessionData.size,\n                    status: qq.status.UPLOAD_SUCCESSFUL,\n                    onBeforeStatusChange: function(id) {\n                        sessionData.deleteFileEndpoint && self.setDeleteFileEndpoint(sessionData.deleteFileEndpoint, id);\n                        sessionData.deleteFileParams && self.setDeleteFileParams(sessionData.deleteFileParams, id);\n                        if (sessionData.thumbnailUrl) {\n                            self._thumbnailUrls[id] = sessionData.thumbnailUrl;\n                        }\n                        self._netUploaded++;\n                        self._netUploadedOrQueued++;\n                    }\n                });\n            },\n            _annotateWithButtonId: function(file, associatedInput) {\n                if (qq.isFile(file)) {\n                    file.qqButtonId = this._getButtonId(associatedInput);\n                }\n            },\n            _batchError: function(message) {\n                this._options.callbacks.onError(null, null, message, undefined);\n            },\n            _createDeleteHandler: function() {\n                var self = this;\n                return new qq.DeleteFileAjaxRequester({\n                    method: this._options.deleteFile.method.toUpperCase(),\n                    maxConnections: this._options.maxConnections,\n                    uuidParamName: this._options.request.uuidName,\n                    customHeaders: this._deleteFileCustomHeadersStore,\n                    paramsStore: this._deleteFileParamsStore,\n                    endpointStore: this._deleteFileEndpointStore,\n                    cors: this._options.cors,\n                    log: qq.bind(self.log, self),\n                    onDelete: function(id) {\n                        self._onDelete(id);\n                        self._options.callbacks.onDelete(id);\n                    },\n                    onDeleteComplete: function(id, xhrOrXdr, isError) {\n                        self._onDeleteComplete(id, xhrOrXdr, isError);\n                        self._options.callbacks.onDeleteComplete(id, xhrOrXdr, isError);\n                    }\n                });\n            },\n            _createPasteHandler: function() {\n                var self = this;\n                return new qq.PasteSupport({\n                    targetElement: this._options.paste.targetElement,\n                    callbacks: {\n                        log: qq.bind(self.log, self),\n                        pasteReceived: function(blob) {\n                            self._handleCheckedCallback({\n                                name: \"onPasteReceived\",\n                                callback: qq.bind(self._options.callbacks.onPasteReceived, self, blob),\n                                onSuccess: qq.bind(self._handlePasteSuccess, self, blob),\n                                identifier: \"pasted image\"\n                            });\n                        }\n                    }\n                });\n            },\n            _createStore: function(initialValue, _readOnlyValues_) {\n                var store = {}, catchall = initialValue, perIdReadOnlyValues = {}, readOnlyValues = _readOnlyValues_, copy = function(orig) {\n                    if (qq.isObject(orig)) {\n                        return qq.extend({}, orig);\n                    }\n                    return orig;\n                }, getReadOnlyValues = function() {\n                    if (qq.isFunction(readOnlyValues)) {\n                        return readOnlyValues();\n                    }\n                    return readOnlyValues;\n                }, includeReadOnlyValues = function(id, existing) {\n                    if (readOnlyValues && qq.isObject(existing)) {\n                        qq.extend(existing, getReadOnlyValues());\n                    }\n                    if (perIdReadOnlyValues[id]) {\n                        qq.extend(existing, perIdReadOnlyValues[id]);\n                    }\n                };\n                return {\n                    set: function(val, id) {\n                        if (id == null) {\n                            store = {};\n                            catchall = copy(val);\n                        } else {\n                            store[id] = copy(val);\n                        }\n                    },\n                    get: function(id) {\n                        var values;\n                        if (id != null && store[id]) {\n                            values = store[id];\n                        } else {\n                            values = copy(catchall);\n                        }\n                        includeReadOnlyValues(id, values);\n                        return copy(values);\n                    },\n                    addReadOnly: function(id, values) {\n                        if (qq.isObject(store)) {\n                            if (id === null) {\n                                if (qq.isFunction(values)) {\n                                    readOnlyValues = values;\n                                } else {\n                                    readOnlyValues = readOnlyValues || {};\n                                    qq.extend(readOnlyValues, values);\n                                }\n                            } else {\n                                perIdReadOnlyValues[id] = perIdReadOnlyValues[id] || {};\n                                qq.extend(perIdReadOnlyValues[id], values);\n                            }\n                        }\n                    },\n                    remove: function(fileId) {\n                        return delete store[fileId];\n                    },\n                    reset: function() {\n                        store = {};\n                        perIdReadOnlyValues = {};\n                        catchall = initialValue;\n                    }\n                };\n            },\n            _createUploadDataTracker: function() {\n                var self = this;\n                return new qq.UploadData({\n                    getName: function(id) {\n                        return self.getName(id);\n                    },\n                    getUuid: function(id) {\n                        return self.getUuid(id);\n                    },\n                    getSize: function(id) {\n                        return self.getSize(id);\n                    },\n                    onStatusChange: function(id, oldStatus, newStatus) {\n                        self._onUploadStatusChange(id, oldStatus, newStatus);\n                        self._options.callbacks.onStatusChange(id, oldStatus, newStatus);\n                        self._maybeAllComplete(id, newStatus);\n                        if (self._totalProgress) {\n                            setTimeout(function() {\n                                self._totalProgress.onStatusChange(id, oldStatus, newStatus);\n                            }, 0);\n                        }\n                    }\n                });\n            },\n            _createUploadButton: function(spec) {\n                var self = this, acceptFiles = spec.accept || this._options.validation.acceptFiles, allowedExtensions = spec.allowedExtensions || this._options.validation.allowedExtensions, button;\n                function allowMultiple() {\n                    if (qq.supportedFeatures.ajaxUploading) {\n                        if (self._options.workarounds.iosEmptyVideos && qq.ios() && !qq.ios6() && self._isAllowedExtension(allowedExtensions, \".mov\")) {\n                            return false;\n                        }\n                        if (spec.multiple === undefined) {\n                            return self._options.multiple;\n                        }\n                        return spec.multiple;\n                    }\n                    return false;\n                }\n                button = new qq.UploadButton({\n                    acceptFiles: acceptFiles,\n                    element: spec.element,\n                    focusClass: this._options.classes.buttonFocus,\n                    folders: spec.folders,\n                    hoverClass: this._options.classes.buttonHover,\n                    ios8BrowserCrashWorkaround: this._options.workarounds.ios8BrowserCrash,\n                    multiple: allowMultiple(),\n                    name: this._options.request.inputName,\n                    onChange: function(input) {\n                        self._onInputChange(input);\n                    },\n                    title: spec.title == null ? this._options.text.fileInputTitle : spec.title\n                });\n                this._disposeSupport.addDisposer(function() {\n                    button.dispose();\n                });\n                self._buttons.push(button);\n                return button;\n            },\n            _createUploadHandler: function(additionalOptions, namespace) {\n                var self = this, lastOnProgress = {}, options = {\n                    debug: this._options.debug,\n                    maxConnections: this._options.maxConnections,\n                    cors: this._options.cors,\n                    paramsStore: this._paramsStore,\n                    endpointStore: this._endpointStore,\n                    chunking: this._options.chunking,\n                    resume: this._options.resume,\n                    blobs: this._options.blobs,\n                    log: qq.bind(self.log, self),\n                    preventRetryParam: this._options.retry.preventRetryResponseProperty,\n                    onProgress: function(id, name, loaded, total) {\n                        if (loaded < 0 || total < 0) {\n                            return;\n                        }\n                        if (lastOnProgress[id]) {\n                            if (lastOnProgress[id].loaded !== loaded || lastOnProgress[id].total !== total) {\n                                self._onProgress(id, name, loaded, total);\n                                self._options.callbacks.onProgress(id, name, loaded, total);\n                            }\n                        } else {\n                            self._onProgress(id, name, loaded, total);\n                            self._options.callbacks.onProgress(id, name, loaded, total);\n                        }\n                        lastOnProgress[id] = {\n                            loaded: loaded,\n                            total: total\n                        };\n                    },\n                    onComplete: function(id, name, result, xhr) {\n                        delete lastOnProgress[id];\n                        var status = self.getUploads({\n                            id: id\n                        }).status, retVal;\n                        if (status === qq.status.UPLOAD_SUCCESSFUL || status === qq.status.UPLOAD_FAILED) {\n                            return;\n                        }\n                        retVal = self._onComplete(id, name, result, xhr);\n                        if (retVal instanceof qq.Promise) {\n                            retVal.done(function() {\n                                self._options.callbacks.onComplete(id, name, result, xhr);\n                            });\n                        } else {\n                            self._options.callbacks.onComplete(id, name, result, xhr);\n                        }\n                    },\n                    onCancel: function(id, name, cancelFinalizationEffort) {\n                        var promise = new qq.Promise();\n                        self._handleCheckedCallback({\n                            name: \"onCancel\",\n                            callback: qq.bind(self._options.callbacks.onCancel, self, id, name),\n                            onFailure: promise.failure,\n                            onSuccess: function() {\n                                cancelFinalizationEffort.then(function() {\n                                    self._onCancel(id, name);\n                                });\n                                promise.success();\n                            },\n                            identifier: id\n                        });\n                        return promise;\n                    },\n                    onUploadPrep: qq.bind(this._onUploadPrep, this),\n                    onUpload: function(id, name) {\n                        self._onUpload(id, name);\n                        var onUploadResult = self._options.callbacks.onUpload(id, name);\n                        if (qq.isGenericPromise(onUploadResult)) {\n                            self.log(qq.format(\"onUpload for {} returned a Promise - waiting for resolution.\", id));\n                            return onUploadResult;\n                        }\n                        return new qq.Promise().success();\n                    },\n                    onUploadChunk: function(id, name, chunkData) {\n                        self._onUploadChunk(id, chunkData);\n                        var onUploadChunkResult = self._options.callbacks.onUploadChunk(id, name, chunkData);\n                        if (qq.isGenericPromise(onUploadChunkResult)) {\n                            self.log(qq.format(\"onUploadChunk for {}.{} returned a Promise - waiting for resolution.\", id, chunkData.partIndex));\n                            return onUploadChunkResult;\n                        }\n                        return new qq.Promise().success();\n                    },\n                    onUploadChunkSuccess: function(id, chunkData, result, xhr) {\n                        self._onUploadChunkSuccess(id, chunkData);\n                        self._options.callbacks.onUploadChunkSuccess.apply(self, arguments);\n                    },\n                    onResume: function(id, name, chunkData, customResumeData) {\n                        return self._options.callbacks.onResume(id, name, chunkData, customResumeData);\n                    },\n                    onAutoRetry: function(id, name, responseJSON, xhr) {\n                        return self._onAutoRetry.apply(self, arguments);\n                    },\n                    onUuidChanged: function(id, newUuid) {\n                        self.log(\"Server requested UUID change from '\" + self.getUuid(id) + \"' to '\" + newUuid + \"'\");\n                        self.setUuid(id, newUuid);\n                    },\n                    getName: qq.bind(self.getName, self),\n                    getUuid: qq.bind(self.getUuid, self),\n                    getSize: qq.bind(self.getSize, self),\n                    setSize: qq.bind(self._setSize, self),\n                    getDataByUuid: function(uuid) {\n                        return self.getUploads({\n                            uuid: uuid\n                        });\n                    },\n                    isQueued: function(id) {\n                        var status = self.getUploads({\n                            id: id\n                        }).status;\n                        return status === qq.status.QUEUED || status === qq.status.SUBMITTED || status === qq.status.UPLOAD_RETRYING || status === qq.status.PAUSED;\n                    },\n                    getIdsInProxyGroup: self._uploadData.getIdsInProxyGroup,\n                    getIdsInBatch: self._uploadData.getIdsInBatch,\n                    isInProgress: function(id) {\n                        return self.getUploads({\n                            id: id\n                        }).status === qq.status.UPLOADING;\n                    },\n                    getCustomResumeData: qq.bind(self._getCustomResumeData, self),\n                    setStatus: function(id, status) {\n                        self._uploadData.setStatus(id, status);\n                    }\n                };\n                qq.each(this._options.request, function(prop, val) {\n                    options[prop] = val;\n                });\n                options.customHeaders = this._customHeadersStore;\n                if (additionalOptions) {\n                    qq.each(additionalOptions, function(key, val) {\n                        options[key] = val;\n                    });\n                }\n                return new qq.UploadHandlerController(options, namespace);\n            },\n            _fileOrBlobRejected: function(id) {\n                this._netUploadedOrQueued--;\n                this._uploadData.setStatus(id, qq.status.REJECTED);\n            },\n            _formatSize: function(bytes) {\n                if (bytes === 0) {\n                    return bytes + this._options.text.sizeSymbols[0];\n                }\n                var i = -1;\n                do {\n                    bytes = bytes / 1e3;\n                    i++;\n                } while (bytes > 999);\n                return Math.max(bytes, .1).toFixed(1) + this._options.text.sizeSymbols[i];\n            },\n            _generateExtraButtonSpecs: function() {\n                var self = this;\n                this._extraButtonSpecs = {};\n                qq.each(this._options.extraButtons, function(idx, extraButtonOptionEntry) {\n                    var multiple = extraButtonOptionEntry.multiple, validation = qq.extend({}, self._options.validation, true), extraButtonSpec = qq.extend({}, extraButtonOptionEntry);\n                    if (multiple === undefined) {\n                        multiple = self._options.multiple;\n                    }\n                    if (extraButtonSpec.validation) {\n                        qq.extend(validation, extraButtonOptionEntry.validation, true);\n                    }\n                    qq.extend(extraButtonSpec, {\n                        multiple: multiple,\n                        validation: validation\n                    }, true);\n                    self._initExtraButton(extraButtonSpec);\n                });\n            },\n            _getButton: function(buttonId) {\n                var extraButtonsSpec = this._extraButtonSpecs[buttonId];\n                if (extraButtonsSpec) {\n                    return extraButtonsSpec.element;\n                } else if (buttonId === this._defaultButtonId) {\n                    return this._options.button;\n                }\n            },\n            _getButtonId: function(buttonOrFileInputOrFile) {\n                var inputs, fileInput, fileBlobOrInput = buttonOrFileInputOrFile;\n                if (fileBlobOrInput instanceof qq.BlobProxy) {\n                    fileBlobOrInput = fileBlobOrInput.referenceBlob;\n                }\n                if (fileBlobOrInput && !qq.isBlob(fileBlobOrInput)) {\n                    if (qq.isFile(fileBlobOrInput)) {\n                        return fileBlobOrInput.qqButtonId;\n                    } else if (fileBlobOrInput.tagName.toLowerCase() === \"input\" && fileBlobOrInput.type.toLowerCase() === \"file\") {\n                        return fileBlobOrInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n                    }\n                    inputs = fileBlobOrInput.getElementsByTagName(\"input\");\n                    qq.each(inputs, function(idx, input) {\n                        if (input.getAttribute(\"type\") === \"file\") {\n                            fileInput = input;\n                            return false;\n                        }\n                    });\n                    if (fileInput) {\n                        return fileInput.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);\n                    }\n                }\n            },\n            _getCustomResumeData: function(fileId) {\n                return this._customResumeDataStore.get(fileId);\n            },\n            _getNotFinished: function() {\n                return this._uploadData.retrieve({\n                    status: [ qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED, qq.status.SUBMITTING, qq.status.SUBMITTED, qq.status.PAUSED ]\n                }).length;\n            },\n            _getValidationBase: function(buttonId) {\n                var extraButtonSpec = this._extraButtonSpecs[buttonId];\n                return extraButtonSpec ? extraButtonSpec.validation : this._options.validation;\n            },\n            _getValidationDescriptor: function(fileWrapper) {\n                if (fileWrapper.file instanceof qq.BlobProxy) {\n                    return {\n                        name: qq.getFilename(fileWrapper.file.referenceBlob),\n                        size: fileWrapper.file.referenceBlob.size\n                    };\n                }\n                return {\n                    name: this.getUploads({\n                        id: fileWrapper.id\n                    }).name,\n                    size: this.getUploads({\n                        id: fileWrapper.id\n                    }).size\n                };\n            },\n            _getValidationDescriptors: function(fileWrappers) {\n                var self = this, fileDescriptors = [];\n                qq.each(fileWrappers, function(idx, fileWrapper) {\n                    fileDescriptors.push(self._getValidationDescriptor(fileWrapper));\n                });\n                return fileDescriptors;\n            },\n            _handleCameraAccess: function() {\n                if (this._options.camera.ios && qq.ios()) {\n                    var acceptIosCamera = \"image/*;capture=camera\", button = this._options.camera.button, buttonId = button ? this._getButtonId(button) : this._defaultButtonId, optionRoot = this._options;\n                    if (buttonId && buttonId !== this._defaultButtonId) {\n                        optionRoot = this._extraButtonSpecs[buttonId];\n                    }\n                    optionRoot.multiple = false;\n                    if (optionRoot.validation.acceptFiles === null) {\n                        optionRoot.validation.acceptFiles = acceptIosCamera;\n                    } else {\n                        optionRoot.validation.acceptFiles += \",\" + acceptIosCamera;\n                    }\n                    qq.each(this._buttons, function(idx, button) {\n                        if (button.getButtonId() === buttonId) {\n                            button.setMultiple(optionRoot.multiple);\n                            button.setAcceptFiles(optionRoot.acceptFiles);\n                            return false;\n                        }\n                    });\n                }\n            },\n            _handleCheckedCallback: function(details) {\n                var self = this, callbackRetVal = details.callback();\n                if (qq.isGenericPromise(callbackRetVal)) {\n                    this.log(details.name + \" - waiting for \" + details.name + \" promise to be fulfilled for \" + details.identifier);\n                    return callbackRetVal.then(function(successParam) {\n                        self.log(details.name + \" promise success for \" + details.identifier);\n                        details.onSuccess(successParam);\n                    }, function() {\n                        if (details.onFailure) {\n                            self.log(details.name + \" promise failure for \" + details.identifier);\n                            details.onFailure();\n                        } else {\n                            self.log(details.name + \" promise failure for \" + details.identifier);\n                        }\n                    });\n                }\n                if (callbackRetVal !== false) {\n                    details.onSuccess(callbackRetVal);\n                } else {\n                    if (details.onFailure) {\n                        this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Invoking failure callback.\");\n                        details.onFailure();\n                    } else {\n                        this.log(details.name + \" - return value was 'false' for \" + details.identifier + \".  Will not proceed.\");\n                    }\n                }\n                return callbackRetVal;\n            },\n            _handleNewFile: function(file, batchId, newFileWrapperList) {\n                var self = this, uuid = qq.getUniqueId(), size = -1, name = qq.getFilename(file), actualFile = file.blob || file, handler = this._customNewFileHandler ? this._customNewFileHandler : qq.bind(self._handleNewFileGeneric, self);\n                if (!qq.isInput(actualFile) && actualFile.size >= 0) {\n                    size = actualFile.size;\n                }\n                handler(actualFile, name, uuid, size, newFileWrapperList, batchId, this._options.request.uuidName, {\n                    uploadData: self._uploadData,\n                    paramsStore: self._paramsStore,\n                    addFileToHandler: function(id, file) {\n                        self._handler.add(id, file);\n                        self._netUploadedOrQueued++;\n                        self._trackButton(id);\n                    }\n                });\n            },\n            _handleNewFileGeneric: function(file, name, uuid, size, fileList, batchId) {\n                var id = this._uploadData.addFile({\n                    uuid: uuid,\n                    name: name,\n                    size: size,\n                    batchId: batchId,\n                    file: file\n                });\n                this._handler.add(id, file);\n                this._trackButton(id);\n                this._netUploadedOrQueued++;\n                fileList.push({\n                    id: id,\n                    file: file\n                });\n            },\n            _handlePasteSuccess: function(blob, extSuppliedName) {\n                var extension = blob.type.split(\"/\")[1], name = extSuppliedName;\n                if (name == null) {\n                    name = this._options.paste.defaultName;\n                }\n                name += \".\" + extension;\n                this.addFiles({\n                    name: name,\n                    blob: blob\n                });\n            },\n            _handleDeleteSuccess: function(id) {\n                if (this.getUploads({\n                    id: id\n                }).status !== qq.status.DELETED) {\n                    var name = this.getName(id);\n                    this._netUploadedOrQueued--;\n                    this._netUploaded--;\n                    this._handler.expunge(id);\n                    this._uploadData.setStatus(id, qq.status.DELETED);\n                    this.log(\"Delete request for '\" + name + \"' has succeeded.\");\n                }\n            },\n            _handleDeleteFailed: function(id, xhrOrXdr) {\n                var name = this.getName(id);\n                this._uploadData.setStatus(id, qq.status.DELETE_FAILED);\n                this.log(\"Delete request for '\" + name + \"' has failed.\", \"error\");\n                if (!xhrOrXdr || xhrOrXdr.withCredentials === undefined) {\n                    this._options.callbacks.onError(id, name, \"Delete request failed\", xhrOrXdr);\n                } else {\n                    this._options.callbacks.onError(id, name, \"Delete request failed with response code \" + xhrOrXdr.status, xhrOrXdr);\n                }\n            },\n            _initExtraButton: function(spec) {\n                var button = this._createUploadButton({\n                    accept: spec.validation.acceptFiles,\n                    allowedExtensions: spec.validation.allowedExtensions,\n                    element: spec.element,\n                    folders: spec.folders,\n                    multiple: spec.multiple,\n                    title: spec.fileInputTitle\n                });\n                this._extraButtonSpecs[button.getButtonId()] = spec;\n            },\n            _initFormSupportAndParams: function() {\n                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n                if (this._formSupport && this._formSupport.attachedToForm) {\n                    this._paramsStore = this._createStore(this._options.request.params, this._formSupport.getFormInputsAsObject);\n                    this._options.autoUpload = this._formSupport.newAutoUpload;\n                    if (this._formSupport.newEndpoint) {\n                        this._options.request.endpoint = this._formSupport.newEndpoint;\n                    }\n                } else {\n                    this._paramsStore = this._createStore(this._options.request.params);\n                }\n            },\n            _isDeletePossible: function() {\n                if (!qq.DeleteFileAjaxRequester || !this._options.deleteFile.enabled) {\n                    return false;\n                }\n                if (this._options.cors.expected) {\n                    if (qq.supportedFeatures.deleteFileCorsXhr) {\n                        return true;\n                    }\n                    if (qq.supportedFeatures.deleteFileCorsXdr && this._options.cors.allowXdr) {\n                        return true;\n                    }\n                    return false;\n                }\n                return true;\n            },\n            _isAllowedExtension: function(allowed, fileName) {\n                var valid = false;\n                if (!allowed.length) {\n                    return true;\n                }\n                qq.each(allowed, function(idx, allowedExt) {\n                    if (qq.isString(allowedExt)) {\n                        var extRegex = new RegExp(\"\\\\.\" + allowedExt + \"$\", \"i\");\n                        if (fileName.match(extRegex) != null) {\n                            valid = true;\n                            return false;\n                        }\n                    }\n                });\n                return valid;\n            },\n            _itemError: function(code, maybeNameOrNames, item) {\n                var message = this._options.messages[code], allowedExtensions = [], names = [].concat(maybeNameOrNames), name = names[0], buttonId = this._getButtonId(item), validationBase = this._getValidationBase(buttonId), extensionsForMessage, placeholderMatch;\n                function r(name, replacement) {\n                    message = message.replace(name, replacement);\n                }\n                qq.each(validationBase.allowedExtensions, function(idx, allowedExtension) {\n                    if (qq.isString(allowedExtension)) {\n                        allowedExtensions.push(allowedExtension);\n                    }\n                });\n                extensionsForMessage = allowedExtensions.join(\", \").toLowerCase();\n                r(\"{file}\", this._options.formatFileName(name));\n                r(\"{extensions}\", extensionsForMessage);\n                r(\"{sizeLimit}\", this._formatSize(validationBase.sizeLimit));\n                r(\"{minSizeLimit}\", this._formatSize(validationBase.minSizeLimit));\n                placeholderMatch = message.match(/(\\{\\w+\\})/g);\n                if (placeholderMatch !== null) {\n                    qq.each(placeholderMatch, function(idx, placeholder) {\n                        r(placeholder, names[idx]);\n                    });\n                }\n                this._options.callbacks.onError(null, name, message, undefined);\n                return message;\n            },\n            _manualRetry: function(id, callback) {\n                if (this._onBeforeManualRetry(id)) {\n                    this._netUploadedOrQueued++;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n                    if (callback) {\n                        callback(id);\n                    } else {\n                        this._handler.retry(id);\n                    }\n                    return true;\n                }\n            },\n            _maybeAllComplete: function(id, status) {\n                var self = this, notFinished = this._getNotFinished();\n                if (status === qq.status.UPLOAD_SUCCESSFUL) {\n                    this._succeededSinceLastAllComplete.push(id);\n                } else if (status === qq.status.UPLOAD_FAILED) {\n                    this._failedSinceLastAllComplete.push(id);\n                }\n                if (notFinished === 0 && (this._succeededSinceLastAllComplete.length || this._failedSinceLastAllComplete.length)) {\n                    setTimeout(function() {\n                        self._onAllComplete(self._succeededSinceLastAllComplete, self._failedSinceLastAllComplete);\n                    }, 0);\n                }\n            },\n            _maybeHandleIos8SafariWorkaround: function() {\n                var self = this;\n                if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) {\n                    setTimeout(function() {\n                        window.alert(self._options.messages.unsupportedBrowserIos8Safari);\n                    }, 0);\n                    throw new qq.Error(this._options.messages.unsupportedBrowserIos8Safari);\n                }\n            },\n            _maybeParseAndSendUploadError: function(id, name, response, xhr) {\n                if (!response.success) {\n                    if (xhr && xhr.status !== 200 && !response.error) {\n                        this._options.callbacks.onError(id, name, \"XHR returned response code \" + xhr.status, xhr);\n                    } else {\n                        var errorReason = response.error ? response.error : this._options.text.defaultResponseError;\n                        this._options.callbacks.onError(id, name, errorReason, xhr);\n                    }\n                }\n            },\n            _maybeProcessNextItemAfterOnValidateCallback: function(validItem, items, index, params, endpoint) {\n                var self = this;\n                if (items.length > index) {\n                    if (validItem || !this._options.validation.stopOnFirstInvalidFile) {\n                        setTimeout(function() {\n                            var validationDescriptor = self._getValidationDescriptor(items[index]), buttonId = self._getButtonId(items[index].file), button = self._getButton(buttonId);\n                            self._handleCheckedCallback({\n                                name: \"onValidate\",\n                                callback: qq.bind(self._options.callbacks.onValidate, self, validationDescriptor, button),\n                                onSuccess: qq.bind(self._onValidateCallbackSuccess, self, items, index, params, endpoint),\n                                onFailure: qq.bind(self._onValidateCallbackFailure, self, items, index, params, endpoint),\n                                identifier: \"Item '\" + validationDescriptor.name + \"', size: \" + validationDescriptor.size\n                            });\n                        }, 0);\n                    } else if (!validItem) {\n                        for (;index < items.length; index++) {\n                            self._fileOrBlobRejected(items[index].id);\n                        }\n                    }\n                }\n            },\n            _onAllComplete: function(successful, failed) {\n                this._totalProgress && this._totalProgress.onAllComplete(successful, failed, this._preventRetries);\n                this._options.callbacks.onAllComplete(qq.extend([], successful), qq.extend([], failed));\n                this._succeededSinceLastAllComplete = [];\n                this._failedSinceLastAllComplete = [];\n            },\n            _onAutoRetry: function(id, name, responseJSON, xhr, callback) {\n                var self = this;\n                self._preventRetries[id] = responseJSON[self._options.retry.preventRetryResponseProperty];\n                if (self._shouldAutoRetry(id)) {\n                    var retryWaitPeriod = self._options.retry.autoAttemptDelay * 1e3;\n                    self._maybeParseAndSendUploadError.apply(self, arguments);\n                    self._options.callbacks.onAutoRetry(id, name, self._autoRetries[id]);\n                    self._onBeforeAutoRetry(id, name);\n                    self._uploadData.setStatus(id, qq.status.UPLOAD_RETRYING);\n                    self._retryTimeouts[id] = setTimeout(function() {\n                        self.log(\"Starting retry for \" + name + \"...\");\n                        if (callback) {\n                            callback(id);\n                        } else {\n                            self._handler.retry(id);\n                        }\n                    }, retryWaitPeriod);\n                    return true;\n                }\n            },\n            _onBeforeAutoRetry: function(id, name) {\n                this.log(\"Waiting \" + this._options.retry.autoAttemptDelay + \" seconds before retrying \" + name + \"...\");\n            },\n            _onBeforeManualRetry: function(id) {\n                var itemLimit = this._currentItemLimit, fileName;\n                if (this._preventRetries[id]) {\n                    this.log(\"Retries are forbidden for id \" + id, \"warn\");\n                    return false;\n                } else if (this._handler.isValid(id)) {\n                    fileName = this.getName(id);\n                    if (this._options.callbacks.onManualRetry(id, fileName) === false) {\n                        return false;\n                    }\n                    if (itemLimit > 0 && this._netUploadedOrQueued + 1 > itemLimit) {\n                        this._itemError(\"retryFailTooManyItems\");\n                        return false;\n                    }\n                    this.log(\"Retrying upload for '\" + fileName + \"' (id: \" + id + \")...\");\n                    return true;\n                } else {\n                    this.log(\"'\" + id + \"' is not a valid file ID\", \"error\");\n                    return false;\n                }\n            },\n            _onCancel: function(id, name) {\n                this._netUploadedOrQueued--;\n                clearTimeout(this._retryTimeouts[id]);\n                var storedItemIndex = qq.indexOf(this._storedIds, id);\n                if (!this._options.autoUpload && storedItemIndex >= 0) {\n                    this._storedIds.splice(storedItemIndex, 1);\n                }\n                this._uploadData.setStatus(id, qq.status.CANCELED);\n            },\n            _onComplete: function(id, name, result, xhr) {\n                if (!result.success) {\n                    this._netUploadedOrQueued--;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_FAILED);\n                    if (result[this._options.retry.preventRetryResponseProperty] === true) {\n                        this._preventRetries[id] = true;\n                    }\n                } else {\n                    if (result.thumbnailUrl) {\n                        this._thumbnailUrls[id] = result.thumbnailUrl;\n                    }\n                    this._netUploaded++;\n                    this._uploadData.setStatus(id, qq.status.UPLOAD_SUCCESSFUL);\n                }\n                this._maybeParseAndSendUploadError(id, name, result, xhr);\n                return result.success ? true : false;\n            },\n            _onDelete: function(id) {\n                this._uploadData.setStatus(id, qq.status.DELETING);\n            },\n            _onDeleteComplete: function(id, xhrOrXdr, isError) {\n                var name = this.getName(id);\n                if (isError) {\n                    this._handleDeleteFailed(id, xhrOrXdr);\n                } else {\n                    this._handleDeleteSuccess(id);\n                }\n            },\n            _onInputChange: function(input) {\n                var fileIndex;\n                if (qq.supportedFeatures.ajaxUploading) {\n                    for (fileIndex = 0; fileIndex < input.files.length; fileIndex++) {\n                        this._annotateWithButtonId(input.files[fileIndex], input);\n                    }\n                    this.addFiles(input.files);\n                } else if (input.value.length > 0) {\n                    this.addFiles(input);\n                }\n                qq.each(this._buttons, function(idx, button) {\n                    button.reset();\n                });\n            },\n            _onProgress: function(id, name, loaded, total) {\n                this._totalProgress && this._totalProgress.onIndividualProgress(id, loaded, total);\n            },\n            _onSubmit: function(id, name) {},\n            _onSubmitCallbackSuccess: function(id, name) {\n                this._onSubmit.apply(this, arguments);\n                this._uploadData.setStatus(id, qq.status.SUBMITTED);\n                this._onSubmitted.apply(this, arguments);\n                if (this._options.autoUpload) {\n                    this._options.callbacks.onSubmitted.apply(this, arguments);\n                    this._uploadFile(id);\n                } else {\n                    this._storeForLater(id);\n                    this._options.callbacks.onSubmitted.apply(this, arguments);\n                }\n            },\n            _onSubmitDelete: function(id, onSuccessCallback, additionalMandatedParams) {\n                var uuid = this.getUuid(id), adjustedOnSuccessCallback;\n                if (onSuccessCallback) {\n                    adjustedOnSuccessCallback = qq.bind(onSuccessCallback, this, id, uuid, additionalMandatedParams);\n                }\n                if (this._isDeletePossible()) {\n                    this._handleCheckedCallback({\n                        name: \"onSubmitDelete\",\n                        callback: qq.bind(this._options.callbacks.onSubmitDelete, this, id),\n                        onSuccess: adjustedOnSuccessCallback || qq.bind(this._deleteHandler.sendDelete, this, id, uuid, additionalMandatedParams),\n                        identifier: id\n                    });\n                    return true;\n                } else {\n                    this.log(\"Delete request ignored for ID \" + id + \", delete feature is disabled or request not possible \" + \"due to CORS on a user agent that does not support pre-flighting.\", \"warn\");\n                    return false;\n                }\n            },\n            _onSubmitted: function(id) {},\n            _onTotalProgress: function(loaded, total) {\n                this._options.callbacks.onTotalProgress(loaded, total);\n            },\n            _onUploadPrep: function(id) {},\n            _onUpload: function(id, name) {\n                this._uploadData.setStatus(id, qq.status.UPLOADING);\n            },\n            _onUploadChunk: function(id, chunkData) {},\n            _onUploadChunkSuccess: function(id, chunkData) {\n                if (!this._preventRetries[id] && this._options.retry.enableAuto) {\n                    this._autoRetries[id] = 0;\n                }\n            },\n            _onUploadStatusChange: function(id, oldStatus, newStatus) {\n                if (newStatus === qq.status.PAUSED) {\n                    clearTimeout(this._retryTimeouts[id]);\n                }\n            },\n            _onValidateBatchCallbackFailure: function(fileWrappers) {\n                var self = this;\n                qq.each(fileWrappers, function(idx, fileWrapper) {\n                    self._fileOrBlobRejected(fileWrapper.id);\n                });\n            },\n            _onValidateBatchCallbackSuccess: function(validationDescriptors, items, params, endpoint, button) {\n                var errorMessage, itemLimit = this._currentItemLimit, proposedNetFilesUploadedOrQueued = this._netUploadedOrQueued;\n                if (itemLimit === 0 || proposedNetFilesUploadedOrQueued <= itemLimit) {\n                    if (items.length > 0) {\n                        this._handleCheckedCallback({\n                            name: \"onValidate\",\n                            callback: qq.bind(this._options.callbacks.onValidate, this, validationDescriptors[0], button),\n                            onSuccess: qq.bind(this._onValidateCallbackSuccess, this, items, 0, params, endpoint),\n                            onFailure: qq.bind(this._onValidateCallbackFailure, this, items, 0, params, endpoint),\n                            identifier: \"Item '\" + items[0].file.name + \"', size: \" + items[0].file.size\n                        });\n                    } else {\n                        this._itemError(\"noFilesError\");\n                    }\n                } else {\n                    this._onValidateBatchCallbackFailure(items);\n                    errorMessage = this._options.messages.tooManyItemsError.replace(/\\{netItems\\}/g, proposedNetFilesUploadedOrQueued).replace(/\\{itemLimit\\}/g, itemLimit);\n                    this._batchError(errorMessage);\n                }\n            },\n            _onValidateCallbackFailure: function(items, index, params, endpoint) {\n                var nextIndex = index + 1;\n                this._fileOrBlobRejected(items[index].id, items[index].file.name);\n                this._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n            },\n            _onValidateCallbackSuccess: function(items, index, params, endpoint) {\n                var self = this, nextIndex = index + 1, validationDescriptor = this._getValidationDescriptor(items[index]);\n                this._validateFileOrBlobData(items[index], validationDescriptor).then(function() {\n                    self._upload(items[index].id, params, endpoint);\n                    self._maybeProcessNextItemAfterOnValidateCallback(true, items, nextIndex, params, endpoint);\n                }, function() {\n                    self._maybeProcessNextItemAfterOnValidateCallback(false, items, nextIndex, params, endpoint);\n                });\n            },\n            _prepareItemsForUpload: function(items, params, endpoint) {\n                if (items.length === 0) {\n                    this._itemError(\"noFilesError\");\n                    return;\n                }\n                var validationDescriptors = this._getValidationDescriptors(items), buttonId = this._getButtonId(items[0].file), button = this._getButton(buttonId);\n                this._handleCheckedCallback({\n                    name: \"onValidateBatch\",\n                    callback: qq.bind(this._options.callbacks.onValidateBatch, this, validationDescriptors, button),\n                    onSuccess: qq.bind(this._onValidateBatchCallbackSuccess, this, validationDescriptors, items, params, endpoint, button),\n                    onFailure: qq.bind(this._onValidateBatchCallbackFailure, this, items),\n                    identifier: \"batch validation\"\n                });\n            },\n            _preventLeaveInProgress: function() {\n                var self = this;\n                this._disposeSupport.attach(window, \"beforeunload\", function(e) {\n                    if (self.getInProgress()) {\n                        e = e || window.event;\n                        e.returnValue = self._options.messages.onLeave;\n                        return self._options.messages.onLeave;\n                    }\n                });\n            },\n            _refreshSessionData: function() {\n                var self = this, options = this._options.session;\n                if (qq.Session && this._options.session.endpoint != null) {\n                    if (!this._session) {\n                        qq.extend(options, {\n                            cors: this._options.cors\n                        });\n                        options.log = qq.bind(this.log, this);\n                        options.addFileRecord = qq.bind(this._addCannedFile, this);\n                        this._session = new qq.Session(options);\n                    }\n                    setTimeout(function() {\n                        self._session.refresh().then(function(response, xhrOrXdr) {\n                            self._sessionRequestComplete();\n                            self._options.callbacks.onSessionRequestComplete(response, true, xhrOrXdr);\n                        }, function(response, xhrOrXdr) {\n                            self._options.callbacks.onSessionRequestComplete(response, false, xhrOrXdr);\n                        });\n                    }, 0);\n                }\n            },\n            _sessionRequestComplete: function() {},\n            _setSize: function(id, newSize) {\n                this._uploadData.updateSize(id, newSize);\n                this._totalProgress && this._totalProgress.onNewSize(id);\n            },\n            _shouldAutoRetry: function(id) {\n                var uploadData = this._uploadData.retrieve({\n                    id: id\n                });\n                if (!this._preventRetries[id] && this._options.retry.enableAuto && uploadData.status !== qq.status.PAUSED) {\n                    if (this._autoRetries[id] === undefined) {\n                        this._autoRetries[id] = 0;\n                    }\n                    if (this._autoRetries[id] < this._options.retry.maxAutoAttempts) {\n                        this._autoRetries[id] += 1;\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _storeForLater: function(id) {\n                this._storedIds.push(id);\n            },\n            _trackButton: function(id) {\n                var buttonId;\n                if (qq.supportedFeatures.ajaxUploading) {\n                    buttonId = this._handler.getFile(id).qqButtonId;\n                } else {\n                    buttonId = this._getButtonId(this._handler.getInput(id));\n                }\n                if (buttonId) {\n                    this._buttonIdsForFileIds[id] = buttonId;\n                }\n            },\n            _updateFormSupportAndParams: function(formElementOrId) {\n                this._options.form.element = formElementOrId;\n                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this));\n                if (this._formSupport && this._formSupport.attachedToForm) {\n                    this._paramsStore.addReadOnly(null, this._formSupport.getFormInputsAsObject);\n                    this._options.autoUpload = this._formSupport.newAutoUpload;\n                    if (this._formSupport.newEndpoint) {\n                        this.setEndpoint(this._formSupport.newEndpoint);\n                    }\n                }\n            },\n            _upload: function(id, params, endpoint) {\n                var name = this.getName(id);\n                if (params) {\n                    this.setParams(params, id);\n                }\n                if (endpoint) {\n                    this.setEndpoint(endpoint, id);\n                }\n                this._handleCheckedCallback({\n                    name: \"onSubmit\",\n                    callback: qq.bind(this._options.callbacks.onSubmit, this, id, name),\n                    onSuccess: qq.bind(this._onSubmitCallbackSuccess, this, id, name),\n                    onFailure: qq.bind(this._fileOrBlobRejected, this, id, name),\n                    identifier: id\n                });\n            },\n            _uploadFile: function(id) {\n                if (!this._handler.upload(id)) {\n                    this._uploadData.setStatus(id, qq.status.QUEUED);\n                }\n            },\n            _uploadStoredFiles: function() {\n                var idToUpload, stillSubmitting, self = this;\n                while (this._storedIds.length) {\n                    idToUpload = this._storedIds.shift();\n                    this._uploadFile(idToUpload);\n                }\n                stillSubmitting = this.getUploads({\n                    status: qq.status.SUBMITTING\n                }).length;\n                if (stillSubmitting) {\n                    qq.log(\"Still waiting for \" + stillSubmitting + \" files to clear submit queue. Will re-parse stored IDs array shortly.\");\n                    setTimeout(function() {\n                        self._uploadStoredFiles();\n                    }, 1e3);\n                }\n            },\n            _validateFileOrBlobData: function(fileWrapper, validationDescriptor) {\n                var self = this, file = function() {\n                    if (fileWrapper.file instanceof qq.BlobProxy) {\n                        return fileWrapper.file.referenceBlob;\n                    }\n                    return fileWrapper.file;\n                }(), name = validationDescriptor.name, size = validationDescriptor.size, buttonId = this._getButtonId(fileWrapper.file), validationBase = this._getValidationBase(buttonId), validityChecker = new qq.Promise();\n                validityChecker.then(function() {}, function() {\n                    self._fileOrBlobRejected(fileWrapper.id, name);\n                });\n                if (qq.isFileOrInput(file) && !this._isAllowedExtension(validationBase.allowedExtensions, name)) {\n                    this._itemError(\"typeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (!this._options.validation.allowEmpty && size === 0) {\n                    this._itemError(\"emptyError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (size > 0 && validationBase.sizeLimit && size > validationBase.sizeLimit) {\n                    this._itemError(\"sizeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (size > 0 && size < validationBase.minSizeLimit) {\n                    this._itemError(\"minSizeError\", name, file);\n                    return validityChecker.failure();\n                }\n                if (qq.ImageValidation && qq.supportedFeatures.imagePreviews && qq.isFile(file)) {\n                    new qq.ImageValidation(file, qq.bind(self.log, self)).validate(validationBase.image).then(validityChecker.success, function(errorCode) {\n                        self._itemError(errorCode + \"ImageError\", name, file);\n                        validityChecker.failure();\n                    });\n                } else {\n                    validityChecker.success();\n                }\n                return validityChecker;\n            },\n            _wrapCallbacks: function() {\n                var self, safeCallback, prop;\n                self = this;\n                safeCallback = function(name, callback, args) {\n                    var errorMsg;\n                    try {\n                        return callback.apply(self, args);\n                    } catch (exception) {\n                        errorMsg = exception.message || exception.toString();\n                        self.log(\"Caught exception in '\" + name + \"' callback - \" + errorMsg, \"error\");\n                    }\n                };\n                for (prop in this._options.callbacks) {\n                    (function() {\n                        var callbackName, callbackFunc;\n                        callbackName = prop;\n                        callbackFunc = self._options.callbacks[callbackName];\n                        self._options.callbacks[callbackName] = function() {\n                            return safeCallback(callbackName, callbackFunc, arguments);\n                        };\n                    })();\n                }\n            }\n        };\n    })();\n    (function() {\n        \"use strict\";\n        qq.FineUploaderBasic = function(o) {\n            var self = this;\n            this._options = {\n                debug: false,\n                button: null,\n                multiple: true,\n                maxConnections: 3,\n                disableCancelForFormUploads: false,\n                autoUpload: true,\n                warnBeforeUnload: true,\n                request: {\n                    customHeaders: {},\n                    endpoint: \"/server/upload\",\n                    filenameParam: \"qqfilename\",\n                    forceMultipart: true,\n                    inputName: \"qqfile\",\n                    method: \"POST\",\n                    omitDefaultParams: false,\n                    params: {},\n                    paramsInBody: true,\n                    requireSuccessJson: true,\n                    totalFileSizeName: \"qqtotalfilesize\",\n                    uuidName: \"qquuid\"\n                },\n                validation: {\n                    allowedExtensions: [],\n                    sizeLimit: 0,\n                    minSizeLimit: 0,\n                    itemLimit: 0,\n                    stopOnFirstInvalidFile: true,\n                    acceptFiles: null,\n                    image: {\n                        maxHeight: 0,\n                        maxWidth: 0,\n                        minHeight: 0,\n                        minWidth: 0\n                    },\n                    allowEmpty: false\n                },\n                callbacks: {\n                    onSubmit: function(id, name) {},\n                    onSubmitted: function(id, name) {},\n                    onComplete: function(id, name, responseJSON, maybeXhr) {},\n                    onAllComplete: function(successful, failed) {},\n                    onCancel: function(id, name) {},\n                    onUpload: function(id, name) {},\n                    onUploadChunk: function(id, name, chunkData) {},\n                    onUploadChunkSuccess: function(id, chunkData, responseJSON, xhr) {},\n                    onResume: function(id, fileName, chunkData, customResumeData) {},\n                    onProgress: function(id, name, loaded, total) {},\n                    onTotalProgress: function(loaded, total) {},\n                    onError: function(id, name, reason, maybeXhrOrXdr) {},\n                    onAutoRetry: function(id, name, attemptNumber) {},\n                    onManualRetry: function(id, name) {},\n                    onValidateBatch: function(fileOrBlobData) {},\n                    onValidate: function(fileOrBlobData) {},\n                    onSubmitDelete: function(id) {},\n                    onDelete: function(id) {},\n                    onDeleteComplete: function(id, xhrOrXdr, isError) {},\n                    onPasteReceived: function(blob) {},\n                    onStatusChange: function(id, oldStatus, newStatus) {},\n                    onSessionRequestComplete: function(response, success, xhrOrXdr) {}\n                },\n                messages: {\n                    typeError: \"{file} has an invalid extension. Valid extension(s): {extensions}.\",\n                    sizeError: \"{file} is too large, maximum file size is {sizeLimit}.\",\n                    minSizeError: \"{file} is too small, minimum file size is {minSizeLimit}.\",\n                    emptyError: \"{file} is empty, please select files again without it.\",\n                    noFilesError: \"No files to upload.\",\n                    tooManyItemsError: \"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.\",\n                    maxHeightImageError: \"Image is too tall.\",\n                    maxWidthImageError: \"Image is too wide.\",\n                    minHeightImageError: \"Image is not tall enough.\",\n                    minWidthImageError: \"Image is not wide enough.\",\n                    retryFailTooManyItems: \"Retry failed - you have reached your file limit.\",\n                    onLeave: \"The files are being uploaded, if you leave now the upload will be canceled.\",\n                    unsupportedBrowserIos8Safari: \"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues.\"\n                },\n                retry: {\n                    enableAuto: false,\n                    maxAutoAttempts: 3,\n                    autoAttemptDelay: 5,\n                    preventRetryResponseProperty: \"preventRetry\"\n                },\n                classes: {\n                    buttonHover: \"qq-upload-button-hover\",\n                    buttonFocus: \"qq-upload-button-focus\"\n                },\n                chunking: {\n                    enabled: false,\n                    concurrent: {\n                        enabled: false\n                    },\n                    mandatory: false,\n                    paramNames: {\n                        partIndex: \"qqpartindex\",\n                        partByteOffset: \"qqpartbyteoffset\",\n                        chunkSize: \"qqchunksize\",\n                        totalFileSize: \"qqtotalfilesize\",\n                        totalParts: \"qqtotalparts\"\n                    },\n                    partSize: function(id) {\n                        return 2e6;\n                    },\n                    success: {\n                        endpoint: null,\n                        headers: function(id) {\n                            return null;\n                        },\n                        jsonPayload: false,\n                        method: \"POST\",\n                        params: function(id) {\n                            return null;\n                        },\n                        resetOnStatus: []\n                    }\n                },\n                resume: {\n                    enabled: false,\n                    recordsExpireIn: 7,\n                    paramNames: {\n                        resuming: \"qqresume\"\n                    },\n                    customKeys: function(fileId) {\n                        return [];\n                    }\n                },\n                formatFileName: function(fileOrBlobName) {\n                    return fileOrBlobName;\n                },\n                text: {\n                    defaultResponseError: \"Upload failure reason unknown\",\n                    fileInputTitle: \"file input\",\n                    sizeSymbols: [ \"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\" ]\n                },\n                deleteFile: {\n                    enabled: false,\n                    method: \"DELETE\",\n                    endpoint: \"/server/upload\",\n                    customHeaders: {},\n                    params: {}\n                },\n                cors: {\n                    expected: false,\n                    sendCredentials: false,\n                    allowXdr: false\n                },\n                blobs: {\n                    defaultName: \"misc_data\"\n                },\n                paste: {\n                    targetElement: null,\n                    defaultName: \"pasted_image\"\n                },\n                camera: {\n                    ios: false,\n                    button: null\n                },\n                extraButtons: [],\n                session: {\n                    endpoint: null,\n                    params: {},\n                    customHeaders: {},\n                    refreshOnReset: true\n                },\n                form: {\n                    element: \"qq-form\",\n                    autoUpload: false,\n                    interceptSubmit: true\n                },\n                scaling: {\n                    customResizer: null,\n                    sendOriginal: true,\n                    orient: true,\n                    defaultType: null,\n                    defaultQuality: 80,\n                    failureText: \"Failed to scale\",\n                    includeExif: false,\n                    sizes: []\n                },\n                workarounds: {\n                    iosEmptyVideos: true,\n                    ios8SafariUploads: true,\n                    ios8BrowserCrash: false\n                }\n            };\n            qq.extend(this._options, o, true);\n            this._buttons = [];\n            this._extraButtonSpecs = {};\n            this._buttonIdsForFileIds = [];\n            this._wrapCallbacks();\n            this._disposeSupport = new qq.DisposeSupport();\n            this._storedIds = [];\n            this._autoRetries = [];\n            this._retryTimeouts = [];\n            this._preventRetries = [];\n            this._thumbnailUrls = [];\n            this._netUploadedOrQueued = 0;\n            this._netUploaded = 0;\n            this._uploadData = this._createUploadDataTracker();\n            this._initFormSupportAndParams();\n            this._customHeadersStore = this._createStore(this._options.request.customHeaders);\n            this._deleteFileCustomHeadersStore = this._createStore(this._options.deleteFile.customHeaders);\n            this._deleteFileParamsStore = this._createStore(this._options.deleteFile.params);\n            this._endpointStore = this._createStore(this._options.request.endpoint);\n            this._deleteFileEndpointStore = this._createStore(this._options.deleteFile.endpoint);\n            this._handler = this._createUploadHandler();\n            this._deleteHandler = qq.DeleteFileAjaxRequester && this._createDeleteHandler();\n            if (this._options.button) {\n                this._defaultButtonId = this._createUploadButton({\n                    element: this._options.button,\n                    title: this._options.text.fileInputTitle\n                }).getButtonId();\n            }\n            this._generateExtraButtonSpecs();\n            this._handleCameraAccess();\n            if (this._options.paste.targetElement) {\n                if (qq.PasteSupport) {\n                    this._pasteHandler = this._createPasteHandler();\n                } else {\n                    this.log(\"Paste support module not found\", \"error\");\n                }\n            }\n            this._options.warnBeforeUnload && this._preventLeaveInProgress();\n            this._imageGenerator = qq.ImageGenerator && new qq.ImageGenerator(qq.bind(this.log, this));\n            this._refreshSessionData();\n            this._succeededSinceLastAllComplete = [];\n            this._failedSinceLastAllComplete = [];\n            this._scaler = qq.Scaler && new qq.Scaler(this._options.scaling, qq.bind(this.log, this)) || {};\n            if (this._scaler.enabled) {\n                this._customNewFileHandler = qq.bind(this._scaler.handleNewFile, this._scaler);\n            }\n            if (qq.TotalProgress && qq.supportedFeatures.progressBar) {\n                this._totalProgress = new qq.TotalProgress(qq.bind(this._onTotalProgress, this), function(id) {\n                    var entry = self._uploadData.retrieve({\n                        id: id\n                    });\n                    return entry && entry.size || 0;\n                });\n            }\n            this._currentItemLimit = this._options.validation.itemLimit;\n            this._customResumeDataStore = this._createStore();\n        };\n        qq.FineUploaderBasic.prototype = qq.basePublicApi;\n        qq.extend(qq.FineUploaderBasic.prototype, qq.basePrivateApi);\n    })();\n    qq.AjaxRequester = function(o) {\n        \"use strict\";\n        var log, shouldParamsBeInQueryString, queue = [], requestData = {}, options = {\n            acceptHeader: null,\n            validMethods: [ \"PATCH\", \"POST\", \"PUT\" ],\n            method: \"POST\",\n            contentType: \"application/x-www-form-urlencoded\",\n            maxConnections: 3,\n            customHeaders: {},\n            endpointStore: {},\n            paramsStore: {},\n            mandatedParams: {},\n            allowXRequestedWithAndCacheControl: true,\n            successfulResponseCodes: {\n                DELETE: [ 200, 202, 204 ],\n                PATCH: [ 200, 201, 202, 203, 204 ],\n                POST: [ 200, 201, 202, 203, 204 ],\n                PUT: [ 200, 201, 202, 203, 204 ],\n                GET: [ 200 ]\n            },\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            log: function(str, level) {},\n            onSend: function(id) {},\n            onComplete: function(id, xhrOrXdr, isError) {},\n            onProgress: null\n        };\n        qq.extend(options, o);\n        log = options.log;\n        if (qq.indexOf(options.validMethods, options.method) < 0) {\n            throw new Error(\"'\" + options.method + \"' is not a supported method for this type of request!\");\n        }\n        function isSimpleMethod() {\n            return qq.indexOf([ \"GET\", \"POST\", \"HEAD\" ], options.method) >= 0;\n        }\n        function containsNonSimpleHeaders(headers) {\n            var containsNonSimple = false;\n            qq.each(containsNonSimple, function(idx, header) {\n                if (qq.indexOf([ \"Accept\", \"Accept-Language\", \"Content-Language\", \"Content-Type\" ], header) < 0) {\n                    containsNonSimple = true;\n                    return false;\n                }\n            });\n            return containsNonSimple;\n        }\n        function isXdr(xhr) {\n            return options.cors.expected && xhr.withCredentials === undefined;\n        }\n        function getCorsAjaxTransport() {\n            var xhrOrXdr;\n            if (window.XMLHttpRequest || window.ActiveXObject) {\n                xhrOrXdr = qq.createXhrInstance();\n                if (xhrOrXdr.withCredentials === undefined) {\n                    xhrOrXdr = new XDomainRequest();\n                    xhrOrXdr.onload = function() {};\n                    xhrOrXdr.onerror = function() {};\n                    xhrOrXdr.ontimeout = function() {};\n                    xhrOrXdr.onprogress = function() {};\n                }\n            }\n            return xhrOrXdr;\n        }\n        function getXhrOrXdr(id, suppliedXhr) {\n            var xhrOrXdr = requestData[id] && requestData[id].xhr;\n            if (!xhrOrXdr) {\n                if (suppliedXhr) {\n                    xhrOrXdr = suppliedXhr;\n                } else {\n                    if (options.cors.expected) {\n                        xhrOrXdr = getCorsAjaxTransport();\n                    } else {\n                        xhrOrXdr = qq.createXhrInstance();\n                    }\n                }\n                requestData[id].xhr = xhrOrXdr;\n            }\n            return xhrOrXdr;\n        }\n        function dequeue(id) {\n            var i = qq.indexOf(queue, id), max = options.maxConnections, nextId;\n            delete requestData[id];\n            queue.splice(i, 1);\n            if (queue.length >= max && i < max) {\n                nextId = queue[max - 1];\n                sendRequest(nextId);\n            }\n        }\n        function onComplete(id, xdrError) {\n            var xhr = getXhrOrXdr(id), method = options.method, isError = xdrError === true;\n            dequeue(id);\n            if (isError) {\n                log(method + \" request for \" + id + \" has failed\", \"error\");\n            } else if (!isXdr(xhr) && !isResponseSuccessful(xhr.status)) {\n                isError = true;\n                log(method + \" request for \" + id + \" has failed - response code \" + xhr.status, \"error\");\n            }\n            options.onComplete(id, xhr, isError);\n        }\n        function getParams(id) {\n            var onDemandParams = requestData[id].additionalParams, mandatedParams = options.mandatedParams, params;\n            if (options.paramsStore.get) {\n                params = options.paramsStore.get(id);\n            }\n            if (onDemandParams) {\n                qq.each(onDemandParams, function(name, val) {\n                    params = params || {};\n                    params[name] = val;\n                });\n            }\n            if (mandatedParams) {\n                qq.each(mandatedParams, function(name, val) {\n                    params = params || {};\n                    params[name] = val;\n                });\n            }\n            return params;\n        }\n        function sendRequest(id, optXhr) {\n            var xhr = getXhrOrXdr(id, optXhr), method = options.method, params = getParams(id), payload = requestData[id].payload, url;\n            options.onSend(id);\n            url = createUrl(id, params, requestData[id].additionalQueryParams);\n            if (isXdr(xhr)) {\n                xhr.onload = getXdrLoadHandler(id);\n                xhr.onerror = getXdrErrorHandler(id);\n            } else {\n                xhr.onreadystatechange = getXhrReadyStateChangeHandler(id);\n            }\n            registerForUploadProgress(id);\n            xhr.open(method, url, true);\n            if (options.cors.expected && options.cors.sendCredentials && !isXdr(xhr)) {\n                xhr.withCredentials = true;\n            }\n            setHeaders(id);\n            log(\"Sending \" + method + \" request for \" + id);\n            if (payload) {\n                xhr.send(payload);\n            } else if (shouldParamsBeInQueryString || !params) {\n                xhr.send();\n            } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/x-www-form-urlencoded\") >= 0) {\n                xhr.send(qq.obj2url(params, \"\"));\n            } else if (params && options.contentType && options.contentType.toLowerCase().indexOf(\"application/json\") >= 0) {\n                xhr.send(JSON.stringify(params));\n            } else {\n                xhr.send(params);\n            }\n            return xhr;\n        }\n        function createUrl(id, params, additionalQueryParams) {\n            var endpoint = options.endpointStore.get(id), addToPath = requestData[id].addToPath;\n            if (addToPath != undefined) {\n                endpoint += \"/\" + addToPath;\n            }\n            if (shouldParamsBeInQueryString && params) {\n                endpoint = qq.obj2url(params, endpoint);\n            }\n            if (additionalQueryParams) {\n                endpoint = qq.obj2url(additionalQueryParams, endpoint);\n            }\n            return endpoint;\n        }\n        function getXhrReadyStateChangeHandler(id) {\n            return function() {\n                if (getXhrOrXdr(id).readyState === 4) {\n                    onComplete(id);\n                }\n            };\n        }\n        function registerForUploadProgress(id) {\n            var onProgress = options.onProgress;\n            if (onProgress) {\n                getXhrOrXdr(id).upload.onprogress = function(e) {\n                    if (e.lengthComputable) {\n                        onProgress(id, e.loaded, e.total);\n                    }\n                };\n            }\n        }\n        function getXdrLoadHandler(id) {\n            return function() {\n                onComplete(id);\n            };\n        }\n        function getXdrErrorHandler(id) {\n            return function() {\n                onComplete(id, true);\n            };\n        }\n        function setHeaders(id) {\n            var xhr = getXhrOrXdr(id), customHeaders = options.customHeaders, onDemandHeaders = requestData[id].additionalHeaders || {}, method = options.method, allHeaders = {};\n            if (!isXdr(xhr)) {\n                options.acceptHeader && xhr.setRequestHeader(\"Accept\", options.acceptHeader);\n                if (options.allowXRequestedWithAndCacheControl) {\n                    if (!options.cors.expected || (!isSimpleMethod() || containsNonSimpleHeaders(customHeaders))) {\n                        xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                        xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n                    }\n                }\n                if (options.contentType && (method === \"POST\" || method === \"PUT\")) {\n                    xhr.setRequestHeader(\"Content-Type\", options.contentType);\n                }\n                qq.extend(allHeaders, qq.isFunction(customHeaders) ? customHeaders(id) : customHeaders);\n                qq.extend(allHeaders, onDemandHeaders);\n                qq.each(allHeaders, function(name, val) {\n                    xhr.setRequestHeader(name, val);\n                });\n            }\n        }\n        function isResponseSuccessful(responseCode) {\n            return qq.indexOf(options.successfulResponseCodes[options.method], responseCode) >= 0;\n        }\n        function prepareToSend(id, optXhr, addToPath, additionalParams, additionalQueryParams, additionalHeaders, payload) {\n            requestData[id] = {\n                addToPath: addToPath,\n                additionalParams: additionalParams,\n                additionalQueryParams: additionalQueryParams,\n                additionalHeaders: additionalHeaders,\n                payload: payload\n            };\n            var len = queue.push(id);\n            if (len <= options.maxConnections) {\n                return sendRequest(id, optXhr);\n            }\n        }\n        shouldParamsBeInQueryString = options.method === \"GET\" || options.method === \"DELETE\";\n        qq.extend(this, {\n            initTransport: function(id) {\n                var path, params, headers, payload, cacheBuster, additionalQueryParams;\n                return {\n                    withPath: function(appendToPath) {\n                        path = appendToPath;\n                        return this;\n                    },\n                    withParams: function(additionalParams) {\n                        params = additionalParams;\n                        return this;\n                    },\n                    withQueryParams: function(_additionalQueryParams_) {\n                        additionalQueryParams = _additionalQueryParams_;\n                        return this;\n                    },\n                    withHeaders: function(additionalHeaders) {\n                        headers = additionalHeaders;\n                        return this;\n                    },\n                    withPayload: function(thePayload) {\n                        payload = thePayload;\n                        return this;\n                    },\n                    withCacheBuster: function() {\n                        cacheBuster = true;\n                        return this;\n                    },\n                    send: function(optXhr) {\n                        if (cacheBuster && qq.indexOf([ \"GET\", \"DELETE\" ], options.method) >= 0) {\n                            params.qqtimestamp = new Date().getTime();\n                        }\n                        return prepareToSend(id, optXhr, path, params, additionalQueryParams, headers, payload);\n                    }\n                };\n            },\n            canceled: function(id) {\n                dequeue(id);\n            }\n        });\n    };\n    qq.UploadHandler = function(spec) {\n        \"use strict\";\n        var proxy = spec.proxy, fileState = {}, onCancel = proxy.onCancel, getName = proxy.getName;\n        qq.extend(this, {\n            add: function(id, fileItem) {\n                fileState[id] = fileItem;\n                fileState[id].temp = {};\n            },\n            cancel: function(id) {\n                var self = this, cancelFinalizationEffort = new qq.Promise(), onCancelRetVal = onCancel(id, getName(id), cancelFinalizationEffort);\n                onCancelRetVal.then(function() {\n                    if (self.isValid(id)) {\n                        fileState[id].canceled = true;\n                        self.expunge(id);\n                    }\n                    cancelFinalizationEffort.success();\n                });\n            },\n            expunge: function(id) {\n                delete fileState[id];\n            },\n            getThirdPartyFileId: function(id) {\n                return fileState[id].key;\n            },\n            isValid: function(id) {\n                return fileState[id] !== undefined;\n            },\n            reset: function() {\n                fileState = {};\n            },\n            _getFileState: function(id) {\n                return fileState[id];\n            },\n            _setThirdPartyFileId: function(id, thirdPartyFileId) {\n                fileState[id].key = thirdPartyFileId;\n            },\n            _wasCanceled: function(id) {\n                return !!fileState[id].canceled;\n            }\n        });\n    };\n    qq.UploadHandlerController = function(o, namespace) {\n        \"use strict\";\n        var controller = this, chunkingPossible = false, concurrentChunkingPossible = false, chunking, preventRetryResponse, log, handler, options = {\n            paramsStore: {},\n            maxConnections: 3,\n            chunking: {\n                enabled: false,\n                multiple: {\n                    enabled: false\n                }\n            },\n            log: function(str, level) {},\n            onProgress: function(id, fileName, loaded, total) {},\n            onComplete: function(id, fileName, response, xhr) {},\n            onCancel: function(id, fileName) {},\n            onUploadPrep: function(id) {},\n            onUpload: function(id, fileName) {},\n            onUploadChunk: function(id, fileName, chunkData) {},\n            onUploadChunkSuccess: function(id, chunkData, response, xhr) {},\n            onAutoRetry: function(id, fileName, response, xhr) {},\n            onResume: function(id, fileName, chunkData, customResumeData) {},\n            onUuidChanged: function(id, newUuid) {},\n            getName: function(id) {},\n            setSize: function(id, newSize) {},\n            isQueued: function(id) {},\n            getIdsInProxyGroup: function(id) {},\n            getIdsInBatch: function(id) {},\n            isInProgress: function(id) {}\n        }, chunked = {\n            done: function(id, chunkIdx, response, xhr) {\n                var chunkData = handler._getChunkData(id, chunkIdx);\n                handler._getFileState(id).attemptingResume = false;\n                delete handler._getFileState(id).temp.chunkProgress[chunkIdx];\n                handler._getFileState(id).loaded += chunkData.size;\n                options.onUploadChunkSuccess(id, handler._getChunkDataForCallback(chunkData), response, xhr);\n            },\n            finalize: function(id) {\n                var size = options.getSize(id), name = options.getName(id);\n                log(\"All chunks have been uploaded for \" + id + \" - finalizing....\");\n                handler.finalizeChunks(id).then(function(response, xhr) {\n                    log(\"Finalize successful for \" + id);\n                    var normaizedResponse = upload.normalizeResponse(response, true);\n                    options.onProgress(id, name, size, size);\n                    handler._maybeDeletePersistedChunkData(id);\n                    upload.cleanup(id, normaizedResponse, xhr);\n                }, function(response, xhr) {\n                    var normalizedResponse = upload.normalizeResponse(response, false);\n                    log(\"Problem finalizing chunks for file ID \" + id + \" - \" + normalizedResponse.error, \"error\");\n                    if (normalizedResponse.reset || xhr && options.chunking.success.resetOnStatus.indexOf(xhr.status) >= 0) {\n                        chunked.reset(id);\n                    }\n                    if (!options.onAutoRetry(id, name, normalizedResponse, xhr)) {\n                        upload.cleanup(id, normalizedResponse, xhr);\n                    }\n                });\n            },\n            handleFailure: function(chunkIdx, id, response, xhr) {\n                var name = options.getName(id);\n                log(\"Chunked upload request failed for \" + id + \", chunk \" + chunkIdx);\n                handler.clearCachedChunk(id, chunkIdx);\n                var responseToReport = upload.normalizeResponse(response, false), inProgressIdx;\n                if (responseToReport.reset) {\n                    chunked.reset(id);\n                } else {\n                    var inProgressChunksArray = handler._getFileState(id).chunking.inProgress;\n                    inProgressIdx = inProgressChunksArray ? qq.indexOf(inProgressChunksArray, chunkIdx) : -1;\n                    if (inProgressIdx >= 0) {\n                        handler._getFileState(id).chunking.inProgress.splice(inProgressIdx, 1);\n                        handler._getFileState(id).chunking.remaining.unshift(chunkIdx);\n                    }\n                }\n                if (!handler._getFileState(id).temp.ignoreFailure) {\n                    if (concurrentChunkingPossible) {\n                        handler._getFileState(id).temp.ignoreFailure = true;\n                        log(qq.format(\"Going to attempt to abort these chunks: {}. These are currently in-progress: {}.\", JSON.stringify(Object.keys(handler._getXhrs(id))), JSON.stringify(handler._getFileState(id).chunking.inProgress)));\n                        qq.each(handler._getXhrs(id), function(ckid, ckXhr) {\n                            log(qq.format(\"Attempting to abort file {}.{}. XHR readyState {}. \", id, ckid, ckXhr.readyState));\n                            ckXhr.abort();\n                            ckXhr._cancelled = true;\n                        });\n                        handler.moveInProgressToRemaining(id);\n                        connectionManager.free(id, true);\n                    }\n                    if (!options.onAutoRetry(id, name, responseToReport, xhr)) {\n                        upload.cleanup(id, responseToReport, xhr);\n                    }\n                }\n            },\n            hasMoreParts: function(id) {\n                return !!handler._getFileState(id).chunking.remaining.length;\n            },\n            nextPart: function(id) {\n                var nextIdx = handler._getFileState(id).chunking.remaining.shift();\n                if (nextIdx >= handler._getTotalChunks(id)) {\n                    nextIdx = null;\n                }\n                return nextIdx;\n            },\n            reset: function(id) {\n                log(\"Server or callback has ordered chunking effort to be restarted on next attempt for item ID \" + id, \"error\");\n                handler._maybeDeletePersistedChunkData(id);\n                handler.reevaluateChunking(id);\n                handler._getFileState(id).loaded = 0;\n                handler._getFileState(id).attemptingResume = false;\n            },\n            sendNext: function(id) {\n                var size = options.getSize(id), name = options.getName(id), chunkIdx = chunked.nextPart(id), chunkData = handler._getChunkData(id, chunkIdx), fileState = handler._getFileState(id), resuming = fileState.attemptingResume, inProgressChunks = fileState.chunking.inProgress || [];\n                if (fileState.loaded == null) {\n                    fileState.loaded = 0;\n                }\n                if (resuming && options.onResume(id, name, chunkData, fileState.customResumeData) === false) {\n                    chunked.reset(id);\n                    chunkIdx = chunked.nextPart(id);\n                    chunkData = handler._getChunkData(id, chunkIdx);\n                    resuming = false;\n                }\n                if (chunkIdx == null && inProgressChunks.length === 0) {\n                    chunked.finalize(id);\n                } else {\n                    inProgressChunks.push(chunkIdx);\n                    handler._getFileState(id).chunking.inProgress = inProgressChunks;\n                    if (concurrentChunkingPossible) {\n                        connectionManager.open(id, chunkIdx);\n                    }\n                    if (concurrentChunkingPossible && connectionManager.available() && handler._getFileState(id).chunking.remaining.length) {\n                        chunked.sendNext(id);\n                    }\n                    if (chunkData.blob.size === 0) {\n                        log(qq.format(\"Chunk {} for file {} will not be uploaded, zero sized chunk.\", chunkIdx, id), \"error\");\n                        chunked.handleFailure(chunkIdx, id, \"File is no longer available\", null);\n                    }\n                    var onUploadChunkPromise = options.onUploadChunk(id, name, handler._getChunkDataForCallback(chunkData));\n                    onUploadChunkPromise.then(function(requestOverrides) {\n                        if (!options.isInProgress(id)) {\n                            log(qq.format(\"Not sending chunked upload request for item {}.{} - no longer in progress.\", id, chunkIdx));\n                        } else {\n                            log(qq.format(\"Sending chunked upload request for item {}.{}, bytes {}-{} of {}.\", id, chunkIdx, chunkData.start + 1, chunkData.end, size));\n                            var uploadChunkData = {\n                                chunkIdx: chunkIdx,\n                                id: id,\n                                overrides: requestOverrides,\n                                resuming: resuming\n                            };\n                            handler.uploadChunk(uploadChunkData).then(function success(response, xhr) {\n                                log(\"Chunked upload request succeeded for \" + id + \", chunk \" + chunkIdx);\n                                handler.clearCachedChunk(id, chunkIdx);\n                                var inProgressChunks = handler._getFileState(id).chunking.inProgress || [], responseToReport = upload.normalizeResponse(response, true), inProgressChunkIdx = qq.indexOf(inProgressChunks, chunkIdx);\n                                log(qq.format(\"Chunk {} for file {} uploaded successfully.\", chunkIdx, id));\n                                chunked.done(id, chunkIdx, responseToReport, xhr);\n                                if (inProgressChunkIdx >= 0) {\n                                    inProgressChunks.splice(inProgressChunkIdx, 1);\n                                }\n                                handler._maybePersistChunkedState(id);\n                                if (!chunked.hasMoreParts(id) && inProgressChunks.length === 0) {\n                                    chunked.finalize(id);\n                                } else if (chunked.hasMoreParts(id)) {\n                                    chunked.sendNext(id);\n                                } else {\n                                    log(qq.format(\"File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}\", id, JSON.stringify(inProgressChunks)));\n                                }\n                            }, function failure(response, xhr) {\n                                chunked.handleFailure(chunkIdx, id, response, xhr);\n                            }).done(function() {\n                                handler.clearXhr(id, chunkIdx);\n                            });\n                        }\n                    }, function(error) {\n                        chunked.handleFailure(chunkIdx, id, error, null);\n                    });\n                }\n            }\n        }, connectionManager = {\n            _open: [],\n            _openChunks: {},\n            _waiting: [],\n            available: function() {\n                var max = options.maxConnections, openChunkEntriesCount = 0, openChunksCount = 0;\n                qq.each(connectionManager._openChunks, function(fileId, openChunkIndexes) {\n                    openChunkEntriesCount++;\n                    openChunksCount += openChunkIndexes.length;\n                });\n                return max - (connectionManager._open.length - openChunkEntriesCount + openChunksCount);\n            },\n            free: function(id, dontAllowNext) {\n                var allowNext = !dontAllowNext, waitingIndex = qq.indexOf(connectionManager._waiting, id), connectionsIndex = qq.indexOf(connectionManager._open, id), nextId;\n                delete connectionManager._openChunks[id];\n                if (upload.getProxyOrBlob(id) instanceof qq.BlobProxy) {\n                    log(\"Generated blob upload has ended for \" + id + \", disposing generated blob.\");\n                    delete handler._getFileState(id).file;\n                }\n                if (waitingIndex >= 0) {\n                    connectionManager._waiting.splice(waitingIndex, 1);\n                } else if (allowNext && connectionsIndex >= 0) {\n                    connectionManager._open.splice(connectionsIndex, 1);\n                    nextId = connectionManager._waiting.shift();\n                    if (nextId >= 0) {\n                        connectionManager._open.push(nextId);\n                        upload.start(nextId);\n                    }\n                }\n            },\n            getWaitingOrConnected: function() {\n                var waitingOrConnected = [];\n                qq.each(connectionManager._openChunks, function(fileId, chunks) {\n                    if (chunks && chunks.length) {\n                        waitingOrConnected.push(parseInt(fileId));\n                    }\n                });\n                qq.each(connectionManager._open, function(idx, fileId) {\n                    if (!connectionManager._openChunks[fileId]) {\n                        waitingOrConnected.push(parseInt(fileId));\n                    }\n                });\n                waitingOrConnected = waitingOrConnected.concat(connectionManager._waiting);\n                return waitingOrConnected;\n            },\n            isUsingConnection: function(id) {\n                return qq.indexOf(connectionManager._open, id) >= 0;\n            },\n            open: function(id, chunkIdx) {\n                if (chunkIdx == null) {\n                    connectionManager._waiting.push(id);\n                }\n                if (connectionManager.available()) {\n                    if (chunkIdx == null) {\n                        connectionManager._waiting.pop();\n                        connectionManager._open.push(id);\n                    } else {\n                        (function() {\n                            var openChunksEntry = connectionManager._openChunks[id] || [];\n                            openChunksEntry.push(chunkIdx);\n                            connectionManager._openChunks[id] = openChunksEntry;\n                        })();\n                    }\n                    return true;\n                }\n                return false;\n            },\n            reset: function() {\n                connectionManager._waiting = [];\n                connectionManager._open = [];\n            }\n        }, simple = {\n            send: function(id, name) {\n                var fileState = handler._getFileState(id);\n                if (!fileState) {\n                    log(\"Ignoring send request as this upload may have been cancelled, File ID \" + id, \"warn\");\n                    return;\n                }\n                fileState.loaded = 0;\n                log(\"Sending simple upload request for \" + id);\n                handler.uploadFile(id).then(function(response, optXhr) {\n                    log(\"Simple upload request succeeded for \" + id);\n                    var responseToReport = upload.normalizeResponse(response, true), size = options.getSize(id);\n                    options.onProgress(id, name, size, size);\n                    upload.maybeNewUuid(id, responseToReport);\n                    upload.cleanup(id, responseToReport, optXhr);\n                }, function(response, optXhr) {\n                    log(\"Simple upload request failed for \" + id);\n                    var responseToReport = upload.normalizeResponse(response, false);\n                    if (!options.onAutoRetry(id, name, responseToReport, optXhr)) {\n                        upload.cleanup(id, responseToReport, optXhr);\n                    }\n                });\n            }\n        }, upload = {\n            cancel: function(id) {\n                log(\"Cancelling \" + id);\n                options.paramsStore.remove(id);\n                connectionManager.free(id);\n            },\n            cleanup: function(id, response, optXhr) {\n                var name = options.getName(id);\n                options.onComplete(id, name, response, optXhr);\n                if (handler._getFileState(id)) {\n                    handler._clearXhrs && handler._clearXhrs(id);\n                }\n                connectionManager.free(id);\n            },\n            getProxyOrBlob: function(id) {\n                return handler.getProxy && handler.getProxy(id) || handler.getFile && handler.getFile(id);\n            },\n            initHandler: function() {\n                var handlerType = namespace ? qq[namespace] : qq.traditional, handlerModuleSubtype = qq.supportedFeatures.ajaxUploading ? \"Xhr\" : \"Form\";\n                handler = new handlerType[handlerModuleSubtype + \"UploadHandler\"](options, {\n                    getCustomResumeData: options.getCustomResumeData,\n                    getDataByUuid: options.getDataByUuid,\n                    getName: options.getName,\n                    getSize: options.getSize,\n                    getUuid: options.getUuid,\n                    log: log,\n                    onCancel: options.onCancel,\n                    onProgress: options.onProgress,\n                    onUuidChanged: options.onUuidChanged,\n                    onFinalizing: function(id) {\n                        options.setStatus(id, qq.status.UPLOAD_FINALIZING);\n                    }\n                });\n                if (handler._removeExpiredChunkingRecords) {\n                    handler._removeExpiredChunkingRecords();\n                }\n            },\n            isDeferredEligibleForUpload: function(id) {\n                return options.isQueued(id);\n            },\n            maybeDefer: function(id, blob) {\n                if (blob && !handler.getFile(id) && blob instanceof qq.BlobProxy) {\n                    options.onUploadPrep(id);\n                    log(\"Attempting to generate a blob on-demand for \" + id);\n                    blob.create().then(function(generatedBlob) {\n                        log(\"Generated an on-demand blob for \" + id);\n                        handler.updateBlob(id, generatedBlob);\n                        options.setSize(id, generatedBlob.size);\n                        handler.reevaluateChunking(id);\n                        upload.maybeSendDeferredFiles(id);\n                    }, function(errorMessage) {\n                        var errorResponse = {};\n                        if (errorMessage) {\n                            errorResponse.error = errorMessage;\n                        }\n                        log(qq.format(\"Failed to generate blob for ID {}.  Error message: {}.\", id, errorMessage), \"error\");\n                        options.onComplete(id, options.getName(id), qq.extend(errorResponse, preventRetryResponse), null);\n                        upload.maybeSendDeferredFiles(id);\n                        connectionManager.free(id);\n                    });\n                } else {\n                    return upload.maybeSendDeferredFiles(id);\n                }\n                return false;\n            },\n            maybeSendDeferredFiles: function(id) {\n                var idsInGroup = options.getIdsInProxyGroup(id), uploadedThisId = false;\n                if (idsInGroup && idsInGroup.length) {\n                    log(\"Maybe ready to upload proxy group file \" + id);\n                    qq.each(idsInGroup, function(idx, idInGroup) {\n                        if (upload.isDeferredEligibleForUpload(idInGroup) && !!handler.getFile(idInGroup)) {\n                            uploadedThisId = idInGroup === id;\n                            upload.now(idInGroup);\n                        } else if (upload.isDeferredEligibleForUpload(idInGroup)) {\n                            return false;\n                        }\n                    });\n                } else {\n                    uploadedThisId = true;\n                    upload.now(id);\n                }\n                return uploadedThisId;\n            },\n            maybeNewUuid: function(id, response) {\n                if (response.newUuid !== undefined) {\n                    options.onUuidChanged(id, response.newUuid);\n                }\n            },\n            normalizeResponse: function(originalResponse, successful) {\n                var response = originalResponse;\n                if (!qq.isObject(originalResponse)) {\n                    response = {};\n                    if (qq.isString(originalResponse) && !successful) {\n                        response.error = originalResponse;\n                    }\n                }\n                response.success = successful;\n                return response;\n            },\n            now: function(id) {\n                var name = options.getName(id);\n                if (!controller.isValid(id)) {\n                    throw new qq.Error(id + \" is not a valid file ID to upload!\");\n                }\n                options.onUpload(id, name).then(function(response) {\n                    if (response && response.pause) {\n                        options.setStatus(id, qq.status.PAUSED);\n                        handler.pause(id);\n                        connectionManager.free(id);\n                    } else {\n                        if (chunkingPossible && handler._shouldChunkThisFile(id)) {\n                            chunked.sendNext(id);\n                        } else {\n                            simple.send(id, name);\n                        }\n                    }\n                }, function(error) {\n                    error = error || {};\n                    log(id + \" upload start aborted due to rejected onUpload Promise - details: \" + error, \"error\");\n                    if (!options.onAutoRetry(id, name, error.responseJSON || {})) {\n                        var response = upload.normalizeResponse(error.responseJSON, false);\n                        upload.cleanup(id, response);\n                    }\n                });\n            },\n            start: function(id) {\n                var blobToUpload = upload.getProxyOrBlob(id);\n                if (blobToUpload) {\n                    return upload.maybeDefer(id, blobToUpload);\n                } else {\n                    upload.now(id);\n                    return true;\n                }\n            }\n        };\n        qq.extend(this, {\n            add: function(id, file) {\n                handler.add.apply(this, arguments);\n            },\n            upload: function(id) {\n                if (connectionManager.open(id)) {\n                    return upload.start(id);\n                }\n                return false;\n            },\n            retry: function(id) {\n                if (concurrentChunkingPossible) {\n                    handler._getFileState(id).temp.ignoreFailure = false;\n                }\n                if (connectionManager.isUsingConnection(id)) {\n                    return upload.start(id);\n                } else {\n                    return controller.upload(id);\n                }\n            },\n            cancel: function(id) {\n                var cancelRetVal = handler.cancel(id);\n                if (qq.isGenericPromise(cancelRetVal)) {\n                    cancelRetVal.then(function() {\n                        upload.cancel(id);\n                    });\n                } else if (cancelRetVal !== false) {\n                    upload.cancel(id);\n                }\n            },\n            cancelAll: function() {\n                var waitingOrConnected = connectionManager.getWaitingOrConnected(), i;\n                if (waitingOrConnected.length) {\n                    for (i = waitingOrConnected.length - 1; i >= 0; i--) {\n                        controller.cancel(waitingOrConnected[i]);\n                    }\n                }\n                connectionManager.reset();\n            },\n            getFile: function(id) {\n                if (handler.getProxy && handler.getProxy(id)) {\n                    return handler.getProxy(id).referenceBlob;\n                }\n                return handler.getFile && handler.getFile(id);\n            },\n            isProxied: function(id) {\n                return !!(handler.getProxy && handler.getProxy(id));\n            },\n            getInput: function(id) {\n                if (handler.getInput) {\n                    return handler.getInput(id);\n                }\n            },\n            reset: function() {\n                log(\"Resetting upload handler\");\n                controller.cancelAll();\n                connectionManager.reset();\n                handler.reset();\n            },\n            expunge: function(id) {\n                if (controller.isValid(id)) {\n                    return handler.expunge(id);\n                }\n            },\n            isValid: function(id) {\n                return handler.isValid(id);\n            },\n            hasResumeRecord: function(id) {\n                var key = handler.isValid(id) && handler._getLocalStorageId && handler._getLocalStorageId(id);\n                if (key) {\n                    return !!localStorage.getItem(key);\n                }\n                return false;\n            },\n            getResumableFilesData: function() {\n                if (handler.getResumableFilesData) {\n                    return handler.getResumableFilesData();\n                }\n                return [];\n            },\n            getThirdPartyFileId: function(id) {\n                if (controller.isValid(id)) {\n                    return handler.getThirdPartyFileId(id);\n                }\n            },\n            pause: function(id) {\n                if (controller.isResumable(id) && handler.pause && controller.isValid(id) && handler.pause(id)) {\n                    connectionManager.free(id);\n                    handler.moveInProgressToRemaining(id);\n                    return true;\n                }\n                return false;\n            },\n            isAttemptingResume: function(id) {\n                return !!handler.isAttemptingResume && handler.isAttemptingResume(id);\n            },\n            isResumable: function(id) {\n                return !!handler.isResumable && handler.isResumable(id);\n            }\n        });\n        qq.extend(options, o);\n        log = options.log;\n        chunkingPossible = options.chunking.enabled && qq.supportedFeatures.chunking;\n        concurrentChunkingPossible = chunkingPossible && options.chunking.concurrent.enabled;\n        preventRetryResponse = function() {\n            var response = {};\n            response[options.preventRetryParam] = true;\n            return response;\n        }();\n        upload.initHandler();\n    };\n    qq.WindowReceiveMessage = function(o) {\n        \"use strict\";\n        var options = {\n            log: function(message, level) {}\n        }, callbackWrapperDetachers = {};\n        qq.extend(options, o);\n        qq.extend(this, {\n            receiveMessage: function(id, callback) {\n                var onMessageCallbackWrapper = function(event) {\n                    callback(event.data);\n                };\n                if (window.postMessage) {\n                    callbackWrapperDetachers[id] = qq(window).attach(\"message\", onMessageCallbackWrapper);\n                } else {\n                    log(\"iframe message passing not supported in this browser!\", \"error\");\n                }\n            },\n            stopReceivingMessages: function(id) {\n                if (window.postMessage) {\n                    var detacher = callbackWrapperDetachers[id];\n                    if (detacher) {\n                        detacher();\n                    }\n                }\n            }\n        });\n    };\n    qq.FormUploadHandler = function(spec) {\n        \"use strict\";\n        var options = spec.options, handler = this, proxy = spec.proxy, formHandlerInstanceId = qq.getUniqueId(), onloadCallbacks = {}, detachLoadEvents = {}, postMessageCallbackTimers = {}, isCors = options.isCors, inputName = options.inputName, getUuid = proxy.getUuid, log = proxy.log, corsMessageReceiver = new qq.WindowReceiveMessage({\n            log: log\n        });\n        function expungeFile(id) {\n            delete detachLoadEvents[id];\n            if (isCors) {\n                clearTimeout(postMessageCallbackTimers[id]);\n                delete postMessageCallbackTimers[id];\n                corsMessageReceiver.stopReceivingMessages(id);\n            }\n            var iframe = document.getElementById(handler._getIframeName(id));\n            if (iframe) {\n                iframe.setAttribute(\"src\", \"javascript:false;\");\n                qq(iframe).remove();\n            }\n        }\n        function getFileIdForIframeName(iframeName) {\n            return iframeName.split(\"_\")[0];\n        }\n        function initIframeForUpload(name) {\n            var iframe = qq.toElement(\"<iframe src='javascript:false;' name='\" + name + \"' />\");\n            iframe.setAttribute(\"id\", name);\n            iframe.style.display = \"none\";\n            document.body.appendChild(iframe);\n            return iframe;\n        }\n        function registerPostMessageCallback(iframe, callback) {\n            var iframeName = iframe.id, fileId = getFileIdForIframeName(iframeName), uuid = getUuid(fileId);\n            onloadCallbacks[uuid] = callback;\n            detachLoadEvents[fileId] = qq(iframe).attach(\"load\", function() {\n                if (handler.getInput(fileId)) {\n                    log(\"Received iframe load event for CORS upload request (iframe name \" + iframeName + \")\");\n                    postMessageCallbackTimers[iframeName] = setTimeout(function() {\n                        var errorMessage = \"No valid message received from loaded iframe for iframe name \" + iframeName;\n                        log(errorMessage, \"error\");\n                        callback({\n                            error: errorMessage\n                        });\n                    }, 1e3);\n                }\n            });\n            corsMessageReceiver.receiveMessage(iframeName, function(message) {\n                log(\"Received the following window message: '\" + message + \"'\");\n                var fileId = getFileIdForIframeName(iframeName), response = handler._parseJsonResponse(message), uuid = response.uuid, onloadCallback;\n                if (uuid && onloadCallbacks[uuid]) {\n                    log(\"Handling response for iframe name \" + iframeName);\n                    clearTimeout(postMessageCallbackTimers[iframeName]);\n                    delete postMessageCallbackTimers[iframeName];\n                    handler._detachLoadEvent(iframeName);\n                    onloadCallback = onloadCallbacks[uuid];\n                    delete onloadCallbacks[uuid];\n                    corsMessageReceiver.stopReceivingMessages(iframeName);\n                    onloadCallback(response);\n                } else if (!uuid) {\n                    log(\"'\" + message + \"' does not contain a UUID - ignoring.\");\n                }\n            });\n        }\n        qq.extend(this, new qq.UploadHandler(spec));\n        qq.override(this, function(super_) {\n            return {\n                add: function(id, fileInput) {\n                    super_.add(id, {\n                        input: fileInput\n                    });\n                    fileInput.setAttribute(\"name\", inputName);\n                    if (fileInput.parentNode) {\n                        qq(fileInput).remove();\n                    }\n                },\n                expunge: function(id) {\n                    expungeFile(id);\n                    super_.expunge(id);\n                },\n                isValid: function(id) {\n                    return super_.isValid(id) && handler._getFileState(id).input !== undefined;\n                }\n            };\n        });\n        qq.extend(this, {\n            getInput: function(id) {\n                return handler._getFileState(id).input;\n            },\n            _attachLoadEvent: function(iframe, callback) {\n                var responseDescriptor;\n                if (isCors) {\n                    registerPostMessageCallback(iframe, callback);\n                } else {\n                    detachLoadEvents[iframe.id] = qq(iframe).attach(\"load\", function() {\n                        log(\"Received response for \" + iframe.id);\n                        if (!iframe.parentNode) {\n                            return;\n                        }\n                        try {\n                            if (iframe.contentDocument && iframe.contentDocument.body && iframe.contentDocument.body.innerHTML == \"false\") {\n                                return;\n                            }\n                        } catch (error) {\n                            log(\"Error when attempting to access iframe during handling of upload response (\" + error.message + \")\", \"error\");\n                            responseDescriptor = {\n                                success: false\n                            };\n                        }\n                        callback(responseDescriptor);\n                    });\n                }\n            },\n            _createIframe: function(id) {\n                var iframeName = handler._getIframeName(id);\n                return initIframeForUpload(iframeName);\n            },\n            _detachLoadEvent: function(id) {\n                if (detachLoadEvents[id] !== undefined) {\n                    detachLoadEvents[id]();\n                    delete detachLoadEvents[id];\n                }\n            },\n            _getIframeName: function(fileId) {\n                return fileId + \"_\" + formHandlerInstanceId;\n            },\n            _initFormForUpload: function(spec) {\n                var method = spec.method, endpoint = spec.endpoint, params = spec.params, paramsInBody = spec.paramsInBody, targetName = spec.targetName, form = qq.toElement(\"<form method='\" + method + \"' enctype='multipart/form-data'></form>\"), url = endpoint;\n                if (paramsInBody) {\n                    qq.obj2Inputs(params, form);\n                } else {\n                    url = qq.obj2url(params, endpoint);\n                }\n                form.setAttribute(\"action\", url);\n                form.setAttribute(\"target\", targetName);\n                form.style.display = \"none\";\n                document.body.appendChild(form);\n                return form;\n            },\n            _parseJsonResponse: function(innerHtmlOrMessage) {\n                var response = {};\n                try {\n                    response = qq.parseJson(innerHtmlOrMessage);\n                } catch (error) {\n                    log(\"Error when attempting to parse iframe upload response (\" + error.message + \")\", \"error\");\n                }\n                return response;\n            }\n        });\n    };\n    qq.XhrUploadHandler = function(spec) {\n        \"use strict\";\n        var handler = this, namespace = spec.options.namespace, proxy = spec.proxy, chunking = spec.options.chunking, getChunkSize = function(id) {\n            var fileState = handler._getFileState(id);\n            if (fileState.chunkSize) {\n                return fileState.chunkSize;\n            } else {\n                var chunkSize = chunking.partSize;\n                if (qq.isFunction(chunkSize)) {\n                    chunkSize = chunkSize(id, getSize(id));\n                }\n                fileState.chunkSize = chunkSize;\n                return chunkSize;\n            }\n        }, resume = spec.options.resume, chunkFiles = chunking && spec.options.chunking.enabled && qq.supportedFeatures.chunking, resumeEnabled = resume && spec.options.resume.enabled && chunkFiles && qq.supportedFeatures.resume, getName = proxy.getName, getSize = proxy.getSize, getUuid = proxy.getUuid, getEndpoint = proxy.getEndpoint, getDataByUuid = proxy.getDataByUuid, onUuidChanged = proxy.onUuidChanged, onProgress = proxy.onProgress, log = proxy.log, getCustomResumeData = proxy.getCustomResumeData;\n        function abort(id) {\n            qq.each(handler._getXhrs(id), function(xhrId, xhr) {\n                var ajaxRequester = handler._getAjaxRequester(id, xhrId);\n                xhr.onreadystatechange = null;\n                xhr.upload.onprogress = null;\n                xhr.abort();\n                ajaxRequester && ajaxRequester.canceled && ajaxRequester.canceled(id);\n            });\n        }\n        qq.extend(this, new qq.UploadHandler(spec));\n        qq.override(this, function(super_) {\n            return {\n                add: function(id, blobOrProxy) {\n                    if (qq.isFile(blobOrProxy) || qq.isBlob(blobOrProxy)) {\n                        super_.add(id, {\n                            file: blobOrProxy\n                        });\n                    } else if (blobOrProxy instanceof qq.BlobProxy) {\n                        super_.add(id, {\n                            proxy: blobOrProxy\n                        });\n                    } else {\n                        throw new Error(\"Passed obj is not a File, Blob, or proxy\");\n                    }\n                    handler._initTempState(id);\n                    resumeEnabled && handler._maybePrepareForResume(id);\n                },\n                expunge: function(id) {\n                    abort(id);\n                    handler._maybeDeletePersistedChunkData(id);\n                    handler._clearXhrs(id);\n                    super_.expunge(id);\n                }\n            };\n        });\n        qq.extend(this, {\n            clearCachedChunk: function(id, chunkIdx) {\n                var fileState = handler._getFileState(id);\n                if (fileState) {\n                    delete fileState.temp.cachedChunks[chunkIdx];\n                }\n            },\n            clearXhr: function(id, chunkIdx) {\n                var tempState = handler._getFileState(id).temp;\n                if (tempState.xhrs) {\n                    delete tempState.xhrs[chunkIdx];\n                }\n                if (tempState.ajaxRequesters) {\n                    delete tempState.ajaxRequesters[chunkIdx];\n                }\n            },\n            finalizeChunks: function(id, responseParser) {\n                var lastChunkIdx = handler._getTotalChunks(id) - 1, xhr = handler._getXhr(id, lastChunkIdx);\n                if (responseParser) {\n                    return new qq.Promise().success(responseParser(xhr), xhr);\n                }\n                return new qq.Promise().success({}, xhr);\n            },\n            getFile: function(id) {\n                return handler.isValid(id) && handler._getFileState(id).file;\n            },\n            getProxy: function(id) {\n                return handler.isValid(id) && handler._getFileState(id).proxy;\n            },\n            getResumableFilesData: function() {\n                var resumableFilesData = [];\n                handler._iterateResumeRecords(function(key, uploadData) {\n                    handler.moveInProgressToRemaining(null, uploadData.chunking.inProgress, uploadData.chunking.remaining);\n                    var data = {\n                        name: uploadData.name,\n                        remaining: uploadData.chunking.remaining,\n                        size: uploadData.size,\n                        uuid: uploadData.uuid\n                    };\n                    if (uploadData.key) {\n                        data.key = uploadData.key;\n                    }\n                    if (uploadData.customResumeData) {\n                        data.customResumeData = uploadData.customResumeData;\n                    }\n                    resumableFilesData.push(data);\n                });\n                return resumableFilesData;\n            },\n            isAttemptingResume: function(id) {\n                return handler._getFileState(id).attemptingResume;\n            },\n            isResumable: function(id) {\n                return !!chunking && handler.isValid(id) && !handler._getFileState(id).notResumable;\n            },\n            moveInProgressToRemaining: function(id, optInProgress, optRemaining) {\n                var fileState = handler._getFileState(id) || {}, chunkingState = fileState.chunking || {}, inProgress = optInProgress || chunkingState.inProgress, remaining = optRemaining || chunkingState.remaining;\n                if (inProgress) {\n                    log(qq.format(\"Moving these chunks from in-progress {}, to remaining.\", JSON.stringify(inProgress)));\n                    inProgress.reverse();\n                    qq.each(inProgress, function(idx, chunkIdx) {\n                        remaining.unshift(chunkIdx);\n                    });\n                    inProgress.length = 0;\n                }\n            },\n            pause: function(id) {\n                if (handler.isValid(id)) {\n                    log(qq.format(\"Aborting XHR upload for {} '{}' due to pause instruction.\", id, getName(id)));\n                    handler._getFileState(id).paused = true;\n                    abort(id);\n                    return true;\n                }\n            },\n            reevaluateChunking: function(id) {\n                if (chunking && handler.isValid(id)) {\n                    var state = handler._getFileState(id), totalChunks, i;\n                    delete state.chunking;\n                    state.chunking = {};\n                    totalChunks = handler._getTotalChunks(id);\n                    if (totalChunks > 1 || chunking.mandatory) {\n                        state.chunking.enabled = true;\n                        state.chunking.parts = totalChunks;\n                        state.chunking.remaining = [];\n                        for (i = 0; i < totalChunks; i++) {\n                            state.chunking.remaining.push(i);\n                        }\n                        handler._initTempState(id);\n                    } else {\n                        state.chunking.enabled = false;\n                    }\n                }\n            },\n            updateBlob: function(id, newBlob) {\n                if (handler.isValid(id)) {\n                    handler._getFileState(id).file = newBlob;\n                }\n            },\n            _clearXhrs: function(id) {\n                var tempState = handler._getFileState(id).temp;\n                qq.each(tempState.ajaxRequesters, function(chunkId) {\n                    delete tempState.ajaxRequesters[chunkId];\n                });\n                qq.each(tempState.xhrs, function(chunkId) {\n                    delete tempState.xhrs[chunkId];\n                });\n            },\n            _createXhr: function(id, optChunkIdx) {\n                return handler._registerXhr(id, optChunkIdx, qq.createXhrInstance());\n            },\n            _getAjaxRequester: function(id, optChunkIdx) {\n                var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n                return handler._getFileState(id).temp.ajaxRequesters[chunkIdx];\n            },\n            _getChunkData: function(id, chunkIndex) {\n                var chunkSize = getChunkSize(id), fileSize = getSize(id), fileOrBlob = handler.getFile(id), startBytes = chunkSize * chunkIndex, endBytes = startBytes + chunkSize >= fileSize ? fileSize : startBytes + chunkSize, totalChunks = handler._getTotalChunks(id), cachedChunks = this._getFileState(id).temp.cachedChunks, blob = cachedChunks[chunkIndex] || qq.sliceBlob(fileOrBlob, startBytes, endBytes);\n                cachedChunks[chunkIndex] = blob;\n                return {\n                    part: chunkIndex,\n                    start: startBytes,\n                    end: endBytes,\n                    count: totalChunks,\n                    blob: blob,\n                    size: endBytes - startBytes\n                };\n            },\n            _getChunkDataForCallback: function(chunkData) {\n                return {\n                    partIndex: chunkData.part,\n                    startByte: chunkData.start + 1,\n                    endByte: chunkData.end,\n                    totalParts: chunkData.count\n                };\n            },\n            _getLocalStorageId: function(id) {\n                var formatVersion = \"5.0\", name = getName(id), size = getSize(id), chunkSize = getChunkSize(id), endpoint = getEndpoint(id), customKeys = resume.customKeys(id), localStorageId = qq.format(\"qq{}resume{}-{}-{}-{}-{}\", namespace, formatVersion, name, size, chunkSize, endpoint);\n                customKeys.forEach(function(key) {\n                    localStorageId += \"-\" + key;\n                });\n                return localStorageId;\n            },\n            _getMimeType: function(id) {\n                return handler.getFile(id).type;\n            },\n            _getPersistableData: function(id) {\n                return handler._getFileState(id).chunking;\n            },\n            _getTotalChunks: function(id) {\n                if (chunking) {\n                    var fileSize = getSize(id), chunkSize = getChunkSize(id);\n                    return Math.ceil(fileSize / chunkSize);\n                }\n            },\n            _getXhr: function(id, optChunkIdx) {\n                var chunkIdx = optChunkIdx == null ? -1 : optChunkIdx;\n                return handler._getFileState(id).temp.xhrs[chunkIdx];\n            },\n            _getXhrs: function(id) {\n                return handler._getFileState(id).temp.xhrs;\n            },\n            _iterateResumeRecords: function(callback) {\n                if (resumeEnabled) {\n                    qq.each(localStorage, function(key, item) {\n                        if (key.indexOf(qq.format(\"qq{}resume\", namespace)) === 0) {\n                            var uploadData = JSON.parse(item);\n                            callback(key, uploadData);\n                        }\n                    });\n                }\n            },\n            _initTempState: function(id) {\n                handler._getFileState(id).temp = {\n                    ajaxRequesters: {},\n                    chunkProgress: {},\n                    xhrs: {},\n                    cachedChunks: {}\n                };\n            },\n            _markNotResumable: function(id) {\n                handler._getFileState(id).notResumable = true;\n            },\n            _maybeDeletePersistedChunkData: function(id) {\n                var localStorageId;\n                if (resumeEnabled && handler.isResumable(id)) {\n                    localStorageId = handler._getLocalStorageId(id);\n                    if (localStorageId && localStorage.getItem(localStorageId)) {\n                        localStorage.removeItem(localStorageId);\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _maybePrepareForResume: function(id) {\n                var state = handler._getFileState(id), localStorageId, persistedData;\n                if (resumeEnabled && state.key === undefined) {\n                    localStorageId = handler._getLocalStorageId(id);\n                    persistedData = localStorage.getItem(localStorageId);\n                    if (persistedData) {\n                        persistedData = JSON.parse(persistedData);\n                        if (getDataByUuid(persistedData.uuid)) {\n                            handler._markNotResumable(id);\n                        } else {\n                            log(qq.format(\"Identified file with ID {} and name of {} as resumable.\", id, getName(id)));\n                            onUuidChanged(id, persistedData.uuid);\n                            state.key = persistedData.key;\n                            state.chunking = persistedData.chunking;\n                            state.loaded = persistedData.loaded;\n                            state.customResumeData = persistedData.customResumeData;\n                            state.attemptingResume = true;\n                            handler.moveInProgressToRemaining(id);\n                        }\n                    }\n                }\n            },\n            _maybePersistChunkedState: function(id) {\n                var state = handler._getFileState(id), localStorageId, persistedData;\n                if (resumeEnabled && handler.isResumable(id)) {\n                    var customResumeData = getCustomResumeData(id);\n                    localStorageId = handler._getLocalStorageId(id);\n                    persistedData = {\n                        name: getName(id),\n                        size: getSize(id),\n                        uuid: getUuid(id),\n                        key: state.key,\n                        chunking: state.chunking,\n                        loaded: state.loaded,\n                        lastUpdated: Date.now()\n                    };\n                    if (customResumeData) {\n                        persistedData.customResumeData = customResumeData;\n                    }\n                    try {\n                        localStorage.setItem(localStorageId, JSON.stringify(persistedData));\n                    } catch (error) {\n                        log(qq.format(\"Unable to save resume data for '{}' due to error: '{}'.\", id, error.toString()), \"warn\");\n                    }\n                }\n            },\n            _registerProgressHandler: function(id, chunkIdx, chunkSize) {\n                var xhr = handler._getXhr(id, chunkIdx), name = getName(id), progressCalculator = {\n                    simple: function(loaded, total) {\n                        var fileSize = getSize(id);\n                        if (loaded === total) {\n                            onProgress(id, name, fileSize, fileSize);\n                        } else {\n                            onProgress(id, name, loaded >= fileSize ? fileSize - 1 : loaded, fileSize);\n                        }\n                    },\n                    chunked: function(loaded, total) {\n                        var chunkProgress = handler._getFileState(id).temp.chunkProgress, totalSuccessfullyLoadedForFile = handler._getFileState(id).loaded, loadedForRequest = loaded, totalForRequest = total, totalFileSize = getSize(id), estActualChunkLoaded = loadedForRequest - (totalForRequest - chunkSize), totalLoadedForFile = totalSuccessfullyLoadedForFile;\n                        chunkProgress[chunkIdx] = estActualChunkLoaded;\n                        qq.each(chunkProgress, function(chunkIdx, chunkLoaded) {\n                            totalLoadedForFile += chunkLoaded;\n                        });\n                        onProgress(id, name, totalLoadedForFile, totalFileSize);\n                    }\n                };\n                xhr.upload.onprogress = function(e) {\n                    if (e.lengthComputable) {\n                        var type = chunkSize == null ? \"simple\" : \"chunked\";\n                        progressCalculator[type](e.loaded, e.total);\n                    }\n                };\n            },\n            _registerXhr: function(id, optChunkIdx, xhr, optAjaxRequester) {\n                var xhrsId = optChunkIdx == null ? -1 : optChunkIdx, tempState = handler._getFileState(id).temp;\n                tempState.xhrs = tempState.xhrs || {};\n                tempState.ajaxRequesters = tempState.ajaxRequesters || {};\n                tempState.xhrs[xhrsId] = xhr;\n                if (optAjaxRequester) {\n                    tempState.ajaxRequesters[xhrsId] = optAjaxRequester;\n                }\n                return xhr;\n            },\n            _removeExpiredChunkingRecords: function() {\n                var expirationDays = resume.recordsExpireIn;\n                handler._iterateResumeRecords(function(key, uploadData) {\n                    var expirationDate = new Date(uploadData.lastUpdated);\n                    expirationDate.setDate(expirationDate.getDate() + expirationDays);\n                    if (expirationDate.getTime() <= Date.now()) {\n                        log(\"Removing expired resume record with key \" + key);\n                        localStorage.removeItem(key);\n                    }\n                });\n            },\n            _shouldChunkThisFile: function(id) {\n                var state = handler._getFileState(id);\n                if (state) {\n                    if (!state.chunking) {\n                        handler.reevaluateChunking(id);\n                    }\n                    return state.chunking.enabled;\n                }\n            }\n        });\n    };\n    qq.DeleteFileAjaxRequester = function(o) {\n        \"use strict\";\n        var requester, options = {\n            method: \"DELETE\",\n            uuidParamName: \"qquuid\",\n            endpointStore: {},\n            maxConnections: 3,\n            customHeaders: function(id) {\n                return {};\n            },\n            paramsStore: {},\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            log: function(str, level) {},\n            onDelete: function(id) {},\n            onDeleteComplete: function(id, xhrOrXdr, isError) {}\n        };\n        qq.extend(options, o);\n        function getMandatedParams() {\n            if (options.method.toUpperCase() === \"POST\") {\n                return {\n                    _method: \"DELETE\"\n                };\n            }\n            return {};\n        }\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            validMethods: [ \"POST\", \"DELETE\" ],\n            method: options.method,\n            endpointStore: options.endpointStore,\n            paramsStore: options.paramsStore,\n            mandatedParams: getMandatedParams(),\n            maxConnections: options.maxConnections,\n            customHeaders: function(id) {\n                return options.customHeaders.get(id);\n            },\n            log: options.log,\n            onSend: options.onDelete,\n            onComplete: options.onDeleteComplete,\n            cors: options.cors\n        }));\n        qq.extend(this, {\n            sendDelete: function(id, uuid, additionalMandatedParams) {\n                var additionalOptions = additionalMandatedParams || {};\n                options.log(\"Submitting delete file request for \" + id);\n                if (options.method === \"DELETE\") {\n                    requester.initTransport(id).withPath(uuid).withParams(additionalOptions).send();\n                } else {\n                    additionalOptions[options.uuidParamName] = uuid;\n                    requester.initTransport(id).withParams(additionalOptions).send();\n                }\n            }\n        });\n    };\n    (function() {\n        function detectSubsampling(img) {\n            var iw = img.naturalWidth, ih = img.naturalHeight, canvas = document.createElement(\"canvas\"), ctx;\n            if (iw * ih > 1024 * 1024) {\n                canvas.width = canvas.height = 1;\n                ctx = canvas.getContext(\"2d\");\n                ctx.drawImage(img, -iw + 1, 0);\n                return ctx.getImageData(0, 0, 1, 1).data[3] === 0;\n            } else {\n                return false;\n            }\n        }\n        function detectVerticalSquash(img, iw, ih) {\n            var canvas = document.createElement(\"canvas\"), sy = 0, ey = ih, py = ih, ctx, data, alpha, ratio;\n            canvas.width = 1;\n            canvas.height = ih;\n            ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(img, 0, 0);\n            data = ctx.getImageData(0, 0, 1, ih).data;\n            while (py > sy) {\n                alpha = data[(py - 1) * 4 + 3];\n                if (alpha === 0) {\n                    ey = py;\n                } else {\n                    sy = py;\n                }\n                py = ey + sy >> 1;\n            }\n            ratio = py / ih;\n            return ratio === 0 ? 1 : ratio;\n        }\n        function renderImageToDataURL(img, blob, options, doSquash) {\n            var canvas = document.createElement(\"canvas\"), mime = options.mime || \"image/jpeg\", promise = new qq.Promise();\n            renderImageToCanvas(img, blob, canvas, options, doSquash).then(function() {\n                promise.success(canvas.toDataURL(mime, options.quality || .8));\n            });\n            return promise;\n        }\n        function maybeCalculateDownsampledDimensions(spec) {\n            var maxPixels = 5241e3;\n            if (!qq.ios()) {\n                throw new qq.Error(\"Downsampled dimensions can only be reliably calculated for iOS!\");\n            }\n            if (spec.origHeight * spec.origWidth > maxPixels) {\n                return {\n                    newHeight: Math.round(Math.sqrt(maxPixels * (spec.origHeight / spec.origWidth))),\n                    newWidth: Math.round(Math.sqrt(maxPixels * (spec.origWidth / spec.origHeight)))\n                };\n            }\n        }\n        function renderImageToCanvas(img, blob, canvas, options, doSquash) {\n            var iw = img.naturalWidth, ih = img.naturalHeight, width = options.width, height = options.height, ctx = canvas.getContext(\"2d\"), promise = new qq.Promise(), modifiedDimensions;\n            ctx.save();\n            if (options.resize) {\n                return renderImageToCanvasWithCustomResizer({\n                    blob: blob,\n                    canvas: canvas,\n                    image: img,\n                    imageHeight: ih,\n                    imageWidth: iw,\n                    orientation: options.orientation,\n                    resize: options.resize,\n                    targetHeight: height,\n                    targetWidth: width\n                });\n            }\n            if (!qq.supportedFeatures.unlimitedScaledImageSize) {\n                modifiedDimensions = maybeCalculateDownsampledDimensions({\n                    origWidth: width,\n                    origHeight: height\n                });\n                if (modifiedDimensions) {\n                    qq.log(qq.format(\"Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h\", width, height, modifiedDimensions.newWidth, modifiedDimensions.newHeight), \"warn\");\n                    width = modifiedDimensions.newWidth;\n                    height = modifiedDimensions.newHeight;\n                }\n            }\n            transformCoordinate(canvas, width, height, options.orientation);\n            if (qq.ios()) {\n                (function() {\n                    if (detectSubsampling(img)) {\n                        iw /= 2;\n                        ih /= 2;\n                    }\n                    var d = 1024, tmpCanvas = document.createElement(\"canvas\"), vertSquashRatio = doSquash ? detectVerticalSquash(img, iw, ih) : 1, dw = Math.ceil(d * width / iw), dh = Math.ceil(d * height / ih / vertSquashRatio), sy = 0, dy = 0, tmpCtx, sx, dx;\n                    tmpCanvas.width = tmpCanvas.height = d;\n                    tmpCtx = tmpCanvas.getContext(\"2d\");\n                    while (sy < ih) {\n                        sx = 0;\n                        dx = 0;\n                        while (sx < iw) {\n                            tmpCtx.clearRect(0, 0, d, d);\n                            tmpCtx.drawImage(img, -sx, -sy);\n                            ctx.drawImage(tmpCanvas, 0, 0, d, d, dx, dy, dw, dh);\n                            sx += d;\n                            dx += dw;\n                        }\n                        sy += d;\n                        dy += dh;\n                    }\n                    ctx.restore();\n                    tmpCanvas = tmpCtx = null;\n                })();\n            } else {\n                ctx.drawImage(img, 0, 0, width, height);\n            }\n            canvas.qqImageRendered && canvas.qqImageRendered();\n            promise.success();\n            return promise;\n        }\n        function renderImageToCanvasWithCustomResizer(resizeInfo) {\n            var blob = resizeInfo.blob, image = resizeInfo.image, imageHeight = resizeInfo.imageHeight, imageWidth = resizeInfo.imageWidth, orientation = resizeInfo.orientation, promise = new qq.Promise(), resize = resizeInfo.resize, sourceCanvas = document.createElement(\"canvas\"), sourceCanvasContext = sourceCanvas.getContext(\"2d\"), targetCanvas = resizeInfo.canvas, targetHeight = resizeInfo.targetHeight, targetWidth = resizeInfo.targetWidth;\n            transformCoordinate(sourceCanvas, imageWidth, imageHeight, orientation);\n            targetCanvas.height = targetHeight;\n            targetCanvas.width = targetWidth;\n            sourceCanvasContext.drawImage(image, 0, 0);\n            resize({\n                blob: blob,\n                height: targetHeight,\n                image: image,\n                sourceCanvas: sourceCanvas,\n                targetCanvas: targetCanvas,\n                width: targetWidth\n            }).then(function success() {\n                targetCanvas.qqImageRendered && targetCanvas.qqImageRendered();\n                promise.success();\n            }, promise.failure);\n            return promise;\n        }\n        function transformCoordinate(canvas, width, height, orientation) {\n            switch (orientation) {\n              case 5:\n              case 6:\n              case 7:\n              case 8:\n                canvas.width = height;\n                canvas.height = width;\n                break;\n\n              default:\n                canvas.width = width;\n                canvas.height = height;\n            }\n            var ctx = canvas.getContext(\"2d\");\n            switch (orientation) {\n              case 2:\n                ctx.translate(width, 0);\n                ctx.scale(-1, 1);\n                break;\n\n              case 3:\n                ctx.translate(width, height);\n                ctx.rotate(Math.PI);\n                break;\n\n              case 4:\n                ctx.translate(0, height);\n                ctx.scale(1, -1);\n                break;\n\n              case 5:\n                ctx.rotate(.5 * Math.PI);\n                ctx.scale(1, -1);\n                break;\n\n              case 6:\n                ctx.rotate(.5 * Math.PI);\n                ctx.translate(0, -height);\n                break;\n\n              case 7:\n                ctx.rotate(.5 * Math.PI);\n                ctx.translate(width, -height);\n                ctx.scale(-1, 1);\n                break;\n\n              case 8:\n                ctx.rotate(-.5 * Math.PI);\n                ctx.translate(-width, 0);\n                break;\n\n              default:\n                break;\n            }\n        }\n        function MegaPixImage(srcImage, errorCallback) {\n            var self = this;\n            if (window.Blob && srcImage instanceof Blob) {\n                (function() {\n                    var img = new Image(), URL = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                    if (!URL) {\n                        throw Error(\"No createObjectURL function found to create blob url\");\n                    }\n                    img.src = URL.createObjectURL(srcImage);\n                    self.blob = srcImage;\n                    srcImage = img;\n                })();\n            }\n            if (!srcImage.naturalWidth && !srcImage.naturalHeight) {\n                srcImage.onload = function() {\n                    var listeners = self.imageLoadListeners;\n                    if (listeners) {\n                        self.imageLoadListeners = null;\n                        setTimeout(function() {\n                            for (var i = 0, len = listeners.length; i < len; i++) {\n                                listeners[i]();\n                            }\n                        }, 0);\n                    }\n                };\n                srcImage.onerror = errorCallback;\n                this.imageLoadListeners = [];\n            }\n            this.srcImage = srcImage;\n        }\n        MegaPixImage.prototype.render = function(target, options) {\n            options = options || {};\n            var self = this, imgWidth = this.srcImage.naturalWidth, imgHeight = this.srcImage.naturalHeight, width = options.width, height = options.height, maxWidth = options.maxWidth, maxHeight = options.maxHeight, doSquash = !this.blob || this.blob.type === \"image/jpeg\", tagName = target.tagName.toLowerCase(), opt;\n            if (this.imageLoadListeners) {\n                this.imageLoadListeners.push(function() {\n                    self.render(target, options);\n                });\n                return;\n            }\n            if (width && !height) {\n                height = imgHeight * width / imgWidth << 0;\n            } else if (height && !width) {\n                width = imgWidth * height / imgHeight << 0;\n            } else {\n                width = imgWidth;\n                height = imgHeight;\n            }\n            if (maxWidth && width > maxWidth) {\n                width = maxWidth;\n                height = imgHeight * width / imgWidth << 0;\n            }\n            if (maxHeight && height > maxHeight) {\n                height = maxHeight;\n                width = imgWidth * height / imgHeight << 0;\n            }\n            opt = {\n                width: width,\n                height: height\n            }, qq.each(options, function(optionsKey, optionsValue) {\n                opt[optionsKey] = optionsValue;\n            });\n            if (tagName === \"img\") {\n                (function() {\n                    var oldTargetSrc = target.src;\n                    renderImageToDataURL(self.srcImage, self.blob, opt, doSquash).then(function(dataUri) {\n                        target.src = dataUri;\n                        oldTargetSrc === target.src && target.onload();\n                    });\n                })();\n            } else if (tagName === \"canvas\") {\n                renderImageToCanvas(this.srcImage, this.blob, target, opt, doSquash);\n            }\n            if (typeof this.onrender === \"function\") {\n                this.onrender(target);\n            }\n        };\n        qq.MegaPixImage = MegaPixImage;\n    })();\n    qq.ImageGenerator = function(log) {\n        \"use strict\";\n        function isImg(el) {\n            return el.tagName.toLowerCase() === \"img\";\n        }\n        function isCanvas(el) {\n            return el.tagName.toLowerCase() === \"canvas\";\n        }\n        function isImgCorsSupported() {\n            return new Image().crossOrigin !== undefined;\n        }\n        function isCanvasSupported() {\n            var canvas = document.createElement(\"canvas\");\n            return canvas.getContext && canvas.getContext(\"2d\");\n        }\n        function determineMimeOfFileName(nameWithPath) {\n            var pathSegments = nameWithPath.split(\"/\"), name = pathSegments[pathSegments.length - 1].split(\"?\")[0], extension = qq.getExtension(name);\n            extension = extension && extension.toLowerCase();\n            switch (extension) {\n              case \"jpeg\":\n              case \"jpg\":\n                return \"image/jpeg\";\n\n              case \"png\":\n                return \"image/png\";\n\n              case \"bmp\":\n                return \"image/bmp\";\n\n              case \"gif\":\n                return \"image/gif\";\n\n              case \"tiff\":\n              case \"tif\":\n                return \"image/tiff\";\n            }\n        }\n        function isCrossOrigin(url) {\n            var targetAnchor = document.createElement(\"a\"), targetProtocol, targetHostname, targetPort;\n            targetAnchor.href = url;\n            targetProtocol = targetAnchor.protocol;\n            targetPort = targetAnchor.port;\n            targetHostname = targetAnchor.hostname;\n            if (targetProtocol.toLowerCase() !== window.location.protocol.toLowerCase()) {\n                return true;\n            }\n            if (targetHostname.toLowerCase() !== window.location.hostname.toLowerCase()) {\n                return true;\n            }\n            if (targetPort !== window.location.port && !qq.ie()) {\n                return true;\n            }\n            return false;\n        }\n        function registerImgLoadListeners(img, promise) {\n            img.onload = function() {\n                img.onload = null;\n                img.onerror = null;\n                promise.success(img);\n            };\n            img.onerror = function() {\n                img.onload = null;\n                img.onerror = null;\n                log(\"Problem drawing thumbnail!\", \"error\");\n                promise.failure(img, \"Problem drawing thumbnail!\");\n            };\n        }\n        function registerCanvasDrawImageListener(canvas, promise) {\n            canvas.qqImageRendered = function() {\n                promise.success(canvas);\n            };\n        }\n        function registerThumbnailRenderedListener(imgOrCanvas, promise) {\n            var registered = isImg(imgOrCanvas) || isCanvas(imgOrCanvas);\n            if (isImg(imgOrCanvas)) {\n                registerImgLoadListeners(imgOrCanvas, promise);\n            } else if (isCanvas(imgOrCanvas)) {\n                registerCanvasDrawImageListener(imgOrCanvas, promise);\n            } else {\n                promise.failure(imgOrCanvas);\n                log(qq.format(\"Element container of type {} is not supported!\", imgOrCanvas.tagName), \"error\");\n            }\n            return registered;\n        }\n        function draw(fileOrBlob, container, options) {\n            var drawPreview = new qq.Promise(), identifier = new qq.Identify(fileOrBlob, log), maxSize = options.maxSize, orient = options.orient == null ? true : options.orient, megapixErrorHandler = function() {\n                container.onerror = null;\n                container.onload = null;\n                log(\"Could not render preview, file may be too large!\", \"error\");\n                drawPreview.failure(container, \"Browser cannot render image!\");\n            };\n            identifier.isPreviewable().then(function(mime) {\n                var dummyExif = {\n                    parse: function() {\n                        return new qq.Promise().success();\n                    }\n                }, exif = orient ? new qq.Exif(fileOrBlob, log) : dummyExif, mpImg = new qq.MegaPixImage(fileOrBlob, megapixErrorHandler);\n                if (registerThumbnailRenderedListener(container, drawPreview)) {\n                    exif.parse().then(function(exif) {\n                        var orientation = exif && exif.Orientation;\n                        mpImg.render(container, {\n                            maxWidth: maxSize,\n                            maxHeight: maxSize,\n                            orientation: orientation,\n                            mime: mime,\n                            resize: options.customResizeFunction\n                        });\n                    }, function(failureMsg) {\n                        log(qq.format(\"EXIF data could not be parsed ({}).  Assuming orientation = 1.\", failureMsg));\n                        mpImg.render(container, {\n                            maxWidth: maxSize,\n                            maxHeight: maxSize,\n                            mime: mime,\n                            resize: options.customResizeFunction\n                        });\n                    });\n                }\n            }, function() {\n                log(\"Not previewable\");\n                drawPreview.failure(container, \"Not previewable\");\n            });\n            return drawPreview;\n        }\n        function drawOnCanvasOrImgFromUrl(url, canvasOrImg, draw, maxSize, customResizeFunction) {\n            var tempImg = new Image(), tempImgRender = new qq.Promise();\n            registerThumbnailRenderedListener(tempImg, tempImgRender);\n            if (isCrossOrigin(url)) {\n                tempImg.crossOrigin = \"anonymous\";\n            }\n            tempImg.src = url;\n            tempImgRender.then(function rendered() {\n                registerThumbnailRenderedListener(canvasOrImg, draw);\n                var mpImg = new qq.MegaPixImage(tempImg);\n                mpImg.render(canvasOrImg, {\n                    maxWidth: maxSize,\n                    maxHeight: maxSize,\n                    mime: determineMimeOfFileName(url),\n                    resize: customResizeFunction\n                });\n            }, draw.failure);\n        }\n        function drawOnImgFromUrlWithCssScaling(url, img, draw, maxSize) {\n            registerThumbnailRenderedListener(img, draw);\n            qq(img).css({\n                maxWidth: maxSize + \"px\",\n                maxHeight: maxSize + \"px\"\n            });\n            img.src = url;\n        }\n        function drawFromUrl(url, container, options) {\n            var draw = new qq.Promise(), scale = options.scale, maxSize = scale ? options.maxSize : null;\n            if (scale && isImg(container)) {\n                if (isCanvasSupported()) {\n                    if (isCrossOrigin(url) && !isImgCorsSupported()) {\n                        drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n                    } else {\n                        drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n                    }\n                } else {\n                    drawOnImgFromUrlWithCssScaling(url, container, draw, maxSize);\n                }\n            } else if (isCanvas(container)) {\n                drawOnCanvasOrImgFromUrl(url, container, draw, maxSize);\n            } else if (registerThumbnailRenderedListener(container, draw)) {\n                container.src = url;\n            }\n            return draw;\n        }\n        qq.extend(this, {\n            generate: function(fileBlobOrUrl, container, options) {\n                if (qq.isString(fileBlobOrUrl)) {\n                    log(\"Attempting to update thumbnail based on server response.\");\n                    return drawFromUrl(fileBlobOrUrl, container, options || {});\n                } else {\n                    log(\"Attempting to draw client-side image preview.\");\n                    return draw(fileBlobOrUrl, container, options || {});\n                }\n            }\n        });\n        this._testing = {};\n        this._testing.isImg = isImg;\n        this._testing.isCanvas = isCanvas;\n        this._testing.isCrossOrigin = isCrossOrigin;\n        this._testing.determineMimeOfFileName = determineMimeOfFileName;\n    };\n    qq.Exif = function(fileOrBlob, log) {\n        \"use strict\";\n        var TAG_IDS = [ 274 ], TAG_INFO = {\n            274: {\n                name: \"Orientation\",\n                bytes: 2\n            }\n        };\n        function parseLittleEndian(hex) {\n            var result = 0, pow = 0;\n            while (hex.length > 0) {\n                result += parseInt(hex.substring(0, 2), 16) * Math.pow(2, pow);\n                hex = hex.substring(2, hex.length);\n                pow += 8;\n            }\n            return result;\n        }\n        function seekToApp1(offset, promise) {\n            var theOffset = offset, thePromise = promise;\n            if (theOffset === undefined) {\n                theOffset = 2;\n                thePromise = new qq.Promise();\n            }\n            qq.readBlobToHex(fileOrBlob, theOffset, 4).then(function(hex) {\n                var match = /^ffe([0-9])/.exec(hex), segmentLength;\n                if (match) {\n                    if (match[1] !== \"1\") {\n                        segmentLength = parseInt(hex.slice(4, 8), 16);\n                        seekToApp1(theOffset + segmentLength + 2, thePromise);\n                    } else {\n                        thePromise.success(theOffset);\n                    }\n                } else {\n                    thePromise.failure(\"No EXIF header to be found!\");\n                }\n            });\n            return thePromise;\n        }\n        function getApp1Offset() {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, 0, 6).then(function(hex) {\n                if (hex.indexOf(\"ffd8\") !== 0) {\n                    promise.failure(\"Not a valid JPEG!\");\n                } else {\n                    seekToApp1().then(function(offset) {\n                        promise.success(offset);\n                    }, function(error) {\n                        promise.failure(error);\n                    });\n                }\n            });\n            return promise;\n        }\n        function isLittleEndian(app1Start) {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, app1Start + 10, 2).then(function(hex) {\n                promise.success(hex === \"4949\");\n            });\n            return promise;\n        }\n        function getDirEntryCount(app1Start, littleEndian) {\n            var promise = new qq.Promise();\n            qq.readBlobToHex(fileOrBlob, app1Start + 18, 2).then(function(hex) {\n                if (littleEndian) {\n                    return promise.success(parseLittleEndian(hex));\n                } else {\n                    promise.success(parseInt(hex, 16));\n                }\n            });\n            return promise;\n        }\n        function getIfd(app1Start, dirEntries) {\n            var offset = app1Start + 20, bytes = dirEntries * 12;\n            return qq.readBlobToHex(fileOrBlob, offset, bytes);\n        }\n        function getDirEntries(ifdHex) {\n            var entries = [], offset = 0;\n            while (offset + 24 <= ifdHex.length) {\n                entries.push(ifdHex.slice(offset, offset + 24));\n                offset += 24;\n            }\n            return entries;\n        }\n        function getTagValues(littleEndian, dirEntries) {\n            var TAG_VAL_OFFSET = 16, tagsToFind = qq.extend([], TAG_IDS), vals = {};\n            qq.each(dirEntries, function(idx, entry) {\n                var idHex = entry.slice(0, 4), id = littleEndian ? parseLittleEndian(idHex) : parseInt(idHex, 16), tagsToFindIdx = tagsToFind.indexOf(id), tagValHex, tagName, tagValLength;\n                if (tagsToFindIdx >= 0) {\n                    tagName = TAG_INFO[id].name;\n                    tagValLength = TAG_INFO[id].bytes;\n                    tagValHex = entry.slice(TAG_VAL_OFFSET, TAG_VAL_OFFSET + tagValLength * 2);\n                    vals[tagName] = littleEndian ? parseLittleEndian(tagValHex) : parseInt(tagValHex, 16);\n                    tagsToFind.splice(tagsToFindIdx, 1);\n                }\n                if (tagsToFind.length === 0) {\n                    return false;\n                }\n            });\n            return vals;\n        }\n        qq.extend(this, {\n            parse: function() {\n                var parser = new qq.Promise(), onParseFailure = function(message) {\n                    log(qq.format(\"EXIF header parse failed: '{}' \", message));\n                    parser.failure(message);\n                };\n                getApp1Offset().then(function(app1Offset) {\n                    log(qq.format(\"Moving forward with EXIF header parsing for '{}'\", fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name));\n                    isLittleEndian(app1Offset).then(function(littleEndian) {\n                        log(qq.format(\"EXIF Byte order is {} endian\", littleEndian ? \"little\" : \"big\"));\n                        getDirEntryCount(app1Offset, littleEndian).then(function(dirEntryCount) {\n                            log(qq.format(\"Found {} APP1 directory entries\", dirEntryCount));\n                            getIfd(app1Offset, dirEntryCount).then(function(ifdHex) {\n                                var dirEntries = getDirEntries(ifdHex), tagValues = getTagValues(littleEndian, dirEntries);\n                                log(\"Successfully parsed some EXIF tags\");\n                                parser.success(tagValues);\n                            }, onParseFailure);\n                        }, onParseFailure);\n                    }, onParseFailure);\n                }, onParseFailure);\n                return parser;\n            }\n        });\n        this._testing = {};\n        this._testing.parseLittleEndian = parseLittleEndian;\n    };\n    qq.Identify = function(fileOrBlob, log) {\n        \"use strict\";\n        function isIdentifiable(magicBytes, questionableBytes) {\n            var identifiable = false, magicBytesEntries = [].concat(magicBytes);\n            qq.each(magicBytesEntries, function(idx, magicBytesArrayEntry) {\n                if (questionableBytes.indexOf(magicBytesArrayEntry) === 0) {\n                    identifiable = true;\n                    return false;\n                }\n            });\n            return identifiable;\n        }\n        qq.extend(this, {\n            isPreviewable: function() {\n                var self = this, identifier = new qq.Promise(), previewable = false, name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n                log(qq.format(\"Attempting to determine if {} can be rendered in this browser\", name));\n                log(\"First pass: check type attribute of blob object.\");\n                if (this.isPreviewableSync()) {\n                    log(\"Second pass: check for magic bytes in file header.\");\n                    qq.readBlobToHex(fileOrBlob, 0, 4).then(function(hex) {\n                        qq.each(self.PREVIEWABLE_MIME_TYPES, function(mime, bytes) {\n                            if (isIdentifiable(bytes, hex)) {\n                                if (mime !== \"image/tiff\" || qq.supportedFeatures.tiffPreviews) {\n                                    previewable = true;\n                                    identifier.success(mime);\n                                }\n                                return false;\n                            }\n                        });\n                        log(qq.format(\"'{}' is {} able to be rendered in this browser\", name, previewable ? \"\" : \"NOT\"));\n                        if (!previewable) {\n                            identifier.failure();\n                        }\n                    }, function() {\n                        log(\"Error reading file w/ name '\" + name + \"'.  Not able to be rendered in this browser.\");\n                        identifier.failure();\n                    });\n                } else {\n                    identifier.failure();\n                }\n                return identifier;\n            },\n            isPreviewableSync: function() {\n                var fileMime = fileOrBlob.type, isRecognizedImage = qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES), fileMime) >= 0, previewable = false, name = fileOrBlob.name === undefined ? \"blob\" : fileOrBlob.name;\n                if (isRecognizedImage) {\n                    if (fileMime === \"image/tiff\") {\n                        previewable = qq.supportedFeatures.tiffPreviews;\n                    } else {\n                        previewable = true;\n                    }\n                }\n                !previewable && log(name + \" is not previewable in this browser per the blob's type attr\");\n                return previewable;\n            }\n        });\n    };\n    qq.Identify.prototype.PREVIEWABLE_MIME_TYPES = {\n        \"image/jpeg\": \"ffd8ff\",\n        \"image/gif\": \"474946\",\n        \"image/png\": \"89504e\",\n        \"image/bmp\": \"424d\",\n        \"image/tiff\": [ \"49492a00\", \"4d4d002a\" ]\n    };\n    qq.ImageValidation = function(blob, log) {\n        \"use strict\";\n        function hasNonZeroLimits(limits) {\n            var atLeastOne = false;\n            qq.each(limits, function(limit, value) {\n                if (value > 0) {\n                    atLeastOne = true;\n                    return false;\n                }\n            });\n            return atLeastOne;\n        }\n        function getWidthHeight() {\n            var sizeDetermination = new qq.Promise();\n            new qq.Identify(blob, log).isPreviewable().then(function() {\n                var image = new Image(), url = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n                if (url) {\n                    image.onerror = function() {\n                        log(\"Cannot determine dimensions for image.  May be too large.\", \"error\");\n                        sizeDetermination.failure();\n                    };\n                    image.onload = function() {\n                        sizeDetermination.success({\n                            width: this.width,\n                            height: this.height\n                        });\n                    };\n                    image.src = url.createObjectURL(blob);\n                } else {\n                    log(\"No createObjectURL function available to generate image URL!\", \"error\");\n                    sizeDetermination.failure();\n                }\n            }, sizeDetermination.failure);\n            return sizeDetermination;\n        }\n        function getFailingLimit(limits, dimensions) {\n            var failingLimit;\n            qq.each(limits, function(limitName, limitValue) {\n                if (limitValue > 0) {\n                    var limitMatcher = /(max|min)(Width|Height)/.exec(limitName), dimensionPropName = limitMatcher[2].charAt(0).toLowerCase() + limitMatcher[2].slice(1), actualValue = dimensions[dimensionPropName];\n                    switch (limitMatcher[1]) {\n                      case \"min\":\n                        if (actualValue < limitValue) {\n                            failingLimit = limitName;\n                            return false;\n                        }\n                        break;\n\n                      case \"max\":\n                        if (actualValue > limitValue) {\n                            failingLimit = limitName;\n                            return false;\n                        }\n                        break;\n                    }\n                }\n            });\n            return failingLimit;\n        }\n        this.validate = function(limits) {\n            var validationEffort = new qq.Promise();\n            log(\"Attempting to validate image.\");\n            if (hasNonZeroLimits(limits)) {\n                getWidthHeight().then(function(dimensions) {\n                    var failingLimit = getFailingLimit(limits, dimensions);\n                    if (failingLimit) {\n                        validationEffort.failure(failingLimit);\n                    } else {\n                        validationEffort.success();\n                    }\n                }, validationEffort.success);\n            } else {\n                validationEffort.success();\n            }\n            return validationEffort;\n        };\n    };\n    qq.Session = function(spec) {\n        \"use strict\";\n        var options = {\n            endpoint: null,\n            params: {},\n            customHeaders: {},\n            cors: {},\n            addFileRecord: function(sessionData) {},\n            log: function(message, level) {}\n        };\n        qq.extend(options, spec, true);\n        function isJsonResponseValid(response) {\n            if (qq.isArray(response)) {\n                return true;\n            }\n            options.log(\"Session response is not an array.\", \"error\");\n        }\n        function handleFileItems(fileItems, success, xhrOrXdr, promise) {\n            var someItemsIgnored = false;\n            success = success && isJsonResponseValid(fileItems);\n            if (success) {\n                qq.each(fileItems, function(idx, fileItem) {\n                    if (fileItem.uuid == null) {\n                        someItemsIgnored = true;\n                        options.log(qq.format(\"Session response item {} did not include a valid UUID - ignoring.\", idx), \"error\");\n                    } else if (fileItem.name == null) {\n                        someItemsIgnored = true;\n                        options.log(qq.format(\"Session response item {} did not include a valid name - ignoring.\", idx), \"error\");\n                    } else {\n                        try {\n                            options.addFileRecord(fileItem);\n                            return true;\n                        } catch (err) {\n                            someItemsIgnored = true;\n                            options.log(err.message, \"error\");\n                        }\n                    }\n                    return false;\n                });\n            }\n            promise[success && !someItemsIgnored ? \"success\" : \"failure\"](fileItems, xhrOrXdr);\n        }\n        this.refresh = function() {\n            var refreshEffort = new qq.Promise(), refreshCompleteCallback = function(response, success, xhrOrXdr) {\n                handleFileItems(response, success, xhrOrXdr, refreshEffort);\n            }, requesterOptions = qq.extend({}, options), requester = new qq.SessionAjaxRequester(qq.extend(requesterOptions, {\n                onComplete: refreshCompleteCallback\n            }));\n            requester.queryServer();\n            return refreshEffort;\n        };\n    };\n    qq.SessionAjaxRequester = function(spec) {\n        \"use strict\";\n        var requester, options = {\n            endpoint: null,\n            customHeaders: {},\n            params: {},\n            cors: {\n                expected: false,\n                sendCredentials: false\n            },\n            onComplete: function(response, success, xhrOrXdr) {},\n            log: function(str, level) {}\n        };\n        qq.extend(options, spec);\n        function onComplete(id, xhrOrXdr, isError) {\n            var response = null;\n            if (xhrOrXdr.responseText != null) {\n                try {\n                    response = qq.parseJson(xhrOrXdr.responseText);\n                } catch (err) {\n                    options.log(\"Problem parsing session response: \" + err.message, \"error\");\n                    isError = true;\n                }\n            }\n            options.onComplete(response, !isError, xhrOrXdr);\n        }\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            validMethods: [ \"GET\" ],\n            method: \"GET\",\n            endpointStore: {\n                get: function() {\n                    return options.endpoint;\n                }\n            },\n            customHeaders: options.customHeaders,\n            log: options.log,\n            onComplete: onComplete,\n            cors: options.cors\n        }));\n        qq.extend(this, {\n            queryServer: function() {\n                var params = qq.extend({}, options.params);\n                options.log(\"Session query request.\");\n                requester.initTransport(\"sessionRefresh\").withParams(params).withCacheBuster().send();\n            }\n        });\n    };\n    qq.Scaler = function(spec, log) {\n        \"use strict\";\n        var self = this, customResizeFunction = spec.customResizer, includeOriginal = spec.sendOriginal, orient = spec.orient, defaultType = spec.defaultType, defaultQuality = spec.defaultQuality / 100, failedToScaleText = spec.failureText, includeExif = spec.includeExif, sizes = this._getSortedSizes(spec.sizes);\n        qq.extend(this, {\n            enabled: qq.supportedFeatures.scaling && sizes.length > 0,\n            getFileRecords: function(originalFileUuid, originalFileName, originalBlobOrBlobData) {\n                var self = this, records = [], originalBlob = originalBlobOrBlobData.blob ? originalBlobOrBlobData.blob : originalBlobOrBlobData, identifier = new qq.Identify(originalBlob, log);\n                if (identifier.isPreviewableSync()) {\n                    qq.each(sizes, function(idx, sizeRecord) {\n                        var outputType = self._determineOutputType({\n                            defaultType: defaultType,\n                            requestedType: sizeRecord.type,\n                            refType: originalBlob.type\n                        });\n                        records.push({\n                            uuid: qq.getUniqueId(),\n                            name: self._getName(originalFileName, {\n                                name: sizeRecord.name,\n                                type: outputType,\n                                refType: originalBlob.type\n                            }),\n                            blob: new qq.BlobProxy(originalBlob, qq.bind(self._generateScaledImage, self, {\n                                customResizeFunction: customResizeFunction,\n                                maxSize: sizeRecord.maxSize,\n                                orient: orient,\n                                type: outputType,\n                                quality: defaultQuality,\n                                failedText: failedToScaleText,\n                                includeExif: includeExif,\n                                log: log\n                            }))\n                        });\n                    });\n                    records.push({\n                        uuid: originalFileUuid,\n                        name: originalFileName,\n                        size: originalBlob.size,\n                        blob: includeOriginal ? originalBlob : null\n                    });\n                } else {\n                    records.push({\n                        uuid: originalFileUuid,\n                        name: originalFileName,\n                        size: originalBlob.size,\n                        blob: originalBlob\n                    });\n                }\n                return records;\n            },\n            handleNewFile: function(file, name, uuid, size, fileList, batchId, uuidParamName, api) {\n                var self = this, buttonId = file.qqButtonId || file.blob && file.blob.qqButtonId, scaledIds = [], originalId = null, addFileToHandler = api.addFileToHandler, uploadData = api.uploadData, paramsStore = api.paramsStore, proxyGroupId = qq.getUniqueId();\n                qq.each(self.getFileRecords(uuid, name, file), function(idx, record) {\n                    var blobSize = record.size, id;\n                    if (record.blob instanceof qq.BlobProxy) {\n                        blobSize = -1;\n                    }\n                    id = uploadData.addFile({\n                        uuid: record.uuid,\n                        name: record.name,\n                        size: blobSize,\n                        batchId: batchId,\n                        proxyGroupId: proxyGroupId\n                    });\n                    if (record.blob instanceof qq.BlobProxy) {\n                        scaledIds.push(id);\n                    } else {\n                        originalId = id;\n                    }\n                    if (record.blob) {\n                        addFileToHandler(id, record.blob);\n                        fileList.push({\n                            id: id,\n                            file: record.blob\n                        });\n                    } else {\n                        uploadData.setStatus(id, qq.status.REJECTED);\n                    }\n                });\n                if (originalId !== null) {\n                    qq.each(scaledIds, function(idx, scaledId) {\n                        var params = {\n                            qqparentuuid: uploadData.retrieve({\n                                id: originalId\n                            }).uuid,\n                            qqparentsize: uploadData.retrieve({\n                                id: originalId\n                            }).size\n                        };\n                        params[uuidParamName] = uploadData.retrieve({\n                            id: scaledId\n                        }).uuid;\n                        uploadData.setParentId(scaledId, originalId);\n                        paramsStore.addReadOnly(scaledId, params);\n                    });\n                    if (scaledIds.length) {\n                        (function() {\n                            var param = {};\n                            param[uuidParamName] = uploadData.retrieve({\n                                id: originalId\n                            }).uuid;\n                            paramsStore.addReadOnly(originalId, param);\n                        })();\n                    }\n                }\n            }\n        });\n    };\n    qq.extend(qq.Scaler.prototype, {\n        scaleImage: function(id, specs, api) {\n            \"use strict\";\n            if (!qq.supportedFeatures.scaling) {\n                throw new qq.Error(\"Scaling is not supported in this browser!\");\n            }\n            var scalingEffort = new qq.Promise(), log = api.log, file = api.getFile(id), uploadData = api.uploadData.retrieve({\n                id: id\n            }), name = uploadData && uploadData.name, uuid = uploadData && uploadData.uuid, scalingOptions = {\n                customResizer: specs.customResizer,\n                sendOriginal: false,\n                orient: specs.orient,\n                defaultType: specs.type || null,\n                defaultQuality: specs.quality,\n                failedToScaleText: \"Unable to scale\",\n                sizes: [ {\n                    name: \"\",\n                    maxSize: specs.maxSize\n                } ]\n            }, scaler = new qq.Scaler(scalingOptions, log);\n            if (!qq.Scaler || !qq.supportedFeatures.imagePreviews || !file) {\n                scalingEffort.failure();\n                log(\"Could not generate requested scaled image for \" + id + \".  \" + \"Scaling is either not possible in this browser, or the file could not be located.\", \"error\");\n            } else {\n                qq.bind(function() {\n                    var record = scaler.getFileRecords(uuid, name, file)[0];\n                    if (record && record.blob instanceof qq.BlobProxy) {\n                        record.blob.create().then(scalingEffort.success, scalingEffort.failure);\n                    } else {\n                        log(id + \" is not a scalable image!\", \"error\");\n                        scalingEffort.failure();\n                    }\n                }, this)();\n            }\n            return scalingEffort;\n        },\n        _determineOutputType: function(spec) {\n            \"use strict\";\n            var requestedType = spec.requestedType, defaultType = spec.defaultType, referenceType = spec.refType;\n            if (!defaultType && !requestedType) {\n                if (referenceType !== \"image/jpeg\") {\n                    return \"image/png\";\n                }\n                return referenceType;\n            }\n            if (!requestedType) {\n                return defaultType;\n            }\n            if (qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES), requestedType) >= 0) {\n                if (requestedType === \"image/tiff\") {\n                    return qq.supportedFeatures.tiffPreviews ? requestedType : defaultType;\n                }\n                return requestedType;\n            }\n            return defaultType;\n        },\n        _getName: function(originalName, scaledVersionProperties) {\n            \"use strict\";\n            var startOfExt = originalName.lastIndexOf(\".\"), versionType = scaledVersionProperties.type || \"image/png\", referenceType = scaledVersionProperties.refType, scaledName = \"\", scaledExt = qq.getExtension(originalName), nameAppendage = \"\";\n            if (scaledVersionProperties.name && scaledVersionProperties.name.trim().length) {\n                nameAppendage = \" (\" + scaledVersionProperties.name + \")\";\n            }\n            if (startOfExt >= 0) {\n                scaledName = originalName.substr(0, startOfExt);\n                if (referenceType !== versionType) {\n                    scaledExt = versionType.split(\"/\")[1];\n                }\n                scaledName += nameAppendage + \".\" + scaledExt;\n            } else {\n                scaledName = originalName + nameAppendage;\n            }\n            return scaledName;\n        },\n        _getSortedSizes: function(sizes) {\n            \"use strict\";\n            sizes = qq.extend([], sizes);\n            return sizes.sort(function(a, b) {\n                if (a.maxSize > b.maxSize) {\n                    return 1;\n                }\n                if (a.maxSize < b.maxSize) {\n                    return -1;\n                }\n                return 0;\n            });\n        },\n        _generateScaledImage: function(spec, sourceFile) {\n            \"use strict\";\n            var self = this, customResizeFunction = spec.customResizeFunction, log = spec.log, maxSize = spec.maxSize, orient = spec.orient, type = spec.type, quality = spec.quality, failedText = spec.failedText, includeExif = spec.includeExif && sourceFile.type === \"image/jpeg\" && type === \"image/jpeg\", scalingEffort = new qq.Promise(), imageGenerator = new qq.ImageGenerator(log), canvas = document.createElement(\"canvas\");\n            log(\"Attempting to generate scaled version for \" + sourceFile.name);\n            imageGenerator.generate(sourceFile, canvas, {\n                maxSize: maxSize,\n                orient: orient,\n                customResizeFunction: customResizeFunction\n            }).then(function() {\n                var scaledImageDataUri = canvas.toDataURL(type, quality), signalSuccess = function() {\n                    log(\"Success generating scaled version for \" + sourceFile.name);\n                    var blob = qq.dataUriToBlob(scaledImageDataUri);\n                    scalingEffort.success(blob);\n                };\n                if (includeExif) {\n                    self._insertExifHeader(sourceFile, scaledImageDataUri, log).then(function(scaledImageDataUriWithExif) {\n                        scaledImageDataUri = scaledImageDataUriWithExif;\n                        signalSuccess();\n                    }, function() {\n                        log(\"Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.\", \"error\");\n                        signalSuccess();\n                    });\n                } else {\n                    signalSuccess();\n                }\n            }, function() {\n                log(\"Failed attempt to generate scaled version for \" + sourceFile.name, \"error\");\n                scalingEffort.failure(failedText);\n            });\n            return scalingEffort;\n        },\n        _insertExifHeader: function(originalImage, scaledImageDataUri, log) {\n            \"use strict\";\n            var reader = new FileReader(), insertionEffort = new qq.Promise(), originalImageDataUri = \"\";\n            reader.onload = function() {\n                originalImageDataUri = reader.result;\n                insertionEffort.success(qq.ExifRestorer.restore(originalImageDataUri, scaledImageDataUri));\n            };\n            reader.onerror = function() {\n                log(\"Problem reading \" + originalImage.name + \" during attempt to transfer EXIF data to scaled version.\", \"error\");\n                insertionEffort.failure();\n            };\n            reader.readAsDataURL(originalImage);\n            return insertionEffort;\n        },\n        _dataUriToBlob: function(dataUri) {\n            \"use strict\";\n            var byteString, mimeString, arrayBuffer, intArray;\n            if (dataUri.split(\",\")[0].indexOf(\"base64\") >= 0) {\n                byteString = atob(dataUri.split(\",\")[1]);\n            } else {\n                byteString = decodeURI(dataUri.split(\",\")[1]);\n            }\n            mimeString = dataUri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n            arrayBuffer = new ArrayBuffer(byteString.length);\n            intArray = new Uint8Array(arrayBuffer);\n            qq.each(byteString, function(idx, character) {\n                intArray[idx] = character.charCodeAt(0);\n            });\n            return this._createBlob(arrayBuffer, mimeString);\n        },\n        _createBlob: function(data, mime) {\n            \"use strict\";\n            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder, blobBuilder = BlobBuilder && new BlobBuilder();\n            if (blobBuilder) {\n                blobBuilder.append(data);\n                return blobBuilder.getBlob(mime);\n            } else {\n                return new Blob([ data ], {\n                    type: mime\n                });\n            }\n        }\n    });\n    qq.ExifRestorer = function() {\n        var ExifRestorer = {};\n        ExifRestorer.KEY_STR = \"ABCDEFGHIJKLMNOP\" + \"QRSTUVWXYZabcdef\" + \"ghijklmnopqrstuv\" + \"wxyz0123456789+/\" + \"=\";\n        ExifRestorer.encode64 = function(input) {\n            var output = \"\", chr1, chr2, chr3 = \"\", enc1, enc2, enc3, enc4 = \"\", i = 0;\n            do {\n                chr1 = input[i++];\n                chr2 = input[i++];\n                chr3 = input[i++];\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + this.KEY_STR.charAt(enc1) + this.KEY_STR.charAt(enc2) + this.KEY_STR.charAt(enc3) + this.KEY_STR.charAt(enc4);\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n            return output;\n        };\n        ExifRestorer.restore = function(origFileBase64, resizedFileBase64) {\n            var expectedBase64Header = \"data:image/jpeg;base64,\";\n            if (!origFileBase64.match(expectedBase64Header)) {\n                return resizedFileBase64;\n            }\n            var rawImage = this.decode64(origFileBase64.replace(expectedBase64Header, \"\"));\n            var segments = this.slice2Segments(rawImage);\n            var image = this.exifManipulation(resizedFileBase64, segments);\n            return expectedBase64Header + this.encode64(image);\n        };\n        ExifRestorer.exifManipulation = function(resizedFileBase64, segments) {\n            var exifArray = this.getExifArray(segments), newImageArray = this.insertExif(resizedFileBase64, exifArray), aBuffer = new Uint8Array(newImageArray);\n            return aBuffer;\n        };\n        ExifRestorer.getExifArray = function(segments) {\n            var seg;\n            for (var x = 0; x < segments.length; x++) {\n                seg = segments[x];\n                if (seg[0] == 255 & seg[1] == 225) {\n                    return seg;\n                }\n            }\n            return [];\n        };\n        ExifRestorer.insertExif = function(resizedFileBase64, exifArray) {\n            var imageData = resizedFileBase64.replace(\"data:image/jpeg;base64,\", \"\"), buf = this.decode64(imageData), separatePoint = buf.indexOf(255, 3), mae = buf.slice(0, separatePoint), ato = buf.slice(separatePoint), array = mae;\n            array = array.concat(exifArray);\n            array = array.concat(ato);\n            return array;\n        };\n        ExifRestorer.slice2Segments = function(rawImageArray) {\n            var head = 0, segments = [];\n            while (1) {\n                if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 218) {\n                    break;\n                }\n                if (rawImageArray[head] == 255 & rawImageArray[head + 1] == 216) {\n                    head += 2;\n                } else {\n                    var length = rawImageArray[head + 2] * 256 + rawImageArray[head + 3], endPoint = head + length + 2, seg = rawImageArray.slice(head, endPoint);\n                    segments.push(seg);\n                    head = endPoint;\n                }\n                if (head > rawImageArray.length) {\n                    break;\n                }\n            }\n            return segments;\n        };\n        ExifRestorer.decode64 = function(input) {\n            var output = \"\", chr1, chr2, chr3 = \"\", enc1, enc2, enc3, enc4 = \"\", i = 0, buf = [];\n            var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n            if (base64test.exec(input)) {\n                throw new Error(\"There were invalid base64 characters in the input text.  \" + \"Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\");\n            }\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n            do {\n                enc1 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc2 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc3 = this.KEY_STR.indexOf(input.charAt(i++));\n                enc4 = this.KEY_STR.indexOf(input.charAt(i++));\n                chr1 = enc1 << 2 | enc2 >> 4;\n                chr2 = (enc2 & 15) << 4 | enc3 >> 2;\n                chr3 = (enc3 & 3) << 6 | enc4;\n                buf.push(chr1);\n                if (enc3 != 64) {\n                    buf.push(chr2);\n                }\n                if (enc4 != 64) {\n                    buf.push(chr3);\n                }\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i < input.length);\n            return buf;\n        };\n        return ExifRestorer;\n    }();\n    qq.TotalProgress = function(callback, getSize) {\n        \"use strict\";\n        var perFileProgress = {}, totalLoaded = 0, totalSize = 0, lastLoadedSent = -1, lastTotalSent = -1, callbackProxy = function(loaded, total) {\n            if (loaded !== lastLoadedSent || total !== lastTotalSent) {\n                callback(loaded, total);\n            }\n            lastLoadedSent = loaded;\n            lastTotalSent = total;\n        }, noRetryableFiles = function(failed, retryable) {\n            var none = true;\n            qq.each(failed, function(idx, failedId) {\n                if (qq.indexOf(retryable, failedId) >= 0) {\n                    none = false;\n                    return false;\n                }\n            });\n            return none;\n        }, onCancel = function(id) {\n            updateTotalProgress(id, -1, -1);\n            delete perFileProgress[id];\n        }, onAllComplete = function(successful, failed, retryable) {\n            if (failed.length === 0 || noRetryableFiles(failed, retryable)) {\n                callbackProxy(totalSize, totalSize);\n                this.reset();\n            }\n        }, onNew = function(id) {\n            var size = getSize(id);\n            if (size > 0) {\n                updateTotalProgress(id, 0, size);\n                perFileProgress[id] = {\n                    loaded: 0,\n                    total: size\n                };\n            }\n        }, updateTotalProgress = function(id, newLoaded, newTotal) {\n            var oldLoaded = perFileProgress[id] ? perFileProgress[id].loaded : 0, oldTotal = perFileProgress[id] ? perFileProgress[id].total : 0;\n            if (newLoaded === -1 && newTotal === -1) {\n                totalLoaded -= oldLoaded;\n                totalSize -= oldTotal;\n            } else {\n                if (newLoaded) {\n                    totalLoaded += newLoaded - oldLoaded;\n                }\n                if (newTotal) {\n                    totalSize += newTotal - oldTotal;\n                }\n            }\n            callbackProxy(totalLoaded, totalSize);\n        };\n        qq.extend(this, {\n            onAllComplete: onAllComplete,\n            onStatusChange: function(id, oldStatus, newStatus) {\n                if (newStatus === qq.status.CANCELED || newStatus === qq.status.REJECTED) {\n                    onCancel(id);\n                } else if (newStatus === qq.status.SUBMITTING) {\n                    onNew(id);\n                }\n            },\n            onIndividualProgress: function(id, loaded, total) {\n                updateTotalProgress(id, loaded, total);\n                perFileProgress[id] = {\n                    loaded: loaded,\n                    total: total\n                };\n            },\n            onNewSize: function(id) {\n                onNew(id);\n            },\n            reset: function() {\n                perFileProgress = {};\n                totalLoaded = 0;\n                totalSize = 0;\n            }\n        });\n    };\n    qq.PasteSupport = function(o) {\n        \"use strict\";\n        var options, detachPasteHandler;\n        options = {\n            targetElement: null,\n            callbacks: {\n                log: function(message, level) {},\n                pasteReceived: function(blob) {}\n            }\n        };\n        function isImage(item) {\n            return item.type && item.type.indexOf(\"image/\") === 0;\n        }\n        function registerPasteHandler() {\n            detachPasteHandler = qq(options.targetElement).attach(\"paste\", function(event) {\n                var clipboardData = event.clipboardData;\n                if (clipboardData) {\n                    qq.each(clipboardData.items, function(idx, item) {\n                        if (isImage(item)) {\n                            var blob = item.getAsFile();\n                            options.callbacks.pasteReceived(blob);\n                        }\n                    });\n                }\n            });\n        }\n        function unregisterPasteHandler() {\n            if (detachPasteHandler) {\n                detachPasteHandler();\n            }\n        }\n        qq.extend(options, o);\n        registerPasteHandler();\n        qq.extend(this, {\n            reset: function() {\n                unregisterPasteHandler();\n            }\n        });\n    };\n    qq.FormSupport = function(options, startUpload, log) {\n        \"use strict\";\n        var self = this, interceptSubmit = options.interceptSubmit, formEl = options.element, autoUpload = options.autoUpload;\n        qq.extend(this, {\n            newEndpoint: null,\n            newAutoUpload: autoUpload,\n            attachedToForm: false,\n            getFormInputsAsObject: function() {\n                if (formEl == null) {\n                    return null;\n                }\n                return self._form2Obj(formEl);\n            }\n        });\n        function determineNewEndpoint(formEl) {\n            if (formEl.getAttribute(\"action\")) {\n                self.newEndpoint = formEl.getAttribute(\"action\");\n            }\n        }\n        function validateForm(formEl, nativeSubmit) {\n            if (formEl.checkValidity && !formEl.checkValidity()) {\n                log(\"Form did not pass validation checks - will not upload.\", \"error\");\n                nativeSubmit();\n            } else {\n                return true;\n            }\n        }\n        function maybeUploadOnSubmit(formEl) {\n            var nativeSubmit = formEl.submit;\n            qq(formEl).attach(\"submit\", function(event) {\n                event = event || window.event;\n                if (event.preventDefault) {\n                    event.preventDefault();\n                } else {\n                    event.returnValue = false;\n                }\n                validateForm(formEl, nativeSubmit) && startUpload();\n            });\n            formEl.submit = function() {\n                validateForm(formEl, nativeSubmit) && startUpload();\n            };\n        }\n        function determineFormEl(formEl) {\n            if (formEl) {\n                if (qq.isString(formEl)) {\n                    formEl = document.getElementById(formEl);\n                }\n                if (formEl) {\n                    log(\"Attaching to form element.\");\n                    determineNewEndpoint(formEl);\n                    interceptSubmit && maybeUploadOnSubmit(formEl);\n                }\n            }\n            return formEl;\n        }\n        formEl = determineFormEl(formEl);\n        this.attachedToForm = !!formEl;\n    };\n    qq.extend(qq.FormSupport.prototype, {\n        _form2Obj: function(form) {\n            \"use strict\";\n            var obj = {}, notIrrelevantType = function(type) {\n                var irrelevantTypes = [ \"button\", \"image\", \"reset\", \"submit\" ];\n                return qq.indexOf(irrelevantTypes, type.toLowerCase()) < 0;\n            }, radioOrCheckbox = function(type) {\n                return qq.indexOf([ \"checkbox\", \"radio\" ], type.toLowerCase()) >= 0;\n            }, ignoreValue = function(el) {\n                if (radioOrCheckbox(el.type) && !el.checked) {\n                    return true;\n                }\n                return el.disabled && el.type.toLowerCase() !== \"hidden\";\n            }, selectValue = function(select) {\n                var value = null;\n                qq.each(qq(select).children(), function(idx, child) {\n                    if (child.tagName.toLowerCase() === \"option\" && child.selected) {\n                        value = child.value;\n                        return false;\n                    }\n                });\n                return value;\n            };\n            qq.each(form.elements, function(idx, el) {\n                if ((qq.isInput(el, true) || el.tagName.toLowerCase() === \"textarea\") && notIrrelevantType(el.type) && !ignoreValue(el)) {\n                    obj[el.name] = el.value;\n                } else if (el.tagName.toLowerCase() === \"select\" && !ignoreValue(el)) {\n                    var value = selectValue(el);\n                    if (value !== null) {\n                        obj[el.name] = value;\n                    }\n                }\n            });\n            return obj;\n        }\n    });\n    qq.traditional = qq.traditional || {};\n    qq.traditional.FormUploadHandler = function(options, proxy) {\n        \"use strict\";\n        var handler = this, getName = proxy.getName, getUuid = proxy.getUuid, log = proxy.log;\n        function getIframeContentJson(id, iframe) {\n            var response, doc, innerHtml;\n            try {\n                doc = iframe.contentDocument || iframe.contentWindow.document;\n                innerHtml = doc.body.innerHTML;\n                log(\"converting iframe's innerHTML to JSON\");\n                log(\"innerHTML = \" + innerHtml);\n                if (innerHtml && innerHtml.match(/^<pre/i)) {\n                    innerHtml = doc.body.firstChild.firstChild.nodeValue;\n                }\n                response = handler._parseJsonResponse(innerHtml);\n            } catch (error) {\n                log(\"Error when attempting to parse form upload response (\" + error.message + \")\", \"error\");\n                response = {\n                    success: false\n                };\n            }\n            return response;\n        }\n        function createForm(id, iframe) {\n            var params = options.paramsStore.get(id), method = options.method.toLowerCase() === \"get\" ? \"GET\" : \"POST\", endpoint = options.endpointStore.get(id), name = getName(id);\n            params[options.uuidName] = getUuid(id);\n            params[options.filenameParam] = name;\n            return handler._initFormForUpload({\n                method: method,\n                endpoint: endpoint,\n                params: params,\n                paramsInBody: options.paramsInBody,\n                targetName: iframe.name\n            });\n        }\n        this.uploadFile = function(id) {\n            var input = handler.getInput(id), iframe = handler._createIframe(id), promise = new qq.Promise(), form;\n            form = createForm(id, iframe);\n            form.appendChild(input);\n            handler._attachLoadEvent(iframe, function(responseFromMessage) {\n                log(\"iframe loaded\");\n                var response = responseFromMessage ? responseFromMessage : getIframeContentJson(id, iframe);\n                handler._detachLoadEvent(id);\n                if (!options.cors.expected) {\n                    qq(iframe).remove();\n                }\n                if (response.success) {\n                    promise.success(response);\n                } else {\n                    promise.failure(response);\n                }\n            });\n            log(\"Sending upload request for \" + id);\n            form.submit();\n            qq(form).remove();\n            return promise;\n        };\n        qq.extend(this, new qq.FormUploadHandler({\n            options: {\n                isCors: options.cors.expected,\n                inputName: options.inputName\n            },\n            proxy: {\n                onCancel: options.onCancel,\n                getName: getName,\n                getUuid: getUuid,\n                log: log\n            }\n        }));\n    };\n    qq.traditional = qq.traditional || {};\n    qq.traditional.XhrUploadHandler = function(spec, proxy) {\n        \"use strict\";\n        var handler = this, getName = proxy.getName, getSize = proxy.getSize, getUuid = proxy.getUuid, log = proxy.log, multipart = spec.forceMultipart || spec.paramsInBody, addChunkingSpecificParams = function(id, params, chunkData) {\n            var size = getSize(id), name = getName(id);\n            if (!spec.omitDefaultParams) {\n                params[spec.chunking.paramNames.partIndex] = chunkData.part;\n                params[spec.chunking.paramNames.partByteOffset] = chunkData.start;\n                params[spec.chunking.paramNames.chunkSize] = chunkData.size;\n                params[spec.chunking.paramNames.totalParts] = chunkData.count;\n                params[spec.totalFileSizeName] = size;\n            }\n            if (multipart && !spec.omitDefaultParams) {\n                params[spec.filenameParam] = name;\n            }\n        }, allChunksDoneRequester = new qq.traditional.AllChunksDoneAjaxRequester({\n            cors: spec.cors,\n            endpoint: spec.chunking.success.endpoint,\n            headers: spec.chunking.success.headers,\n            jsonPayload: spec.chunking.success.jsonPayload,\n            log: log,\n            method: spec.chunking.success.method,\n            params: spec.chunking.success.params\n        }), createReadyStateChangedHandler = function(id, xhr) {\n            var promise = new qq.Promise();\n            xhr.onreadystatechange = function() {\n                if (xhr.readyState === 4) {\n                    var result = onUploadOrChunkComplete(id, xhr);\n                    if (result.success) {\n                        promise.success(result.response, xhr);\n                    } else {\n                        promise.failure(result.response, xhr);\n                    }\n                }\n            };\n            return promise;\n        }, getChunksCompleteParams = function(id) {\n            var params = spec.paramsStore.get(id), name = getName(id), size = getSize(id);\n            params[spec.uuidName] = getUuid(id);\n            params[spec.filenameParam] = name;\n            params[spec.totalFileSizeName] = size;\n            params[spec.chunking.paramNames.totalParts] = handler._getTotalChunks(id);\n            return params;\n        }, isErrorUploadResponse = function(xhr, response) {\n            return qq.indexOf([ 200, 201, 202, 203, 204 ], xhr.status) < 0 || spec.requireSuccessJson && !response.success || response.reset;\n        }, onUploadOrChunkComplete = function(id, xhr) {\n            var response;\n            log(\"xhr - server response received for \" + id);\n            log(\"responseText = \" + xhr.responseText);\n            response = parseResponse(true, xhr);\n            return {\n                success: !isErrorUploadResponse(xhr, response),\n                response: response\n            };\n        }, parseResponse = function(upload, xhr) {\n            var response = {};\n            try {\n                log(qq.format(\"Received response status {} with body: {}\", xhr.status, xhr.responseText));\n                response = qq.parseJson(xhr.responseText);\n            } catch (error) {\n                upload && spec.requireSuccessJson && log(\"Error when attempting to parse xhr response text (\" + error.message + \")\", \"error\");\n            }\n            return response;\n        }, sendChunksCompleteRequest = function(id) {\n            var promise = new qq.Promise();\n            allChunksDoneRequester.complete(id, handler._createXhr(id), getChunksCompleteParams(id), spec.customHeaders.get(id)).then(function(xhr) {\n                promise.success(parseResponse(false, xhr), xhr);\n            }, function(xhr) {\n                promise.failure(parseResponse(false, xhr), xhr);\n            });\n            return promise;\n        }, setParamsAndGetEntityToSend = function(entityToSendParams) {\n            var fileOrBlob = entityToSendParams.fileOrBlob;\n            var id = entityToSendParams.id;\n            var xhr = entityToSendParams.xhr;\n            var xhrOverrides = entityToSendParams.xhrOverrides || {};\n            var customParams = entityToSendParams.customParams || {};\n            var defaultParams = entityToSendParams.params || {};\n            var xhrOverrideParams = xhrOverrides.params || {};\n            var params;\n            var formData = multipart ? new FormData() : null, method = xhrOverrides.method || spec.method, endpoint = xhrOverrides.endpoint || spec.endpointStore.get(id), name = getName(id), size = getSize(id);\n            if (spec.omitDefaultParams) {\n                params = qq.extend({}, customParams);\n                qq.extend(params, xhrOverrideParams);\n            } else {\n                params = qq.extend({}, customParams);\n                qq.extend(params, xhrOverrideParams);\n                qq.extend(params, defaultParams);\n                params[spec.uuidName] = getUuid(id);\n                params[spec.filenameParam] = name;\n                if (multipart) {\n                    params[spec.totalFileSizeName] = size;\n                } else if (!spec.paramsInBody) {\n                    params[spec.inputName] = name;\n                }\n            }\n            if (!spec.paramsInBody) {\n                endpoint = qq.obj2url(params, endpoint);\n            }\n            xhr.open(method, endpoint, true);\n            if (spec.cors.expected && spec.cors.sendCredentials) {\n                xhr.withCredentials = true;\n            }\n            if (multipart) {\n                if (spec.paramsInBody) {\n                    qq.obj2FormData(params, formData);\n                }\n                formData.append(spec.inputName, fileOrBlob);\n                return formData;\n            }\n            return fileOrBlob;\n        }, setUploadHeaders = function(headersOptions) {\n            var headerOverrides = headersOptions.headerOverrides;\n            var id = headersOptions.id;\n            var xhr = headersOptions.xhr;\n            if (headerOverrides) {\n                qq.each(headerOverrides, function(headerName, headerValue) {\n                    xhr.setRequestHeader(headerName, headerValue);\n                });\n            } else {\n                var extraHeaders = spec.customHeaders.get(id), fileOrBlob = handler.getFile(id);\n                xhr.setRequestHeader(\"Accept\", \"application/json\");\n                xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n                xhr.setRequestHeader(\"Cache-Control\", \"no-cache\");\n                if (!multipart) {\n                    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\n                    xhr.setRequestHeader(\"X-Mime-Type\", fileOrBlob.type);\n                }\n                qq.each(extraHeaders, function(name, val) {\n                    xhr.setRequestHeader(name, val);\n                });\n            }\n        };\n        qq.extend(this, {\n            uploadChunk: function(uploadChunkParams) {\n                var id = uploadChunkParams.id;\n                var chunkIdx = uploadChunkParams.chunkIdx;\n                var overrides = uploadChunkParams.overrides || {};\n                var resuming = uploadChunkParams.resuming;\n                var chunkData = handler._getChunkData(id, chunkIdx), xhr = handler._createXhr(id, chunkIdx), promise, toSend, customParams, params = {};\n                promise = createReadyStateChangedHandler(id, xhr);\n                handler._registerProgressHandler(id, chunkIdx, chunkData.size);\n                customParams = spec.paramsStore.get(id);\n                addChunkingSpecificParams(id, params, chunkData);\n                if (resuming) {\n                    params[spec.resume.paramNames.resuming] = true;\n                }\n                toSend = setParamsAndGetEntityToSend({\n                    fileOrBlob: chunkData.blob,\n                    id: id,\n                    customParams: customParams,\n                    params: params,\n                    xhr: xhr,\n                    xhrOverrides: overrides\n                });\n                setUploadHeaders({\n                    headerOverrides: overrides.headers,\n                    id: id,\n                    xhr: xhr\n                });\n                xhr.send(toSend);\n                return promise;\n            },\n            uploadFile: function(id) {\n                var fileOrBlob = handler.getFile(id), promise, xhr, customParams, toSend;\n                xhr = handler._createXhr(id);\n                handler._registerProgressHandler(id);\n                promise = createReadyStateChangedHandler(id, xhr);\n                customParams = spec.paramsStore.get(id);\n                toSend = setParamsAndGetEntityToSend({\n                    fileOrBlob: fileOrBlob,\n                    id: id,\n                    customParams: customParams,\n                    xhr: xhr\n                });\n                setUploadHeaders({\n                    id: id,\n                    xhr: xhr\n                });\n                xhr.send(toSend);\n                return promise;\n            }\n        });\n        qq.extend(this, new qq.XhrUploadHandler({\n            options: qq.extend({\n                namespace: \"traditional\"\n            }, spec),\n            proxy: qq.extend({\n                getEndpoint: spec.endpointStore.get\n            }, proxy)\n        }));\n        qq.override(this, function(super_) {\n            return {\n                finalizeChunks: function(id) {\n                    proxy.onFinalizing(id);\n                    if (spec.chunking.success.endpoint) {\n                        return sendChunksCompleteRequest(id);\n                    } else {\n                        return super_.finalizeChunks(id, qq.bind(parseResponse, this, true));\n                    }\n                }\n            };\n        });\n    };\n    qq.traditional.AllChunksDoneAjaxRequester = function(o) {\n        \"use strict\";\n        var requester, options = {\n            cors: {\n                allowXdr: false,\n                expected: false,\n                sendCredentials: false\n            },\n            endpoint: null,\n            log: function(str, level) {},\n            method: \"POST\"\n        }, promises = {}, endpointHandler = {\n            get: function(id) {\n                if (qq.isFunction(options.endpoint)) {\n                    return options.endpoint(id);\n                }\n                return options.endpoint;\n            }\n        };\n        qq.extend(options, o);\n        requester = qq.extend(this, new qq.AjaxRequester({\n            acceptHeader: \"application/json\",\n            contentType: options.jsonPayload ? \"application/json\" : \"application/x-www-form-urlencoded\",\n            validMethods: [ options.method ],\n            method: options.method,\n            endpointStore: endpointHandler,\n            allowXRequestedWithAndCacheControl: false,\n            cors: options.cors,\n            log: options.log,\n            onComplete: function(id, xhr, isError) {\n                var promise = promises[id];\n                delete promises[id];\n                if (isError) {\n                    promise.failure(xhr);\n                } else {\n                    promise.success(xhr);\n                }\n            }\n        }));\n        qq.extend(this, {\n            complete: function(id, xhr, params, headers) {\n                var promise = new qq.Promise();\n                options.log(\"Submitting All Chunks Done request for \" + id);\n                promises[id] = promise;\n                requester.initTransport(id).withParams(options.params(id) || params).withHeaders(options.headers(id) || headers).send(xhr);\n                return promise;\n            }\n        });\n    };\n    qq.DragAndDrop = function(o) {\n        \"use strict\";\n        var options, HIDE_ZONES_EVENT_NAME = \"qq-hidezones\", HIDE_BEFORE_ENTER_ATTR = \"qq-hide-dropzone\", uploadDropZones = [], droppedFiles = [], disposeSupport = new qq.DisposeSupport();\n        options = {\n            dropZoneElements: [],\n            allowMultipleItems: true,\n            classes: {\n                dropActive: null\n            },\n            callbacks: new qq.DragAndDrop.callbacks()\n        };\n        qq.extend(options, o, true);\n        function uploadDroppedFiles(files, uploadDropZone) {\n            var filesAsArray = Array.prototype.slice.call(files);\n            options.callbacks.dropLog(\"Grabbed \" + files.length + \" dropped files.\");\n            uploadDropZone.dropDisabled(false);\n            options.callbacks.processingDroppedFilesComplete(filesAsArray, uploadDropZone.getElement());\n        }\n        function traverseFileTree(entry) {\n            var parseEntryPromise = new qq.Promise();\n            if (entry.isFile) {\n                entry.file(function(file) {\n                    file.qqPath = extractDirectoryPath(entry);\n                    droppedFiles.push(file);\n                    parseEntryPromise.success();\n                }, function(fileError) {\n                    options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n                    parseEntryPromise.failure();\n                });\n            } else if (entry.isDirectory) {\n                getFilesInDirectory(entry).then(function allEntriesRead(entries) {\n                    var entriesLeft = entries.length;\n                    qq.each(entries, function(idx, entry) {\n                        traverseFileTree(entry).done(function() {\n                            entriesLeft -= 1;\n                            if (entriesLeft === 0) {\n                                parseEntryPromise.success();\n                            }\n                        });\n                    });\n                    if (!entries.length) {\n                        parseEntryPromise.success();\n                    }\n                }, function readFailure(fileError) {\n                    options.callbacks.dropLog(\"Problem parsing '\" + entry.fullPath + \"'.  FileError code \" + fileError.code + \".\", \"error\");\n                    parseEntryPromise.failure();\n                });\n            }\n            return parseEntryPromise;\n        }\n        function extractDirectoryPath(entry) {\n            var name = entry.name, fullPath = entry.fullPath, indexOfNameInFullPath = fullPath.lastIndexOf(name);\n            fullPath = fullPath.substr(0, indexOfNameInFullPath);\n            if (fullPath.charAt(0) === \"/\") {\n                fullPath = fullPath.substr(1);\n            }\n            return fullPath;\n        }\n        function getFilesInDirectory(entry, reader, accumEntries, existingPromise) {\n            var promise = existingPromise || new qq.Promise(), dirReader = reader || entry.createReader();\n            dirReader.readEntries(function readSuccess(entries) {\n                var newEntries = accumEntries ? accumEntries.concat(entries) : entries;\n                if (entries.length) {\n                    setTimeout(function() {\n                        getFilesInDirectory(entry, dirReader, newEntries, promise);\n                    }, 0);\n                } else {\n                    promise.success(newEntries);\n                }\n            }, promise.failure);\n            return promise;\n        }\n        function handleDataTransfer(dataTransfer, uploadDropZone) {\n            var pendingFolderPromises = [], handleDataTransferPromise = new qq.Promise();\n            options.callbacks.processingDroppedFiles();\n            uploadDropZone.dropDisabled(true);\n            if (dataTransfer.files.length > 1 && !options.allowMultipleItems) {\n                options.callbacks.processingDroppedFilesComplete([]);\n                options.callbacks.dropError(\"tooManyFilesError\", \"\");\n                uploadDropZone.dropDisabled(false);\n                handleDataTransferPromise.failure();\n            } else {\n                droppedFiles = [];\n                if (qq.isFolderDropSupported(dataTransfer)) {\n                    qq.each(dataTransfer.items, function(idx, item) {\n                        var entry = item.webkitGetAsEntry();\n                        if (entry) {\n                            if (entry.isFile) {\n                                droppedFiles.push(item.getAsFile());\n                            } else {\n                                pendingFolderPromises.push(traverseFileTree(entry).done(function() {\n                                    pendingFolderPromises.pop();\n                                    if (pendingFolderPromises.length === 0) {\n                                        handleDataTransferPromise.success();\n                                    }\n                                }));\n                            }\n                        }\n                    });\n                } else {\n                    droppedFiles = dataTransfer.files;\n                }\n                if (pendingFolderPromises.length === 0) {\n                    handleDataTransferPromise.success();\n                }\n            }\n            return handleDataTransferPromise;\n        }\n        function setupDropzone(dropArea) {\n            var dropZone = new qq.UploadDropZone({\n                HIDE_ZONES_EVENT_NAME: HIDE_ZONES_EVENT_NAME,\n                element: dropArea,\n                onEnter: function(e) {\n                    qq(dropArea).addClass(options.classes.dropActive);\n                    e.stopPropagation();\n                },\n                onLeaveNotDescendants: function(e) {\n                    qq(dropArea).removeClass(options.classes.dropActive);\n                },\n                onDrop: function(e) {\n                    handleDataTransfer(e.dataTransfer, dropZone).then(function() {\n                        uploadDroppedFiles(droppedFiles, dropZone);\n                    }, function() {\n                        options.callbacks.dropLog(\"Drop event DataTransfer parsing failed.  No files will be uploaded.\", \"error\");\n                    });\n                }\n            });\n            disposeSupport.addDisposer(function() {\n                dropZone.dispose();\n            });\n            qq(dropArea).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropArea).hide();\n            uploadDropZones.push(dropZone);\n            return dropZone;\n        }\n        function isFileDrag(dragEvent) {\n            var fileDrag;\n            qq.each(dragEvent.dataTransfer.types, function(key, val) {\n                if (val === \"Files\") {\n                    fileDrag = true;\n                    return false;\n                }\n            });\n            return fileDrag;\n        }\n        function leavingDocumentOut(e) {\n            if (qq.safari()) {\n                return e.x < 0 || e.y < 0;\n            }\n            return e.x === 0 && e.y === 0;\n        }\n        function setupDragDrop() {\n            var dropZones = options.dropZoneElements, maybeHideDropZones = function() {\n                setTimeout(function() {\n                    qq.each(dropZones, function(idx, dropZone) {\n                        qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR) && qq(dropZone).hide();\n                        qq(dropZone).removeClass(options.classes.dropActive);\n                    });\n                }, 10);\n            };\n            qq.each(dropZones, function(idx, dropZone) {\n                var uploadDropZone = setupDropzone(dropZone);\n                if (dropZones.length && qq.supportedFeatures.fileDrop) {\n                    disposeSupport.attach(document, \"dragenter\", function(e) {\n                        if (!uploadDropZone.dropDisabled() && isFileDrag(e)) {\n                            qq.each(dropZones, function(idx, dropZone) {\n                                if (dropZone instanceof HTMLElement && qq(dropZone).hasAttribute(HIDE_BEFORE_ENTER_ATTR)) {\n                                    qq(dropZone).css({\n                                        display: \"block\"\n                                    });\n                                }\n                            });\n                        }\n                    });\n                }\n            });\n            disposeSupport.attach(document, \"dragleave\", function(e) {\n                if (leavingDocumentOut(e)) {\n                    maybeHideDropZones();\n                }\n            });\n            disposeSupport.attach(qq(document).children()[0], \"mouseenter\", function(e) {\n                maybeHideDropZones();\n            });\n            disposeSupport.attach(document, \"drop\", function(e) {\n                if (isFileDrag(e)) {\n                    e.preventDefault();\n                    maybeHideDropZones();\n                }\n            });\n            disposeSupport.attach(document, HIDE_ZONES_EVENT_NAME, maybeHideDropZones);\n        }\n        setupDragDrop();\n        qq.extend(this, {\n            setupExtraDropzone: function(element) {\n                options.dropZoneElements.push(element);\n                setupDropzone(element);\n            },\n            removeDropzone: function(element) {\n                var i, dzs = options.dropZoneElements;\n                for (i in dzs) {\n                    if (dzs[i] === element) {\n                        return dzs.splice(i, 1);\n                    }\n                }\n            },\n            dispose: function() {\n                disposeSupport.dispose();\n                qq.each(uploadDropZones, function(idx, dropZone) {\n                    dropZone.dispose();\n                });\n            }\n        });\n        this._testing = {};\n        this._testing.extractDirectoryPath = extractDirectoryPath;\n    };\n    qq.DragAndDrop.callbacks = function() {\n        \"use strict\";\n        return {\n            processingDroppedFiles: function() {},\n            processingDroppedFilesComplete: function(files, targetEl) {},\n            dropError: function(code, errorSpecifics) {\n                qq.log(\"Drag & drop error code '\" + code + \" with these specifics: '\" + errorSpecifics + \"'\", \"error\");\n            },\n            dropLog: function(message, level) {\n                qq.log(message, level);\n            }\n        };\n    };\n    qq.UploadDropZone = function(o) {\n        \"use strict\";\n        var disposeSupport = new qq.DisposeSupport(), options, element, preventDrop, dropOutsideDisabled;\n        options = {\n            element: null,\n            onEnter: function(e) {},\n            onLeave: function(e) {},\n            onLeaveNotDescendants: function(e) {},\n            onDrop: function(e) {}\n        };\n        qq.extend(options, o);\n        element = options.element;\n        function dragoverShouldBeCanceled() {\n            return qq.safari() || qq.firefox() && qq.windows();\n        }\n        function disableDropOutside(e) {\n            if (!dropOutsideDisabled) {\n                if (dragoverShouldBeCanceled) {\n                    disposeSupport.attach(document, \"dragover\", function(e) {\n                        e.preventDefault();\n                    });\n                } else {\n                    disposeSupport.attach(document, \"dragover\", function(e) {\n                        if (e.dataTransfer) {\n                            e.dataTransfer.dropEffect = \"none\";\n                            e.preventDefault();\n                        }\n                    });\n                }\n                dropOutsideDisabled = true;\n            }\n        }\n        function isValidFileDrag(e) {\n            if (!qq.supportedFeatures.fileDrop) {\n                return false;\n            }\n            var effectTest, dt = e.dataTransfer, isSafari = qq.safari();\n            effectTest = qq.ie() && qq.supportedFeatures.fileDrop ? true : dt.effectAllowed !== \"none\";\n            return dt && effectTest && (dt.files && dt.files.length || !isSafari && dt.types.contains && dt.types.contains(\"Files\") || dt.types.includes && dt.types.includes(\"Files\"));\n        }\n        function isOrSetDropDisabled(isDisabled) {\n            if (isDisabled !== undefined) {\n                preventDrop = isDisabled;\n            }\n            return preventDrop;\n        }\n        function triggerHidezonesEvent() {\n            var hideZonesEvent;\n            function triggerUsingOldApi() {\n                hideZonesEvent = document.createEvent(\"Event\");\n                hideZonesEvent.initEvent(options.HIDE_ZONES_EVENT_NAME, true, true);\n            }\n            if (window.CustomEvent) {\n                try {\n                    hideZonesEvent = new CustomEvent(options.HIDE_ZONES_EVENT_NAME);\n                } catch (err) {\n                    triggerUsingOldApi();\n                }\n            } else {\n                triggerUsingOldApi();\n            }\n            document.dispatchEvent(hideZonesEvent);\n        }\n        function attachEvents() {\n            disposeSupport.attach(element, \"dragover\", function(e) {\n                if (!isValidFileDrag(e)) {\n                    return;\n                }\n                var effect = qq.ie() && qq.supportedFeatures.fileDrop ? null : e.dataTransfer.effectAllowed;\n                if (effect === \"move\" || effect === \"linkMove\") {\n                    e.dataTransfer.dropEffect = \"move\";\n                } else {\n                    e.dataTransfer.dropEffect = \"copy\";\n                }\n                e.stopPropagation();\n                e.preventDefault();\n            });\n            disposeSupport.attach(element, \"dragenter\", function(e) {\n                if (!isOrSetDropDisabled()) {\n                    if (!isValidFileDrag(e)) {\n                        return;\n                    }\n                    options.onEnter(e);\n                }\n            });\n            disposeSupport.attach(element, \"dragleave\", function(e) {\n                if (!isValidFileDrag(e)) {\n                    return;\n                }\n                options.onLeave(e);\n                var relatedTarget = document.elementFromPoint(e.clientX, e.clientY);\n                if (qq(this).contains(relatedTarget)) {\n                    return;\n                }\n                options.onLeaveNotDescendants(e);\n            });\n            disposeSupport.attach(element, \"drop\", function(e) {\n                if (!isOrSetDropDisabled()) {\n                    if (!isValidFileDrag(e)) {\n                        return;\n                    }\n                    e.preventDefault();\n                    e.stopPropagation();\n                    options.onDrop(e);\n                    triggerHidezonesEvent();\n                }\n            });\n        }\n        disableDropOutside();\n        attachEvents();\n        qq.extend(this, {\n            dropDisabled: function(isDisabled) {\n                return isOrSetDropDisabled(isDisabled);\n            },\n            dispose: function() {\n                disposeSupport.dispose();\n            },\n            getElement: function() {\n                return element;\n            }\n        });\n        this._testing = {};\n        this._testing.isValidFileDrag = isValidFileDrag;\n    };\n    (function() {\n        \"use strict\";\n        qq.uiPublicApi = {\n            addInitialFiles: function(cannedFileList) {\n                this._parent.prototype.addInitialFiles.apply(this, arguments);\n                this._templating.addCacheToDom();\n            },\n            clearStoredFiles: function() {\n                this._parent.prototype.clearStoredFiles.apply(this, arguments);\n                this._templating.clearFiles();\n            },\n            addExtraDropzone: function(element) {\n                this._dnd && this._dnd.setupExtraDropzone(element);\n            },\n            removeExtraDropzone: function(element) {\n                if (this._dnd) {\n                    return this._dnd.removeDropzone(element);\n                }\n            },\n            getItemByFileId: function(id) {\n                if (!this._templating.isHiddenForever(id)) {\n                    return this._templating.getFileContainer(id);\n                }\n            },\n            reset: function() {\n                this._parent.prototype.reset.apply(this, arguments);\n                this._templating.reset();\n                if (!this._options.button && this._templating.getButton()) {\n                    this._defaultButtonId = this._createUploadButton({\n                        element: this._templating.getButton(),\n                        title: this._options.text.fileInputTitle\n                    }).getButtonId();\n                }\n                if (this._dnd) {\n                    this._dnd.dispose();\n                    this._dnd = this._setupDragAndDrop();\n                }\n                this._totalFilesInBatch = 0;\n                this._filesInBatchAddedToUi = 0;\n                this._setupClickAndEditEventHandlers();\n            },\n            setName: function(id, newName) {\n                var formattedFilename = this._options.formatFileName(newName);\n                this._parent.prototype.setName.apply(this, arguments);\n                this._templating.updateFilename(id, formattedFilename);\n            },\n            pauseUpload: function(id) {\n                var paused = this._parent.prototype.pauseUpload.apply(this, arguments);\n                paused && this._templating.uploadPaused(id);\n                return paused;\n            },\n            continueUpload: function(id) {\n                var continued = this._parent.prototype.continueUpload.apply(this, arguments);\n                continued && this._templating.uploadContinued(id);\n                return continued;\n            },\n            getId: function(fileContainerOrChildEl) {\n                return this._templating.getFileId(fileContainerOrChildEl);\n            },\n            getDropTarget: function(fileId) {\n                var file = this.getFile(fileId);\n                return file.qqDropTarget;\n            }\n        };\n        qq.uiPrivateApi = {\n            _getButton: function(buttonId) {\n                var button = this._parent.prototype._getButton.apply(this, arguments);\n                if (!button) {\n                    if (buttonId === this._defaultButtonId) {\n                        button = this._templating.getButton();\n                    }\n                }\n                return button;\n            },\n            _removeFileItem: function(fileId) {\n                this._templating.removeFile(fileId);\n            },\n            _setupClickAndEditEventHandlers: function() {\n                this._fileButtonsClickHandler = qq.FileButtonsClickHandler && this._bindFileButtonsClickEvent();\n                this._focusinEventSupported = !qq.firefox();\n                if (this._isEditFilenameEnabled()) {\n                    this._filenameClickHandler = this._bindFilenameClickEvent();\n                    this._filenameInputFocusInHandler = this._bindFilenameInputFocusInEvent();\n                    this._filenameInputFocusHandler = this._bindFilenameInputFocusEvent();\n                }\n            },\n            _setupDragAndDrop: function() {\n                var self = this, dropZoneElements = this._options.dragAndDrop.extraDropzones, templating = this._templating, defaultDropZone = templating.getDropZone();\n                defaultDropZone && dropZoneElements.push(defaultDropZone);\n                return new qq.DragAndDrop({\n                    dropZoneElements: dropZoneElements,\n                    allowMultipleItems: this._options.multiple,\n                    classes: {\n                        dropActive: this._options.classes.dropActive\n                    },\n                    callbacks: {\n                        processingDroppedFiles: function() {\n                            templating.showDropProcessing();\n                        },\n                        processingDroppedFilesComplete: function(files, targetEl) {\n                            templating.hideDropProcessing();\n                            qq.each(files, function(idx, file) {\n                                file.qqDropTarget = targetEl;\n                            });\n                            if (files.length) {\n                                self.addFiles(files, null, null);\n                            }\n                        },\n                        dropError: function(code, errorData) {\n                            self._itemError(code, errorData);\n                        },\n                        dropLog: function(message, level) {\n                            self.log(message, level);\n                        }\n                    }\n                });\n            },\n            _bindFileButtonsClickEvent: function() {\n                var self = this;\n                return new qq.FileButtonsClickHandler({\n                    templating: this._templating,\n                    log: function(message, lvl) {\n                        self.log(message, lvl);\n                    },\n                    onDeleteFile: function(fileId) {\n                        self.deleteFile(fileId);\n                    },\n                    onCancel: function(fileId) {\n                        self.cancel(fileId);\n                    },\n                    onRetry: function(fileId) {\n                        self.retry(fileId);\n                    },\n                    onPause: function(fileId) {\n                        self.pauseUpload(fileId);\n                    },\n                    onContinue: function(fileId) {\n                        self.continueUpload(fileId);\n                    },\n                    onGetName: function(fileId) {\n                        return self.getName(fileId);\n                    }\n                });\n            },\n            _isEditFilenameEnabled: function() {\n                return this._templating.isEditFilenamePossible() && !this._options.autoUpload && qq.FilenameClickHandler && qq.FilenameInputFocusHandler && qq.FilenameInputFocusHandler;\n            },\n            _filenameEditHandler: function() {\n                var self = this, templating = this._templating;\n                return {\n                    templating: templating,\n                    log: function(message, lvl) {\n                        self.log(message, lvl);\n                    },\n                    onGetUploadStatus: function(fileId) {\n                        return self.getUploads({\n                            id: fileId\n                        }).status;\n                    },\n                    onGetName: function(fileId) {\n                        return self.getName(fileId);\n                    },\n                    onSetName: function(id, newName) {\n                        self.setName(id, newName);\n                    },\n                    onEditingStatusChange: function(id, isEditing) {\n                        var qqInput = qq(templating.getEditInput(id)), qqFileContainer = qq(templating.getFileContainer(id));\n                        if (isEditing) {\n                            qqInput.addClass(\"qq-editing\");\n                            templating.hideFilename(id);\n                            templating.hideEditIcon(id);\n                        } else {\n                            qqInput.removeClass(\"qq-editing\");\n                            templating.showFilename(id);\n                            templating.showEditIcon(id);\n                        }\n                        qqFileContainer.addClass(\"qq-temp\").removeClass(\"qq-temp\");\n                    }\n                };\n            },\n            _onUploadStatusChange: function(id, oldStatus, newStatus) {\n                this._parent.prototype._onUploadStatusChange.apply(this, arguments);\n                if (this._isEditFilenameEnabled()) {\n                    if (this._templating.getFileContainer(id) && newStatus !== qq.status.SUBMITTED) {\n                        this._templating.markFilenameEditable(id);\n                        this._templating.hideEditIcon(id);\n                    }\n                }\n                if (oldStatus === qq.status.UPLOAD_RETRYING && newStatus === qq.status.UPLOADING) {\n                    this._templating.hideRetry(id);\n                    this._templating.setStatusText(id);\n                    qq(this._templating.getFileContainer(id)).removeClass(this._classes.retrying);\n                } else if (newStatus === qq.status.UPLOAD_FAILED) {\n                    this._templating.hidePause(id);\n                }\n            },\n            _bindFilenameInputFocusInEvent: function() {\n                var spec = qq.extend({}, this._filenameEditHandler());\n                return new qq.FilenameInputFocusInHandler(spec);\n            },\n            _bindFilenameInputFocusEvent: function() {\n                var spec = qq.extend({}, this._filenameEditHandler());\n                return new qq.FilenameInputFocusHandler(spec);\n            },\n            _bindFilenameClickEvent: function() {\n                var spec = qq.extend({}, this._filenameEditHandler());\n                return new qq.FilenameClickHandler(spec);\n            },\n            _storeForLater: function(id) {\n                this._parent.prototype._storeForLater.apply(this, arguments);\n                this._templating.hideSpinner(id);\n            },\n            _onAllComplete: function(successful, failed) {\n                this._parent.prototype._onAllComplete.apply(this, arguments);\n                this._templating.resetTotalProgress();\n            },\n            _onSubmit: function(id, name) {\n                var file = this.getFile(id);\n                if (file && file.qqPath && this._options.dragAndDrop.reportDirectoryPaths) {\n                    this._paramsStore.addReadOnly(id, {\n                        qqpath: file.qqPath\n                    });\n                }\n                this._parent.prototype._onSubmit.apply(this, arguments);\n                this._addToList(id, name);\n            },\n            _onSubmitted: function(id) {\n                if (this._isEditFilenameEnabled()) {\n                    this._templating.markFilenameEditable(id);\n                    this._templating.showEditIcon(id);\n                    if (!this._focusinEventSupported) {\n                        this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(id));\n                    }\n                }\n            },\n            _onProgress: function(id, name, loaded, total) {\n                this._parent.prototype._onProgress.apply(this, arguments);\n                this._templating.updateProgress(id, loaded, total);\n                if (total === 0 || Math.round(loaded / total * 100) === 100) {\n                    this._templating.hideCancel(id);\n                    this._templating.hidePause(id);\n                    this._templating.hideProgress(id);\n                    this._templating.setStatusText(id, this._options.text.waitingForResponse);\n                    this._displayFileSize(id);\n                } else {\n                    this._displayFileSize(id, loaded, total);\n                }\n            },\n            _onTotalProgress: function(loaded, total) {\n                this._parent.prototype._onTotalProgress.apply(this, arguments);\n                this._templating.updateTotalProgress(loaded, total);\n            },\n            _onComplete: function(id, name, result, xhr) {\n                var parentRetVal = this._parent.prototype._onComplete.apply(this, arguments), templating = this._templating, fileContainer = templating.getFileContainer(id), self = this;\n                function completeUpload(result) {\n                    if (!fileContainer) {\n                        return;\n                    }\n                    templating.setStatusText(id);\n                    qq(fileContainer).removeClass(self._classes.retrying);\n                    templating.hideProgress(id);\n                    if (self.getUploads({\n                        id: id\n                    }).status !== qq.status.UPLOAD_FAILED) {\n                        templating.hideCancel(id);\n                    }\n                    templating.hideSpinner(id);\n                    if (result.success) {\n                        self._markFileAsSuccessful(id);\n                    } else {\n                        qq(fileContainer).addClass(self._classes.fail);\n                        templating.showCancel(id);\n                        if (templating.isRetryPossible() && !self._preventRetries[id]) {\n                            qq(fileContainer).addClass(self._classes.retryable);\n                            templating.showRetry(id);\n                        }\n                        self._controlFailureTextDisplay(id, result);\n                    }\n                }\n                if (parentRetVal instanceof qq.Promise) {\n                    parentRetVal.done(function(newResult) {\n                        completeUpload(newResult);\n                    });\n                } else {\n                    completeUpload(result);\n                }\n                return parentRetVal;\n            },\n            _markFileAsSuccessful: function(id) {\n                var templating = this._templating;\n                if (this._isDeletePossible()) {\n                    templating.showDeleteButton(id);\n                }\n                qq(templating.getFileContainer(id)).addClass(this._classes.success);\n                this._maybeUpdateThumbnail(id);\n            },\n            _onUploadPrep: function(id) {\n                this._parent.prototype._onUploadPrep.apply(this, arguments);\n                this._templating.showSpinner(id);\n            },\n            _onUpload: function(id, name) {\n                var parentRetVal = this._parent.prototype._onUpload.apply(this, arguments);\n                this._templating.showSpinner(id);\n                return parentRetVal;\n            },\n            _onUploadChunk: function(id, chunkData) {\n                this._parent.prototype._onUploadChunk.apply(this, arguments);\n                if (chunkData.partIndex > 0 && this._handler.isResumable(id)) {\n                    this._templating.allowPause(id);\n                }\n            },\n            _onCancel: function(id, name) {\n                this._parent.prototype._onCancel.apply(this, arguments);\n                this._removeFileItem(id);\n                if (this._getNotFinished() === 0) {\n                    this._templating.resetTotalProgress();\n                }\n            },\n            _onBeforeAutoRetry: function(id) {\n                var retryNumForDisplay, maxAuto, retryNote;\n                this._parent.prototype._onBeforeAutoRetry.apply(this, arguments);\n                this._showCancelLink(id);\n                if (this._options.retry.showAutoRetryNote) {\n                    retryNumForDisplay = this._autoRetries[id];\n                    maxAuto = this._options.retry.maxAutoAttempts;\n                    retryNote = this._options.retry.autoRetryNote.replace(/\\{retryNum\\}/g, retryNumForDisplay);\n                    retryNote = retryNote.replace(/\\{maxAuto\\}/g, maxAuto);\n                    this._templating.setStatusText(id, retryNote);\n                    qq(this._templating.getFileContainer(id)).addClass(this._classes.retrying);\n                }\n            },\n            _onBeforeManualRetry: function(id) {\n                if (this._parent.prototype._onBeforeManualRetry.apply(this, arguments)) {\n                    this._templating.resetProgress(id);\n                    qq(this._templating.getFileContainer(id)).removeClass(this._classes.fail);\n                    this._templating.setStatusText(id);\n                    this._templating.showSpinner(id);\n                    this._showCancelLink(id);\n                    return true;\n                } else {\n                    qq(this._templating.getFileContainer(id)).addClass(this._classes.retryable);\n                    this._templating.showRetry(id);\n                    return false;\n                }\n            },\n            _onSubmitDelete: function(id) {\n                var onSuccessCallback = qq.bind(this._onSubmitDeleteSuccess, this);\n                this._parent.prototype._onSubmitDelete.call(this, id, onSuccessCallback);\n            },\n            _onSubmitDeleteSuccess: function(id, uuid, additionalMandatedParams) {\n                if (this._options.deleteFile.forceConfirm) {\n                    this._showDeleteConfirm.apply(this, arguments);\n                } else {\n                    this._sendDeleteRequest.apply(this, arguments);\n                }\n            },\n            _onDeleteComplete: function(id, xhr, isError) {\n                this._parent.prototype._onDeleteComplete.apply(this, arguments);\n                this._templating.hideSpinner(id);\n                if (isError) {\n                    this._templating.setStatusText(id, this._options.deleteFile.deletingFailedText);\n                    this._templating.showDeleteButton(id);\n                } else {\n                    this._removeFileItem(id);\n                }\n            },\n            _sendDeleteRequest: function(id, uuid, additionalMandatedParams) {\n                this._templating.hideDeleteButton(id);\n                this._templating.showSpinner(id);\n                this._templating.setStatusText(id, this._options.deleteFile.deletingStatusText);\n                this._deleteHandler.sendDelete.apply(this, arguments);\n            },\n            _showDeleteConfirm: function(id, uuid, mandatedParams) {\n                var fileName = this.getName(id), confirmMessage = this._options.deleteFile.confirmMessage.replace(/\\{filename\\}/g, fileName), uuid = this.getUuid(id), deleteRequestArgs = arguments, self = this, retVal;\n                retVal = this._options.showConfirm(confirmMessage);\n                if (qq.isGenericPromise(retVal)) {\n                    retVal.then(function() {\n                        self._sendDeleteRequest.apply(self, deleteRequestArgs);\n                    });\n                } else if (retVal !== false) {\n                    self._sendDeleteRequest.apply(self, deleteRequestArgs);\n                }\n            },\n            _addToList: function(id, name, canned) {\n                var prependData, prependIndex = 0, dontDisplay = this._handler.isProxied(id) && this._options.scaling.hideScaled, record;\n                if (this._options.display.prependFiles) {\n                    if (this._totalFilesInBatch > 1 && this._filesInBatchAddedToUi > 0) {\n                        prependIndex = this._filesInBatchAddedToUi - 1;\n                    }\n                    prependData = {\n                        index: prependIndex\n                    };\n                }\n                if (!canned) {\n                    if (this._options.disableCancelForFormUploads && !qq.supportedFeatures.ajaxUploading) {\n                        this._templating.disableCancel();\n                    }\n                    if (!this._options.multiple) {\n                        record = this.getUploads({\n                            id: id\n                        });\n                        this._handledProxyGroup = this._handledProxyGroup || record.proxyGroupId;\n                        if (record.proxyGroupId !== this._handledProxyGroup || !record.proxyGroupId) {\n                            this._handler.cancelAll();\n                            this._clearList();\n                            this._handledProxyGroup = null;\n                        }\n                    }\n                }\n                if (canned) {\n                    this._templating.addFileToCache(id, this._options.formatFileName(name), prependData, dontDisplay);\n                    this._templating.updateThumbnail(id, this._thumbnailUrls[id], true, this._options.thumbnails.customResizer);\n                } else {\n                    this._templating.addFile(id, this._options.formatFileName(name), prependData, dontDisplay);\n                    this._templating.generatePreview(id, this.getFile(id), this._options.thumbnails.customResizer);\n                }\n                this._filesInBatchAddedToUi += 1;\n                if (canned || this._options.display.fileSizeOnSubmit && qq.supportedFeatures.ajaxUploading) {\n                    this._displayFileSize(id);\n                }\n            },\n            _clearList: function() {\n                this._templating.clearFiles();\n                this.clearStoredFiles();\n            },\n            _displayFileSize: function(id, loadedSize, totalSize) {\n                var size = this.getSize(id), sizeForDisplay = this._formatSize(size);\n                if (size >= 0) {\n                    if (loadedSize !== undefined && totalSize !== undefined) {\n                        sizeForDisplay = this._formatProgress(loadedSize, totalSize);\n                    }\n                    this._templating.updateSize(id, sizeForDisplay);\n                }\n            },\n            _formatProgress: function(uploadedSize, totalSize) {\n                var message = this._options.text.formatProgress;\n                function r(name, replacement) {\n                    message = message.replace(name, replacement);\n                }\n                r(\"{percent}\", Math.round(uploadedSize / totalSize * 100));\n                r(\"{total_size}\", this._formatSize(totalSize));\n                return message;\n            },\n            _controlFailureTextDisplay: function(id, response) {\n                var mode, responseProperty, failureReason;\n                mode = this._options.failedUploadTextDisplay.mode;\n                responseProperty = this._options.failedUploadTextDisplay.responseProperty;\n                if (mode === \"custom\") {\n                    failureReason = response[responseProperty];\n                    if (!failureReason) {\n                        failureReason = this._options.text.failUpload;\n                    }\n                    this._templating.setStatusText(id, failureReason);\n                    if (this._options.failedUploadTextDisplay.enableTooltip) {\n                        this._showTooltip(id, failureReason);\n                    }\n                } else if (mode === \"default\") {\n                    this._templating.setStatusText(id, this._options.text.failUpload);\n                } else if (mode !== \"none\") {\n                    this.log(\"failedUploadTextDisplay.mode value of '\" + mode + \"' is not valid\", \"warn\");\n                }\n            },\n            _showTooltip: function(id, text) {\n                this._templating.getFileContainer(id).title = text;\n            },\n            _showCancelLink: function(id) {\n                if (!this._options.disableCancelForFormUploads || qq.supportedFeatures.ajaxUploading) {\n                    this._templating.showCancel(id);\n                }\n            },\n            _itemError: function(code, name, item) {\n                var message = this._parent.prototype._itemError.apply(this, arguments);\n                this._options.showMessage(message);\n            },\n            _batchError: function(message) {\n                this._parent.prototype._batchError.apply(this, arguments);\n                this._options.showMessage(message);\n            },\n            _setupPastePrompt: function() {\n                var self = this;\n                this._options.callbacks.onPasteReceived = function() {\n                    var message = self._options.paste.namePromptMessage, defaultVal = self._options.paste.defaultName;\n                    return self._options.showPrompt(message, defaultVal);\n                };\n            },\n            _fileOrBlobRejected: function(id, name) {\n                this._totalFilesInBatch -= 1;\n                this._parent.prototype._fileOrBlobRejected.apply(this, arguments);\n            },\n            _prepareItemsForUpload: function(items, params, endpoint) {\n                this._totalFilesInBatch = items.length;\n                this._filesInBatchAddedToUi = 0;\n                this._parent.prototype._prepareItemsForUpload.apply(this, arguments);\n            },\n            _maybeUpdateThumbnail: function(fileId) {\n                var thumbnailUrl = this._thumbnailUrls[fileId], fileStatus = this.getUploads({\n                    id: fileId\n                }).status;\n                if (fileStatus !== qq.status.DELETED && (thumbnailUrl || this._options.thumbnails.placeholders.waitUntilResponse || !qq.supportedFeatures.imagePreviews)) {\n                    this._templating.updateThumbnail(fileId, thumbnailUrl, this._options.thumbnails.customResizer);\n                }\n            },\n            _addCannedFile: function(sessionData) {\n                var id = this._parent.prototype._addCannedFile.apply(this, arguments);\n                this._addToList(id, this.getName(id), true);\n                this._templating.hideSpinner(id);\n                this._templating.hideCancel(id);\n                this._markFileAsSuccessful(id);\n                return id;\n            },\n            _setSize: function(id, newSize) {\n                this._parent.prototype._setSize.apply(this, arguments);\n                this._templating.updateSize(id, this._formatSize(newSize));\n            },\n            _sessionRequestComplete: function() {\n                this._templating.addCacheToDom();\n                this._parent.prototype._sessionRequestComplete.apply(this, arguments);\n            }\n        };\n    })();\n    qq.FineUploader = function(o, namespace) {\n        \"use strict\";\n        var self = this;\n        this._parent = namespace ? qq[namespace].FineUploaderBasic : qq.FineUploaderBasic;\n        this._parent.apply(this, arguments);\n        qq.extend(this._options, {\n            element: null,\n            button: null,\n            listElement: null,\n            dragAndDrop: {\n                extraDropzones: [],\n                reportDirectoryPaths: false\n            },\n            text: {\n                formatProgress: \"{percent}% of {total_size}\",\n                failUpload: \"Upload failed\",\n                waitingForResponse: \"Processing...\",\n                paused: \"Paused\"\n            },\n            template: \"qq-template\",\n            classes: {\n                retrying: \"qq-upload-retrying\",\n                retryable: \"qq-upload-retryable\",\n                success: \"qq-upload-success\",\n                fail: \"qq-upload-fail\",\n                editable: \"qq-editable\",\n                hide: \"qq-hide\",\n                dropActive: \"qq-upload-drop-area-active\"\n            },\n            failedUploadTextDisplay: {\n                mode: \"default\",\n                responseProperty: \"error\",\n                enableTooltip: true\n            },\n            messages: {\n                tooManyFilesError: \"You may only drop one file\",\n                unsupportedBrowser: \"Unrecoverable error - this browser does not permit file uploading of any kind.\"\n            },\n            retry: {\n                showAutoRetryNote: true,\n                autoRetryNote: \"Retrying {retryNum}/{maxAuto}...\"\n            },\n            deleteFile: {\n                forceConfirm: false,\n                confirmMessage: \"Are you sure you want to delete {filename}?\",\n                deletingStatusText: \"Deleting...\",\n                deletingFailedText: \"Delete failed\"\n            },\n            display: {\n                fileSizeOnSubmit: false,\n                prependFiles: false\n            },\n            paste: {\n                promptForName: false,\n                namePromptMessage: \"Please name this image\"\n            },\n            thumbnails: {\n                customResizer: null,\n                maxCount: 0,\n                placeholders: {\n                    waitUntilResponse: false,\n                    notAvailablePath: null,\n                    waitingPath: null\n                },\n                timeBetweenThumbs: 750\n            },\n            scaling: {\n                hideScaled: false\n            },\n            showMessage: function(message) {\n                if (self._templating.hasDialog(\"alert\")) {\n                    return self._templating.showDialog(\"alert\", message);\n                } else {\n                    setTimeout(function() {\n                        window.alert(message);\n                    }, 0);\n                }\n            },\n            showConfirm: function(message) {\n                if (self._templating.hasDialog(\"confirm\")) {\n                    return self._templating.showDialog(\"confirm\", message);\n                } else {\n                    return window.confirm(message);\n                }\n            },\n            showPrompt: function(message, defaultValue) {\n                if (self._templating.hasDialog(\"prompt\")) {\n                    return self._templating.showDialog(\"prompt\", message, defaultValue);\n                } else {\n                    return window.prompt(message, defaultValue);\n                }\n            }\n        }, true);\n        qq.extend(this._options, o, true);\n        this._templating = new qq.Templating({\n            log: qq.bind(this.log, this),\n            templateIdOrEl: this._options.template,\n            containerEl: this._options.element,\n            fileContainerEl: this._options.listElement,\n            button: this._options.button,\n            imageGenerator: this._imageGenerator,\n            classes: {\n                hide: this._options.classes.hide,\n                editable: this._options.classes.editable\n            },\n            limits: {\n                maxThumbs: this._options.thumbnails.maxCount,\n                timeBetweenThumbs: this._options.thumbnails.timeBetweenThumbs\n            },\n            placeholders: {\n                waitUntilUpdate: this._options.thumbnails.placeholders.waitUntilResponse,\n                thumbnailNotAvailable: this._options.thumbnails.placeholders.notAvailablePath,\n                waitingForThumbnail: this._options.thumbnails.placeholders.waitingPath\n            },\n            text: this._options.text\n        });\n        if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) {\n            this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari);\n        } else if (!qq.supportedFeatures.uploading || this._options.cors.expected && !qq.supportedFeatures.uploadCors) {\n            this._templating.renderFailure(this._options.messages.unsupportedBrowser);\n        } else {\n            this._wrapCallbacks();\n            this._templating.render();\n            this._classes = this._options.classes;\n            if (!this._options.button && this._templating.getButton()) {\n                this._defaultButtonId = this._createUploadButton({\n                    element: this._templating.getButton(),\n                    title: this._options.text.fileInputTitle\n                }).getButtonId();\n            }\n            this._setupClickAndEditEventHandlers();\n            if (qq.DragAndDrop && qq.supportedFeatures.fileDrop) {\n                this._dnd = this._setupDragAndDrop();\n            }\n            if (this._options.paste.targetElement && this._options.paste.promptForName) {\n                if (qq.PasteSupport) {\n                    this._setupPastePrompt();\n                } else {\n                    this.log(\"Paste support module not found.\", \"error\");\n                }\n            }\n            this._totalFilesInBatch = 0;\n            this._filesInBatchAddedToUi = 0;\n        }\n    };\n    qq.extend(qq.FineUploader.prototype, qq.basePublicApi);\n    qq.extend(qq.FineUploader.prototype, qq.basePrivateApi);\n    qq.extend(qq.FineUploader.prototype, qq.uiPublicApi);\n    qq.extend(qq.FineUploader.prototype, qq.uiPrivateApi);\n    qq.Templating = function(spec) {\n        \"use strict\";\n        var FILE_ID_ATTR = \"qq-file-id\", FILE_CLASS_PREFIX = \"qq-file-id-\", THUMBNAIL_MAX_SIZE_ATTR = \"qq-max-size\", THUMBNAIL_SERVER_SCALE_ATTR = \"qq-server-scale\", HIDE_DROPZONE_ATTR = \"qq-hide-dropzone\", DROPZPONE_TEXT_ATTR = \"qq-drop-area-text\", IN_PROGRESS_CLASS = \"qq-in-progress\", HIDDEN_FOREVER_CLASS = \"qq-hidden-forever\", fileBatch = {\n            content: document.createDocumentFragment(),\n            map: {}\n        }, isCancelDisabled = false, generatedThumbnails = 0, thumbnailQueueMonitorRunning = false, thumbGenerationQueue = [], thumbnailMaxSize = -1, options = {\n            log: null,\n            limits: {\n                maxThumbs: 0,\n                timeBetweenThumbs: 750\n            },\n            templateIdOrEl: \"qq-template\",\n            containerEl: null,\n            fileContainerEl: null,\n            button: null,\n            imageGenerator: null,\n            classes: {\n                hide: \"qq-hide\",\n                editable: \"qq-editable\"\n            },\n            placeholders: {\n                waitUntilUpdate: false,\n                thumbnailNotAvailable: null,\n                waitingForThumbnail: null\n            },\n            text: {\n                paused: \"Paused\"\n            }\n        }, selectorClasses = {\n            button: \"qq-upload-button-selector\",\n            alertDialog: \"qq-alert-dialog-selector\",\n            dialogCancelButton: \"qq-cancel-button-selector\",\n            confirmDialog: \"qq-confirm-dialog-selector\",\n            dialogMessage: \"qq-dialog-message-selector\",\n            dialogOkButton: \"qq-ok-button-selector\",\n            promptDialog: \"qq-prompt-dialog-selector\",\n            uploader: \"qq-uploader-selector\",\n            drop: \"qq-upload-drop-area-selector\",\n            list: \"qq-upload-list-selector\",\n            progressBarContainer: \"qq-progress-bar-container-selector\",\n            progressBar: \"qq-progress-bar-selector\",\n            totalProgressBarContainer: \"qq-total-progress-bar-container-selector\",\n            totalProgressBar: \"qq-total-progress-bar-selector\",\n            file: \"qq-upload-file-selector\",\n            spinner: \"qq-upload-spinner-selector\",\n            size: \"qq-upload-size-selector\",\n            cancel: \"qq-upload-cancel-selector\",\n            pause: \"qq-upload-pause-selector\",\n            continueButton: \"qq-upload-continue-selector\",\n            deleteButton: \"qq-upload-delete-selector\",\n            retry: \"qq-upload-retry-selector\",\n            statusText: \"qq-upload-status-text-selector\",\n            editFilenameInput: \"qq-edit-filename-selector\",\n            editNameIcon: \"qq-edit-filename-icon-selector\",\n            dropText: \"qq-upload-drop-area-text-selector\",\n            dropProcessing: \"qq-drop-processing-selector\",\n            dropProcessingSpinner: \"qq-drop-processing-spinner-selector\",\n            thumbnail: \"qq-thumbnail-selector\"\n        }, previewGeneration = {}, cachedThumbnailNotAvailableImg = new qq.Promise(), cachedWaitingForThumbnailImg = new qq.Promise(), log, isEditElementsExist, isRetryElementExist, templateDom, container, fileList, showThumbnails, serverScale, cacheThumbnailPlaceholders = function() {\n            var notAvailableUrl = options.placeholders.thumbnailNotAvailable, waitingUrl = options.placeholders.waitingForThumbnail, spec = {\n                maxSize: thumbnailMaxSize,\n                scale: serverScale\n            };\n            if (showThumbnails) {\n                if (notAvailableUrl) {\n                    options.imageGenerator.generate(notAvailableUrl, new Image(), spec).then(function(updatedImg) {\n                        cachedThumbnailNotAvailableImg.success(updatedImg);\n                    }, function() {\n                        cachedThumbnailNotAvailableImg.failure();\n                        log(\"Problem loading 'not available' placeholder image at \" + notAvailableUrl, \"error\");\n                    });\n                } else {\n                    cachedThumbnailNotAvailableImg.failure();\n                }\n                if (waitingUrl) {\n                    options.imageGenerator.generate(waitingUrl, new Image(), spec).then(function(updatedImg) {\n                        cachedWaitingForThumbnailImg.success(updatedImg);\n                    }, function() {\n                        cachedWaitingForThumbnailImg.failure();\n                        log(\"Problem loading 'waiting for thumbnail' placeholder image at \" + waitingUrl, \"error\");\n                    });\n                } else {\n                    cachedWaitingForThumbnailImg.failure();\n                }\n            }\n        }, displayWaitingImg = function(thumbnail) {\n            var waitingImgPlacement = new qq.Promise();\n            cachedWaitingForThumbnailImg.then(function(img) {\n                maybeScalePlaceholderViaCss(img, thumbnail);\n                if (!thumbnail.src) {\n                    thumbnail.src = img.src;\n                    thumbnail.onload = function() {\n                        thumbnail.onload = null;\n                        show(thumbnail);\n                        waitingImgPlacement.success();\n                    };\n                } else {\n                    waitingImgPlacement.success();\n                }\n            }, function() {\n                hide(thumbnail);\n                waitingImgPlacement.success();\n            });\n            return waitingImgPlacement;\n        }, generateNewPreview = function(id, blob, spec) {\n            var thumbnail = getThumbnail(id);\n            log(\"Generating new thumbnail for \" + id);\n            blob.qqThumbnailId = id;\n            return options.imageGenerator.generate(blob, thumbnail, spec).then(function() {\n                generatedThumbnails++;\n                show(thumbnail);\n                previewGeneration[id].success();\n            }, function() {\n                previewGeneration[id].failure();\n                if (!options.placeholders.waitUntilUpdate) {\n                    maybeSetDisplayNotAvailableImg(id, thumbnail);\n                }\n            });\n        }, generateNextQueuedPreview = function() {\n            if (thumbGenerationQueue.length) {\n                thumbnailQueueMonitorRunning = true;\n                var queuedThumbRequest = thumbGenerationQueue.shift();\n                if (queuedThumbRequest.update) {\n                    processUpdateQueuedPreviewRequest(queuedThumbRequest);\n                } else {\n                    processNewQueuedPreviewRequest(queuedThumbRequest);\n                }\n            } else {\n                thumbnailQueueMonitorRunning = false;\n            }\n        }, getCancel = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.cancel);\n        }, getContinue = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.continueButton);\n        }, getDialog = function(type) {\n            return getTemplateEl(container, selectorClasses[type + \"Dialog\"]);\n        }, getDelete = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.deleteButton);\n        }, getDropProcessing = function() {\n            return getTemplateEl(container, selectorClasses.dropProcessing);\n        }, getEditIcon = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.editNameIcon);\n        }, getFile = function(id) {\n            return fileBatch.map[id] || qq(fileList).getFirstByClass(FILE_CLASS_PREFIX + id);\n        }, getFilename = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.file);\n        }, getPause = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.pause);\n        }, getProgress = function(id) {\n            if (id == null) {\n                return getTemplateEl(container, selectorClasses.totalProgressBarContainer) || getTemplateEl(container, selectorClasses.totalProgressBar);\n            }\n            return getTemplateEl(getFile(id), selectorClasses.progressBarContainer) || getTemplateEl(getFile(id), selectorClasses.progressBar);\n        }, getRetry = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.retry);\n        }, getSize = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.size);\n        }, getSpinner = function(id) {\n            return getTemplateEl(getFile(id), selectorClasses.spinner);\n        }, getTemplateEl = function(context, cssClass) {\n            return context && qq(context).getFirstByClass(cssClass);\n        }, getThumbnail = function(id) {\n            return showThumbnails && getTemplateEl(getFile(id), selectorClasses.thumbnail);\n        }, hide = function(el) {\n            el && qq(el).addClass(options.classes.hide);\n        }, maybeScalePlaceholderViaCss = function(placeholder, thumbnail) {\n            var maxWidth = placeholder.style.maxWidth, maxHeight = placeholder.style.maxHeight;\n            if (maxHeight && maxWidth && !thumbnail.style.maxWidth && !thumbnail.style.maxHeight) {\n                qq(thumbnail).css({\n                    maxWidth: maxWidth,\n                    maxHeight: maxHeight\n                });\n            }\n        }, maybeSetDisplayNotAvailableImg = function(id, thumbnail) {\n            var previewing = previewGeneration[id] || new qq.Promise().failure(), notAvailableImgPlacement = new qq.Promise();\n            cachedThumbnailNotAvailableImg.then(function(img) {\n                previewing.then(function() {\n                    notAvailableImgPlacement.success();\n                }, function() {\n                    maybeScalePlaceholderViaCss(img, thumbnail);\n                    thumbnail.onload = function() {\n                        thumbnail.onload = null;\n                        notAvailableImgPlacement.success();\n                    };\n                    thumbnail.src = img.src;\n                    show(thumbnail);\n                });\n            });\n            return notAvailableImgPlacement;\n        }, parseAndGetTemplate = function() {\n            var scriptEl, scriptHtml, fileListNode, tempTemplateEl, fileListEl, defaultButton, dropArea, thumbnail, dropProcessing, dropTextEl, uploaderEl;\n            log(\"Parsing template\");\n            if (options.templateIdOrEl == null) {\n                throw new Error(\"You MUST specify either a template element or ID!\");\n            }\n            if (qq.isString(options.templateIdOrEl)) {\n                scriptEl = document.getElementById(options.templateIdOrEl);\n                if (scriptEl === null) {\n                    throw new Error(qq.format(\"Cannot find template script at ID '{}'!\", options.templateIdOrEl));\n                }\n                scriptHtml = scriptEl.innerHTML;\n            } else {\n                if (options.templateIdOrEl.innerHTML === undefined) {\n                    throw new Error(\"You have specified an invalid value for the template option!  \" + \"It must be an ID or an Element.\");\n                }\n                scriptHtml = options.templateIdOrEl.innerHTML;\n            }\n            scriptHtml = qq.trimStr(scriptHtml);\n            tempTemplateEl = document.createElement(\"div\");\n            tempTemplateEl.appendChild(qq.toElement(scriptHtml));\n            uploaderEl = qq(tempTemplateEl).getFirstByClass(selectorClasses.uploader);\n            if (options.button) {\n                defaultButton = qq(tempTemplateEl).getFirstByClass(selectorClasses.button);\n                if (defaultButton) {\n                    qq(defaultButton).remove();\n                }\n            }\n            if (!qq.DragAndDrop || !qq.supportedFeatures.fileDrop) {\n                dropProcessing = qq(tempTemplateEl).getFirstByClass(selectorClasses.dropProcessing);\n                if (dropProcessing) {\n                    qq(dropProcessing).remove();\n                }\n            }\n            dropArea = qq(tempTemplateEl).getFirstByClass(selectorClasses.drop);\n            if (dropArea && !qq.DragAndDrop) {\n                log(\"DnD module unavailable.\", \"info\");\n                qq(dropArea).remove();\n            }\n            if (!qq.supportedFeatures.fileDrop) {\n                uploaderEl.removeAttribute(DROPZPONE_TEXT_ATTR);\n                if (dropArea && qq(dropArea).hasAttribute(HIDE_DROPZONE_ATTR)) {\n                    qq(dropArea).css({\n                        display: \"none\"\n                    });\n                }\n            } else if (qq(uploaderEl).hasAttribute(DROPZPONE_TEXT_ATTR) && dropArea) {\n                dropTextEl = qq(dropArea).getFirstByClass(selectorClasses.dropText);\n                dropTextEl && qq(dropTextEl).remove();\n            }\n            thumbnail = qq(tempTemplateEl).getFirstByClass(selectorClasses.thumbnail);\n            if (!showThumbnails) {\n                thumbnail && qq(thumbnail).remove();\n            } else if (thumbnail) {\n                thumbnailMaxSize = parseInt(thumbnail.getAttribute(THUMBNAIL_MAX_SIZE_ATTR));\n                thumbnailMaxSize = thumbnailMaxSize > 0 ? thumbnailMaxSize : null;\n                serverScale = qq(thumbnail).hasAttribute(THUMBNAIL_SERVER_SCALE_ATTR);\n            }\n            showThumbnails = showThumbnails && thumbnail;\n            isEditElementsExist = qq(tempTemplateEl).getByClass(selectorClasses.editFilenameInput).length > 0;\n            isRetryElementExist = qq(tempTemplateEl).getByClass(selectorClasses.retry).length > 0;\n            fileListNode = qq(tempTemplateEl).getFirstByClass(selectorClasses.list);\n            if (fileListNode == null) {\n                throw new Error(\"Could not find the file list container in the template!\");\n            }\n            fileListEl = fileListNode.children[0].cloneNode(true);\n            fileListNode.innerHTML = \"\";\n            if (tempTemplateEl.getElementsByTagName(\"DIALOG\").length) {\n                document.createElement(\"dialog\");\n            }\n            log(\"Template parsing complete\");\n            return {\n                template: tempTemplateEl,\n                fileTemplate: fileListEl\n            };\n        }, prependFile = function(el, index, fileList) {\n            var parentEl = fileList, beforeEl = parentEl.firstChild;\n            if (index > 0) {\n                beforeEl = qq(parentEl).children()[index].nextSibling;\n            }\n            parentEl.insertBefore(el, beforeEl);\n        }, processNewQueuedPreviewRequest = function(queuedThumbRequest) {\n            var id = queuedThumbRequest.id, optFileOrBlob = queuedThumbRequest.optFileOrBlob, relatedThumbnailId = optFileOrBlob && optFileOrBlob.qqThumbnailId, thumbnail = getThumbnail(id), spec = {\n                customResizeFunction: queuedThumbRequest.customResizeFunction,\n                maxSize: thumbnailMaxSize,\n                orient: true,\n                scale: true\n            };\n            if (qq.supportedFeatures.imagePreviews) {\n                if (thumbnail) {\n                    if (options.limits.maxThumbs && options.limits.maxThumbs <= generatedThumbnails) {\n                        maybeSetDisplayNotAvailableImg(id, thumbnail);\n                        generateNextQueuedPreview();\n                    } else {\n                        displayWaitingImg(thumbnail).done(function() {\n                            previewGeneration[id] = new qq.Promise();\n                            previewGeneration[id].done(function() {\n                                setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n                            });\n                            if (relatedThumbnailId != null) {\n                                useCachedPreview(id, relatedThumbnailId);\n                            } else {\n                                generateNewPreview(id, optFileOrBlob, spec);\n                            }\n                        });\n                    }\n                } else {\n                    generateNextQueuedPreview();\n                }\n            } else if (thumbnail) {\n                displayWaitingImg(thumbnail);\n                generateNextQueuedPreview();\n            }\n        }, processUpdateQueuedPreviewRequest = function(queuedThumbRequest) {\n            var id = queuedThumbRequest.id, thumbnailUrl = queuedThumbRequest.thumbnailUrl, showWaitingImg = queuedThumbRequest.showWaitingImg, thumbnail = getThumbnail(id), spec = {\n                customResizeFunction: queuedThumbRequest.customResizeFunction,\n                scale: serverScale,\n                maxSize: thumbnailMaxSize\n            };\n            if (thumbnail) {\n                if (thumbnailUrl) {\n                    if (options.limits.maxThumbs && options.limits.maxThumbs <= generatedThumbnails) {\n                        maybeSetDisplayNotAvailableImg(id, thumbnail);\n                        generateNextQueuedPreview();\n                    } else {\n                        if (showWaitingImg) {\n                            displayWaitingImg(thumbnail);\n                        }\n                        return options.imageGenerator.generate(thumbnailUrl, thumbnail, spec).then(function() {\n                            show(thumbnail);\n                            generatedThumbnails++;\n                            setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n                        }, function() {\n                            maybeSetDisplayNotAvailableImg(id, thumbnail);\n                            setTimeout(generateNextQueuedPreview, options.limits.timeBetweenThumbs);\n                        });\n                    }\n                } else {\n                    maybeSetDisplayNotAvailableImg(id, thumbnail);\n                    generateNextQueuedPreview();\n                }\n            }\n        }, setProgressBarWidth = function(id, percent) {\n            var bar = getProgress(id), progressBarSelector = id == null ? selectorClasses.totalProgressBar : selectorClasses.progressBar;\n            if (bar && !qq(bar).hasClass(progressBarSelector)) {\n                bar = qq(bar).getFirstByClass(progressBarSelector);\n            }\n            if (bar) {\n                qq(bar).css({\n                    width: percent + \"%\"\n                });\n                bar.setAttribute(\"aria-valuenow\", percent);\n            }\n        }, show = function(el) {\n            el && qq(el).removeClass(options.classes.hide);\n        }, useCachedPreview = function(targetThumbnailId, cachedThumbnailId) {\n            var targetThumbnail = getThumbnail(targetThumbnailId), cachedThumbnail = getThumbnail(cachedThumbnailId);\n            log(qq.format(\"ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.\", targetThumbnailId, cachedThumbnailId, cachedThumbnailId));\n            previewGeneration[cachedThumbnailId].then(function() {\n                generatedThumbnails++;\n                previewGeneration[targetThumbnailId].success();\n                log(qq.format(\"Now using previously generated thumbnail created for ID {} on ID {}.\", cachedThumbnailId, targetThumbnailId));\n                targetThumbnail.src = cachedThumbnail.src;\n                show(targetThumbnail);\n            }, function() {\n                previewGeneration[targetThumbnailId].failure();\n                if (!options.placeholders.waitUntilUpdate) {\n                    maybeSetDisplayNotAvailableImg(targetThumbnailId, targetThumbnail);\n                }\n            });\n        };\n        qq.extend(options, spec);\n        log = options.log;\n        if (!qq.supportedFeatures.imagePreviews) {\n            options.limits.timeBetweenThumbs = 0;\n            options.limits.maxThumbs = 0;\n        }\n        container = options.containerEl;\n        showThumbnails = options.imageGenerator !== undefined;\n        templateDom = parseAndGetTemplate();\n        cacheThumbnailPlaceholders();\n        qq.extend(this, {\n            render: function() {\n                log(\"Rendering template in DOM.\");\n                generatedThumbnails = 0;\n                container.appendChild(templateDom.template.cloneNode(true));\n                hide(getDropProcessing());\n                this.hideTotalProgress();\n                fileList = options.fileContainerEl || getTemplateEl(container, selectorClasses.list);\n                log(\"Template rendering complete\");\n            },\n            renderFailure: function(message) {\n                var cantRenderEl = qq.toElement(message);\n                container.innerHTML = \"\";\n                container.appendChild(cantRenderEl);\n            },\n            reset: function() {\n                container.innerHTML = \"\";\n                this.render();\n            },\n            clearFiles: function() {\n                fileList.innerHTML = \"\";\n            },\n            disableCancel: function() {\n                isCancelDisabled = true;\n            },\n            addFile: function(id, name, prependInfo, hideForever, batch) {\n                var fileEl = templateDom.fileTemplate.cloneNode(true), fileNameEl = getTemplateEl(fileEl, selectorClasses.file), uploaderEl = getTemplateEl(container, selectorClasses.uploader), fileContainer = batch ? fileBatch.content : fileList, thumb;\n                if (batch) {\n                    fileBatch.map[id] = fileEl;\n                }\n                qq(fileEl).addClass(FILE_CLASS_PREFIX + id);\n                uploaderEl.removeAttribute(DROPZPONE_TEXT_ATTR);\n                if (fileNameEl) {\n                    qq(fileNameEl).setText(name);\n                    fileNameEl.setAttribute(\"title\", name);\n                }\n                fileEl.setAttribute(FILE_ID_ATTR, id);\n                if (prependInfo) {\n                    prependFile(fileEl, prependInfo.index, fileContainer);\n                } else {\n                    fileContainer.appendChild(fileEl);\n                }\n                if (hideForever) {\n                    fileEl.style.display = \"none\";\n                    qq(fileEl).addClass(HIDDEN_FOREVER_CLASS);\n                } else {\n                    hide(getProgress(id));\n                    hide(getSize(id));\n                    hide(getDelete(id));\n                    hide(getRetry(id));\n                    hide(getPause(id));\n                    hide(getContinue(id));\n                    if (isCancelDisabled) {\n                        this.hideCancel(id);\n                    }\n                    thumb = getThumbnail(id);\n                    if (thumb && !thumb.src) {\n                        cachedWaitingForThumbnailImg.then(function(waitingImg) {\n                            thumb.src = waitingImg.src;\n                            if (waitingImg.style.maxHeight && waitingImg.style.maxWidth) {\n                                qq(thumb).css({\n                                    maxHeight: waitingImg.style.maxHeight,\n                                    maxWidth: waitingImg.style.maxWidth\n                                });\n                            }\n                            show(thumb);\n                        });\n                    }\n                }\n            },\n            addFileToCache: function(id, name, prependInfo, hideForever) {\n                this.addFile(id, name, prependInfo, hideForever, true);\n            },\n            addCacheToDom: function() {\n                fileList.appendChild(fileBatch.content);\n                fileBatch.content = document.createDocumentFragment();\n                fileBatch.map = {};\n            },\n            removeFile: function(id) {\n                qq(getFile(id)).remove();\n            },\n            getFileId: function(el) {\n                var currentNode = el;\n                if (currentNode) {\n                    while (currentNode.getAttribute(FILE_ID_ATTR) == null) {\n                        currentNode = currentNode.parentNode;\n                    }\n                    return parseInt(currentNode.getAttribute(FILE_ID_ATTR));\n                }\n            },\n            getFileList: function() {\n                return fileList;\n            },\n            markFilenameEditable: function(id) {\n                var filename = getFilename(id);\n                filename && qq(filename).addClass(options.classes.editable);\n            },\n            updateFilename: function(id, name) {\n                var filenameEl = getFilename(id);\n                if (filenameEl) {\n                    qq(filenameEl).setText(name);\n                    filenameEl.setAttribute(\"title\", name);\n                }\n            },\n            hideFilename: function(id) {\n                hide(getFilename(id));\n            },\n            showFilename: function(id) {\n                show(getFilename(id));\n            },\n            isFileName: function(el) {\n                return qq(el).hasClass(selectorClasses.file);\n            },\n            getButton: function() {\n                return options.button || getTemplateEl(container, selectorClasses.button);\n            },\n            hideDropProcessing: function() {\n                hide(getDropProcessing());\n            },\n            showDropProcessing: function() {\n                show(getDropProcessing());\n            },\n            getDropZone: function() {\n                return getTemplateEl(container, selectorClasses.drop);\n            },\n            isEditFilenamePossible: function() {\n                return isEditElementsExist;\n            },\n            hideRetry: function(id) {\n                hide(getRetry(id));\n            },\n            isRetryPossible: function() {\n                return isRetryElementExist;\n            },\n            showRetry: function(id) {\n                show(getRetry(id));\n            },\n            getFileContainer: function(id) {\n                return getFile(id);\n            },\n            showEditIcon: function(id) {\n                var icon = getEditIcon(id);\n                icon && qq(icon).addClass(options.classes.editable);\n            },\n            isHiddenForever: function(id) {\n                return qq(getFile(id)).hasClass(HIDDEN_FOREVER_CLASS);\n            },\n            hideEditIcon: function(id) {\n                var icon = getEditIcon(id);\n                icon && qq(icon).removeClass(options.classes.editable);\n            },\n            isEditIcon: function(el) {\n                return qq(el).hasClass(selectorClasses.editNameIcon, true);\n            },\n            getEditInput: function(id) {\n                return getTemplateEl(getFile(id), selectorClasses.editFilenameInput);\n            },\n            isEditInput: function(el) {\n                return qq(el).hasClass(selectorClasses.editFilenameInput, true);\n            },\n            updateProgress: function(id, loaded, total) {\n                var bar = getProgress(id), percent;\n                if (bar && total > 0) {\n                    percent = Math.round(loaded / total * 100);\n                    if (percent === 100) {\n                        hide(bar);\n                    } else {\n                        show(bar);\n                    }\n                    setProgressBarWidth(id, percent);\n                }\n            },\n            updateTotalProgress: function(loaded, total) {\n                this.updateProgress(null, loaded, total);\n            },\n            hideProgress: function(id) {\n                var bar = getProgress(id);\n                bar && hide(bar);\n            },\n            hideTotalProgress: function() {\n                this.hideProgress();\n            },\n            resetProgress: function(id) {\n                setProgressBarWidth(id, 0);\n                this.hideTotalProgress(id);\n            },\n            resetTotalProgress: function() {\n                this.resetProgress();\n            },\n            showCancel: function(id) {\n                if (!isCancelDisabled) {\n                    var cancel = getCancel(id);\n                    cancel && qq(cancel).removeClass(options.classes.hide);\n                }\n            },\n            hideCancel: function(id) {\n                hide(getCancel(id));\n            },\n            isCancel: function(el) {\n                return qq(el).hasClass(selectorClasses.cancel, true);\n            },\n            allowPause: function(id) {\n                show(getPause(id));\n                hide(getContinue(id));\n            },\n            uploadPaused: function(id) {\n                this.setStatusText(id, options.text.paused);\n                this.allowContinueButton(id);\n                hide(getSpinner(id));\n            },\n            hidePause: function(id) {\n                hide(getPause(id));\n            },\n            isPause: function(el) {\n                return qq(el).hasClass(selectorClasses.pause, true);\n            },\n            isContinueButton: function(el) {\n                return qq(el).hasClass(selectorClasses.continueButton, true);\n            },\n            allowContinueButton: function(id) {\n                show(getContinue(id));\n                hide(getPause(id));\n            },\n            uploadContinued: function(id) {\n                this.setStatusText(id, \"\");\n                this.allowPause(id);\n                show(getSpinner(id));\n            },\n            showDeleteButton: function(id) {\n                show(getDelete(id));\n            },\n            hideDeleteButton: function(id) {\n                hide(getDelete(id));\n            },\n            isDeleteButton: function(el) {\n                return qq(el).hasClass(selectorClasses.deleteButton, true);\n            },\n            isRetry: function(el) {\n                return qq(el).hasClass(selectorClasses.retry, true);\n            },\n            updateSize: function(id, text) {\n                var size = getSize(id);\n                if (size) {\n                    show(size);\n                    qq(size).setText(text);\n                }\n            },\n            setStatusText: function(id, text) {\n                var textEl = getTemplateEl(getFile(id), selectorClasses.statusText);\n                if (textEl) {\n                    if (text == null) {\n                        qq(textEl).clearText();\n                    } else {\n                        qq(textEl).setText(text);\n                    }\n                }\n            },\n            hideSpinner: function(id) {\n                qq(getFile(id)).removeClass(IN_PROGRESS_CLASS);\n                hide(getSpinner(id));\n            },\n            showSpinner: function(id) {\n                qq(getFile(id)).addClass(IN_PROGRESS_CLASS);\n                show(getSpinner(id));\n            },\n            generatePreview: function(id, optFileOrBlob, customResizeFunction) {\n                if (!this.isHiddenForever(id)) {\n                    thumbGenerationQueue.push({\n                        id: id,\n                        customResizeFunction: customResizeFunction,\n                        optFileOrBlob: optFileOrBlob\n                    });\n                    !thumbnailQueueMonitorRunning && generateNextQueuedPreview();\n                }\n            },\n            updateThumbnail: function(id, thumbnailUrl, showWaitingImg, customResizeFunction) {\n                if (!this.isHiddenForever(id)) {\n                    thumbGenerationQueue.push({\n                        customResizeFunction: customResizeFunction,\n                        update: true,\n                        id: id,\n                        thumbnailUrl: thumbnailUrl,\n                        showWaitingImg: showWaitingImg\n                    });\n                    !thumbnailQueueMonitorRunning && generateNextQueuedPreview();\n                }\n            },\n            hasDialog: function(type) {\n                return qq.supportedFeatures.dialogElement && !!getDialog(type);\n            },\n            showDialog: function(type, message, defaultValue) {\n                var dialog = getDialog(type), messageEl = getTemplateEl(dialog, selectorClasses.dialogMessage), inputEl = dialog.getElementsByTagName(\"INPUT\")[0], cancelBtn = getTemplateEl(dialog, selectorClasses.dialogCancelButton), okBtn = getTemplateEl(dialog, selectorClasses.dialogOkButton), promise = new qq.Promise(), closeHandler = function() {\n                    cancelBtn.removeEventListener(\"click\", cancelClickHandler);\n                    okBtn && okBtn.removeEventListener(\"click\", okClickHandler);\n                    promise.failure();\n                }, cancelClickHandler = function() {\n                    cancelBtn.removeEventListener(\"click\", cancelClickHandler);\n                    dialog.close();\n                }, okClickHandler = function() {\n                    dialog.removeEventListener(\"close\", closeHandler);\n                    okBtn.removeEventListener(\"click\", okClickHandler);\n                    dialog.close();\n                    promise.success(inputEl && inputEl.value);\n                };\n                dialog.addEventListener(\"close\", closeHandler);\n                cancelBtn.addEventListener(\"click\", cancelClickHandler);\n                okBtn && okBtn.addEventListener(\"click\", okClickHandler);\n                if (inputEl) {\n                    inputEl.value = defaultValue;\n                }\n                messageEl.textContent = message;\n                dialog.showModal();\n                return promise;\n            }\n        });\n    };\n    qq.UiEventHandler = function(s, protectedApi) {\n        \"use strict\";\n        var disposer = new qq.DisposeSupport(), spec = {\n            eventType: \"click\",\n            attachTo: null,\n            onHandled: function(target, event) {}\n        };\n        qq.extend(this, {\n            addHandler: function(element) {\n                addHandler(element);\n            },\n            dispose: function() {\n                disposer.dispose();\n            }\n        });\n        function addHandler(element) {\n            disposer.attach(element, spec.eventType, function(event) {\n                event = event || window.event;\n                var target = event.target || event.srcElement;\n                spec.onHandled(target, event);\n            });\n        }\n        qq.extend(protectedApi, {\n            getFileIdFromItem: function(item) {\n                return item.qqFileId;\n            },\n            getDisposeSupport: function() {\n                return disposer;\n            }\n        });\n        qq.extend(spec, s);\n        if (spec.attachTo) {\n            addHandler(spec.attachTo);\n        }\n    };\n    qq.FileButtonsClickHandler = function(s) {\n        \"use strict\";\n        var inheritedInternalApi = {}, spec = {\n            templating: null,\n            log: function(message, lvl) {},\n            onDeleteFile: function(fileId) {},\n            onCancel: function(fileId) {},\n            onRetry: function(fileId) {},\n            onPause: function(fileId) {},\n            onContinue: function(fileId) {},\n            onGetName: function(fileId) {}\n        }, buttonHandlers = {\n            cancel: function(id) {\n                spec.onCancel(id);\n            },\n            retry: function(id) {\n                spec.onRetry(id);\n            },\n            deleteButton: function(id) {\n                spec.onDeleteFile(id);\n            },\n            pause: function(id) {\n                spec.onPause(id);\n            },\n            continueButton: function(id) {\n                spec.onContinue(id);\n            }\n        };\n        function examineEvent(target, event) {\n            qq.each(buttonHandlers, function(buttonType, handler) {\n                var firstLetterCapButtonType = buttonType.charAt(0).toUpperCase() + buttonType.slice(1), fileId;\n                if (spec.templating[\"is\" + firstLetterCapButtonType](target)) {\n                    fileId = spec.templating.getFileId(target);\n                    qq.preventDefault(event);\n                    spec.log(qq.format(\"Detected valid file button click event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n                    handler(fileId);\n                    return false;\n                }\n            });\n        }\n        qq.extend(spec, s);\n        spec.eventType = \"click\";\n        spec.onHandled = examineEvent;\n        spec.attachTo = spec.templating.getFileList();\n        qq.extend(this, new qq.UiEventHandler(spec, inheritedInternalApi));\n    };\n    qq.FilenameClickHandler = function(s) {\n        \"use strict\";\n        var inheritedInternalApi = {}, spec = {\n            templating: null,\n            log: function(message, lvl) {},\n            classes: {\n                file: \"qq-upload-file\",\n                editNameIcon: \"qq-edit-filename-icon\"\n            },\n            onGetUploadStatus: function(fileId) {},\n            onGetName: function(fileId) {}\n        };\n        qq.extend(spec, s);\n        function examineEvent(target, event) {\n            if (spec.templating.isFileName(target) || spec.templating.isEditIcon(target)) {\n                var fileId = spec.templating.getFileId(target), status = spec.onGetUploadStatus(fileId);\n                if (status === qq.status.SUBMITTED) {\n                    spec.log(qq.format(\"Detected valid filename click event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n                    qq.preventDefault(event);\n                    inheritedInternalApi.handleFilenameEdit(fileId, target, true);\n                }\n            }\n        }\n        spec.eventType = \"click\";\n        spec.onHandled = examineEvent;\n        qq.extend(this, new qq.FilenameEditHandler(spec, inheritedInternalApi));\n    };\n    qq.FilenameInputFocusInHandler = function(s, inheritedInternalApi) {\n        \"use strict\";\n        var spec = {\n            templating: null,\n            onGetUploadStatus: function(fileId) {},\n            log: function(message, lvl) {}\n        };\n        if (!inheritedInternalApi) {\n            inheritedInternalApi = {};\n        }\n        function handleInputFocus(target, event) {\n            if (spec.templating.isEditInput(target)) {\n                var fileId = spec.templating.getFileId(target), status = spec.onGetUploadStatus(fileId);\n                if (status === qq.status.SUBMITTED) {\n                    spec.log(qq.format(\"Detected valid filename input focus event on file '{}', ID: {}.\", spec.onGetName(fileId), fileId));\n                    inheritedInternalApi.handleFilenameEdit(fileId, target);\n                }\n            }\n        }\n        spec.eventType = \"focusin\";\n        spec.onHandled = handleInputFocus;\n        qq.extend(spec, s);\n        qq.extend(this, new qq.FilenameEditHandler(spec, inheritedInternalApi));\n    };\n    qq.FilenameInputFocusHandler = function(spec) {\n        \"use strict\";\n        spec.eventType = \"focus\";\n        spec.attachTo = null;\n        qq.extend(this, new qq.FilenameInputFocusInHandler(spec, {}));\n    };\n    qq.FilenameEditHandler = function(s, inheritedInternalApi) {\n        \"use strict\";\n        var spec = {\n            templating: null,\n            log: function(message, lvl) {},\n            onGetUploadStatus: function(fileId) {},\n            onGetName: function(fileId) {},\n            onSetName: function(fileId, newName) {},\n            onEditingStatusChange: function(fileId, isEditing) {}\n        };\n        function getFilenameSansExtension(fileId) {\n            var filenameSansExt = spec.onGetName(fileId), extIdx = filenameSansExt.lastIndexOf(\".\");\n            if (extIdx > 0) {\n                filenameSansExt = filenameSansExt.substr(0, extIdx);\n            }\n            return filenameSansExt;\n        }\n        function getOriginalExtension(fileId) {\n            var origName = spec.onGetName(fileId);\n            return qq.getExtension(origName);\n        }\n        function handleNameUpdate(newFilenameInputEl, fileId) {\n            var newName = newFilenameInputEl.value, origExtension;\n            if (newName !== undefined && qq.trimStr(newName).length > 0) {\n                origExtension = getOriginalExtension(fileId);\n                if (origExtension !== undefined) {\n                    newName = newName + \".\" + origExtension;\n                }\n                spec.onSetName(fileId, newName);\n            }\n            spec.onEditingStatusChange(fileId, false);\n        }\n        function registerInputBlurHandler(inputEl, fileId) {\n            inheritedInternalApi.getDisposeSupport().attach(inputEl, \"blur\", function() {\n                handleNameUpdate(inputEl, fileId);\n            });\n        }\n        function registerInputEnterKeyHandler(inputEl, fileId) {\n            inheritedInternalApi.getDisposeSupport().attach(inputEl, \"keyup\", function(event) {\n                var code = event.keyCode || event.which;\n                if (code === 13) {\n                    handleNameUpdate(inputEl, fileId);\n                }\n            });\n        }\n        qq.extend(spec, s);\n        spec.attachTo = spec.templating.getFileList();\n        qq.extend(this, new qq.UiEventHandler(spec, inheritedInternalApi));\n        qq.extend(inheritedInternalApi, {\n            handleFilenameEdit: function(id, target, focusInput) {\n                var newFilenameInputEl = spec.templating.getEditInput(id);\n                spec.onEditingStatusChange(id, true);\n                newFilenameInputEl.value = getFilenameSansExtension(id);\n                if (focusInput) {\n                    newFilenameInputEl.focus();\n                }\n                registerInputBlurHandler(newFilenameInputEl, id);\n                registerInputEnterKeyHandler(newFilenameInputEl, id);\n            }\n        });\n    };\n})(window);\n//# sourceMappingURL=fine-uploader.js.map","\"use strict\";\n\nmodule.exports = require(\"../fine-uploader/fine-uploader\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(2706);\n"],"sourceRoot":""}